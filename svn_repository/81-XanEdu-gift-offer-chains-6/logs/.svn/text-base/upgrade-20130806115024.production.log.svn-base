11:50:27 SQL> @/dbbackups/ECPR/migrations/core_owner/81-XanEdu-gift-offer-chains-6/upgrade.sql
11:50:27 SQL> WHENEVER SQLERROR EXIT SQL.SQLCODE ROLLBACK
11:50:27 SQL> SET SCAN OFF
11:50:27 SQL> SET DEFINE OFF
11:50:27 SQL> DECLARE
11:50:27   2  TMP_VAR NUMBER;
11:50:27   3  CUR_PRD_ID NUMBER;
11:50:27   4  CUR_CAPABILITY_ID NUMBER;
11:50:27   5  BEGIN
11:50:27   6  BEGIN
11:50:27   7  	SELECT 1 INTO TMP_VAR FROM OFFER_CHAIN WHERE ID = 88815001 AND ROWNUM <= 1;
11:50:27   8  	UPDATE OFFER_CHAIN SET NAME='NYTimes: Web + Smartphone App', DESCRIPTION='Unlimited access to NYTimes.com and the NYTimes smartphone app.*', PRODUCT_URI='', VENDOR_SOURCE_ID='1', BILLING_SOURCE_ID=(SELECT ID FROM BILLING_SOURCE BS WHERE BS.NAME='Sartre'), IS_SEAT_LICENSE=0, GROUP_ACCOUNT_TYPE_ID='NO',IS_ADDRESS_REQUIRED=1, OFFER_CHAIN_STATUS_ID = 1, UPDATE_DATE = SYSDATE, UPDATED_BY = 'OFFERMAKER', IS_GIFT_CERTIFICATE='1', REVOKE_ENTITLEMENTS = '0', ADOPTABILITY_WINDOW_START_DATE = to_date('31-Jul-2013 00:00:00','DD-MON-YY HH24:MI:SS'), ADOPTABILITY_WINDOW_END_DATE = to_date('01-Jan-2019 00:00:00','DD-MON-YY HH24:MI:SS'), AMAZON_APPSTORE_SKU=NULL WHERE ID = 88815001;
11:50:27   9  EXCEPTION
11:50:27  10  	WHEN NO_DATA_FOUND THEN
11:50:27  11  	  INSERT INTO OFFER_CHAIN (ID, NAME, DESCRIPTION, ADOPTABILITY_WINDOW_START_DATE, ADOPTABILITY_WINDOW_END_DATE, IS_GIFT_CERTIFICATE, PRODUCT_URI, OFFER_CHAIN_STATUS_ID, REVOKE_ENTITLEMENTS, VENDOR_SOURCE_ID, BILLING_SOURCE_ID, IS_SEAT_LICENSE, GROUP_ACCOUNT_TYPE_ID, IS_ADDRESS_REQUIRED, AMAZON_APPSTORE_SKU, CREATED_BY, CREATE_DATE, updated_by, update_date) VALUES (88815001, 'NYTimes: Web + Smartphone App', 'Unlimited access to NYTimes.com and the NYTimes smartphone app.*', to_date('31-Jul-2013 00:00:00','DD-MON-YY HH24:MI:SS'), to_date('01-Jan-2019 00:00:00','DD-MON-YY HH24:MI:SS'), '1', NULL, '1', '0', '1', (SELECT ID FROM BILLING_SOURCE BS WHERE BS.NAME='Sartre'), decode('NO','IL',1,0), 'NO', '1', '', 'OFFERMAKER', SYSDATE, 'OFFERMAKER', SYSDATE);
11:50:27  12  END;
11:50:27  13  DELETE FROM OFFER_CHAIN_ELIGIBILITY WHERE offer_chain_id = 88815001;
11:50:27  14  INSERT INTO OFFER_CHAIN_ELIGIBILITY (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (ELG_ID_SEQ.NEXTVAL, 88815001, 'IS_COMP', '1', 'OFFERMAKER', SYSDATE);
11:50:27  15  INSERT INTO OFFER_CHAIN_ELIGIBILITY (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (ELG_ID_SEQ.NEXTVAL, 88815001, 'REDEEMER_PROHIBITED_ENTITLEMENTS', 'mm,msd,mow,timesreader', 'OFFERMAKER', SYSDATE);
11:50:27  16  DELETE FROM OFFER_CHAIN_META_DATA WHERE offer_chain_id = 88815001;
11:50:27  17  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815001, 'BUNDLE_EXPLANATION', 'Bundle A - 16 Week Gift Sub - Purchase OC XanEdu ', 'OFFERMAKER', SYSDATE);
11:50:27  18  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815001, 'PRICE_DESCRIPTION', '4 Month Gift Subscription - $0 for 16 weeks - purchase', 'OFFERMAKER', SYSDATE);
11:50:27  19  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815001, 'PRICE_SHORT_DESCRIPTION', 'BNDL A / $0 16 wks GC purch', 'OFFERMAKER', SYSDATE);
11:50:27  20  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815001, 'OFFER_TYPE', 'Edu Digital Gift Subscription for 16 weeks- XanEdu ', 'OFFERMAKER', SYSDATE);
11:50:27  21  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815001, 'OFFER_PRICE_DESCRIPTOR', '16 Weeks Gift Certificate', 'OFFERMAKER', SYSDATE);
11:50:27  22  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815001, 'OFFER_PRICE', '$0 for 16 weeks', 'OFFERMAKER', SYSDATE);
11:50:27  23  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815001, 'PROMO_PRICE_FOOTER_LABEL', '16 Weeks', 'OFFERMAKER', SYSDATE);
11:50:27  24  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815001, 'BILLING_CYCLE', 'You will be billed for a 16 week gift subscription in full.', 'OFFERMAKER', SYSDATE);
11:50:27  25  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815001, 'SUBSCRIBER_TYPE', 'Education', 'OFFERMAKER', SYSDATE);
11:50:27  26  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815001, 'ABOUT_ORDER', 'The full purchase price for gift subscriptions will be charged at the time of purchase and is non-refundable.  Redemption codes are not replaceable. Prices are in U.S. dollars and are subject to change. Other restrictions may apply.  Gift subscription period begins the day of redemption.  Redemption code expires five years after date of purchase.', 'OFFERMAKER', SYSDATE);
11:50:27  27  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815001, 'redemption offer chain id', '99915002', 'OFFERMAKER', SYSDATE);
11:50:27  28  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815001, 'OPEN_TO_ANONYMOUS', '1', 'OFFERMAKER', SYSDATE);
11:50:27  29  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815001, 'BUNDLE', 'Bundle A (Web+SP)', 'OFFERMAKER', SYSDATE);
11:50:27  30  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815001, 'ADX_BUNDLE', 'MM_EDU', 'OFFERMAKER', SYSDATE);
11:50:27  31  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815001, 'SIEBEL_CAMPAIGN_CODE', '3KL8R', 'OFFERMAKER', SYSDATE);
11:50:27  32  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815001, 'IS_COMP', '1', 'OFFERMAKER', SYSDATE);
11:50:27  33  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815001, 'SOCIAL_DISPLAY', 'nyt-bundle', 'OFFERMAKER', SYSDATE);
11:50:27  34  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815001, 'ANNUAL_PRICE', '195.00', 'OFFERMAKER', SYSDATE);
11:50:27  35  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815001, 'UID', 'd92f00de45d3037f0fec455ed19110066b4c8a4a380a8ea5e7e8620ef7327152', 'OFFERMAKER', SYSDATE);
11:50:27  36  DELETE FROM OFFER_CHAIN_NOTIFICATION_TYPE WHERE offer_chain_id = 88815001;
11:50:27  37  BEGIN
11:50:27  38  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'SUBSCRIBE_TO_OFFER_CHAIN';
11:50:27  39  EXCEPTION
11:50:27  40  	WHEN NO_DATA_FOUND THEN
11:50:27  41  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'SUBSCRIBE_TO_OFFER_CHAIN', SYSDATE, 'OFFERMAKER');
11:50:27  42  END;
11:50:27  43  BEGIN
11:50:27  44  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-purchase';
11:50:27  45  EXCEPTION
11:50:27  46  	WHEN NO_DATA_FOUND THEN NULL;
11:50:27  47  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-gift-purchase', 'N/A');
11:50:27  48  END;
11:50:27  49  BEGIN
11:50:27  50  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'UPGRADE_SUBSCRIPTION';
11:50:27  51  EXCEPTION
11:50:27  52  	WHEN NO_DATA_FOUND THEN
11:50:27  53  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'UPGRADE_SUBSCRIPTION', SYSDATE, 'OFFERMAKER');
11:50:27  54  END;
11:50:27  55  BEGIN
11:50:27  56  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-purchase';
11:50:27  57  EXCEPTION
11:50:27  58  	WHEN NO_DATA_FOUND THEN NULL;
11:50:27  59  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-gift-purchase', 'N/A');
11:50:27  60  END;
11:50:27  61  BEGIN
11:50:27  62  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'CANCEL_SUBSCRIPTION';
11:50:27  63  EXCEPTION
11:50:27  64  	WHEN NO_DATA_FOUND THEN
11:50:27  65  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'CANCEL_SUBSCRIPTION', SYSDATE, 'OFFERMAKER');
11:50:27  66  END;
11:50:27  67  BEGIN
11:50:27  68  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-cancel';
11:50:27  69  EXCEPTION
11:50:27  70  	WHEN NO_DATA_FOUND THEN NULL;
11:50:27  71  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-cancel', 'N/A');
11:50:27  72  END;
11:50:27  73  BEGIN
11:50:27  74  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'SYSTEM_CANCEL';
11:50:27  75  EXCEPTION
11:50:27  76  	WHEN NO_DATA_FOUND THEN
11:50:27  77  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'SYSTEM_CANCEL', SYSDATE, 'OFFERMAKER');
11:50:27  78  END;
11:50:27  79  BEGIN
11:50:27  80  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-decline';
11:50:27  81  EXCEPTION
11:50:27  82  	WHEN NO_DATA_FOUND THEN NULL;
11:50:27  83  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-gift-decline', 'N/A');
11:50:27  84  END;
11:50:27  85  BEGIN
11:50:27  86  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'CREDIT_CARD_EXP';
11:50:27  87  EXCEPTION
11:50:27  88  	WHEN NO_DATA_FOUND THEN
11:50:27  89  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'CREDIT_CARD_EXP', SYSDATE, 'OFFERMAKER');
11:50:27  90  END;
11:50:27  91  BEGIN
11:50:27  92  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'card_expiration';
11:50:27  93  EXCEPTION
11:50:27  94  	WHEN NO_DATA_FOUND THEN NULL;
11:50:27  95  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'card_expiration', 'N/A');
11:50:27  96  END;
11:50:27  97  BEGIN
11:50:27  98  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_PURCHASE';
11:50:27  99  EXCEPTION
11:50:27 100  	WHEN NO_DATA_FOUND THEN
11:50:27 101  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'GC_REDEEMER_ON_PURCHASE', SYSDATE, 'OFFERMAKER');
11:50:27 102  END;
11:50:27 103  BEGIN
11:50:27 104  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-subscription';
11:50:27 105  EXCEPTION
11:50:27 106  	WHEN NO_DATA_FOUND THEN NULL;
11:50:27 107  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-gift-subscription', 'N/A');
11:50:27 108  END;
11:50:27 109  BEGIN
11:50:27 110  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_PURCHASE_30DAY';
11:50:27 111  EXCEPTION
11:50:27 112  	WHEN NO_DATA_FOUND THEN
11:50:27 113  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'GC_REDEEMER_ON_PURCHASE_30DAY', SYSDATE, 'OFFERMAKER');
11:50:27 114  END;
11:50:27 115  BEGIN
11:50:27 116  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-recipient-30days-reminder';
11:50:27 117  EXCEPTION
11:50:27 118  	WHEN NO_DATA_FOUND THEN NULL;
11:50:27 119  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-recipient-30days-reminder', 'N/A');
11:50:27 120  END;
11:50:27 121  BEGIN
11:50:27 122  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_PURCHASE_90DAY';
11:50:27 123  EXCEPTION
11:50:27 124  	WHEN NO_DATA_FOUND THEN
11:50:27 125  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'GC_REDEEMER_ON_PURCHASE_90DAY', SYSDATE, 'OFFERMAKER');
11:50:27 126  END;
11:50:27 127  BEGIN
11:50:27 128  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-recipient-90days-reminder';
11:50:27 129  EXCEPTION
11:50:27 130  	WHEN NO_DATA_FOUND THEN NULL;
11:50:27 131  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-recipient-90days-reminder', 'N/A');
11:50:27 132  END;
11:50:27 133  BEGIN
11:50:27 134  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'PURCHASE_GIFT_CERTIFICATE';
11:50:27 135  EXCEPTION
11:50:27 136  	WHEN NO_DATA_FOUND THEN
11:50:27 137  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'PURCHASE_GIFT_CERTIFICATE', SYSDATE, 'OFFERMAKER');
11:50:27 138  END;
11:50:27 139  BEGIN
11:50:27 140  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-purchase';
11:50:27 141  EXCEPTION
11:50:27 142  	WHEN NO_DATA_FOUND THEN NULL;
11:50:27 143  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-gift-purchase', 'N/A');
11:50:27 144  END;
11:50:27 145  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 88815001, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-purchase'), (SELECT ID FROM ACTION WHERE NAME = 'SUBSCRIBE_TO_OFFER_CHAIN'), 'OFFERMAKER', SYSDATE);
11:50:27 146  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 88815001, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-purchase'), (SELECT ID FROM ACTION WHERE NAME = 'UPGRADE_SUBSCRIPTION'), 'OFFERMAKER', SYSDATE);
11:50:27 147  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 88815001, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-cancel'), (SELECT ID FROM ACTION WHERE NAME = 'CANCEL_SUBSCRIPTION'), 'OFFERMAKER', SYSDATE);
11:50:27 148  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 88815001, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-decline'), (SELECT ID FROM ACTION WHERE NAME = 'SYSTEM_CANCEL'), 'OFFERMAKER', SYSDATE);
11:50:27 149  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 88815001, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'card_expiration'), (SELECT ID FROM ACTION WHERE NAME = 'CREDIT_CARD_EXP'), 'OFFERMAKER', SYSDATE);
11:50:27 150  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 88815001, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-subscription'), (SELECT ID FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_PURCHASE'), 'OFFERMAKER', SYSDATE);
11:50:27 151  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 88815001, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-recipient-30days-reminder'), (SELECT ID FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_PURCHASE_30DAY'), 'OFFERMAKER', SYSDATE);
11:50:27 152  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 88815001, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-recipient-90days-reminder'), (SELECT ID FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_PURCHASE_90DAY'), 'OFFERMAKER', SYSDATE);
11:50:27 153  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 88815001, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-purchase'), (SELECT ID FROM ACTION WHERE NAME = 'PURCHASE_GIFT_CERTIFICATE'), 'OFFERMAKER', SYSDATE);
11:50:27 154  BEGIN
11:50:27 155  	SELECT 1 INTO TMP_VAR FROM OFFER_OFFER_CHAIN WHERE OFFER_CHAIN_ID = 88815001 AND INDEX_VALUE = 0 AND ROWNUM <= 1;
11:50:27 156  EXCEPTION
11:50:27 157  	WHEN NO_DATA_FOUND THEN
11:50:27 158  INSERT INTO OFFER (ID, OFFER_STATUS_ID, ENTITLEMENT_DURATION, CREATED_BY, CREATE_DATE, updated_by, update_date) VALUES (OFR_ID_SEQ.NEXTVAL, 1, 'P0Y0M112DT0H0M', 'OFFERMAKER', SYSDATE, 'OFFERMAKER', SYSDATE);
11:50:27 159  BEGIN
11:50:27 160  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Web' AND ROWNUM <= 1;
11:50:27 161  EXCEPTION
11:50:27 162  	WHEN NO_DATA_FOUND THEN
11:50:27 163  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Web', 'OFFERMAKER', SYSDATE);
11:50:27 164  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Web' AND ROWNUM <= 1;
11:50:27 165  	WHEN OTHERS THEN
11:50:27 166  	  RAISE;
11:50:27 167  END;
11:50:27 168  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '2', '112', '0.357143', 'OFFERMAKER', SYSDATE);
11:50:27 169  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
11:50:27 170  INSERT INTO DISCOUNT (ID, NAME, DESCRIPTION, FIXED_AMOUNT, PERCENT_AMOUNT, DISCOUNT_TYPE_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.NEXTVAL, 'Discount', 'Off: 0.0. P.Disc: 0.0000. P.Full: 40.0000', '40.00', '0', 1, 'OFFERMAKER', SYSDATE);
11:50:27 171  INSERT INTO DISCOUNT_PRODUCT_OFFERING (DISCOUNT_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
11:50:27 172  BEGIN
11:50:27 173  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Mobile' AND ROWNUM <= 1;
11:50:27 174  EXCEPTION
11:50:27 175  	WHEN NO_DATA_FOUND THEN
11:50:27 176  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Mobile', 'OFFERMAKER', SYSDATE);
11:50:27 177  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Mobile' AND ROWNUM <= 1;
11:50:27 178  	WHEN OTHERS THEN
11:50:27 179  	  RAISE;
11:50:27 180  END;
11:50:27 181  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '112', '0', 'OFFERMAKER', SYSDATE);
11:50:27 182  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
11:50:27 183  BEGIN
11:50:27 184  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Archive Article' AND ROWNUM <= 1;
11:50:27 185  EXCEPTION
11:50:27 186  	WHEN NO_DATA_FOUND THEN
11:50:27 187  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Archive Article', 'OFFERMAKER', SYSDATE);
11:50:27 188  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Archive Article' AND ROWNUM <= 1;
11:50:27 189  	WHEN OTHERS THEN
11:50:27 190  	  RAISE;
11:50:27 191  END;
11:50:27 192  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '400', '0', 'OFFERMAKER', SYSDATE);
11:50:27 193  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
11:50:27 194  BEGIN
11:50:27 195  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'TimesMachine' AND ROWNUM <= 1;
11:50:27 196  EXCEPTION
11:50:27 197  	WHEN NO_DATA_FOUND THEN
11:50:27 198  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'TimesMachine', 'OFFERMAKER', SYSDATE);
11:50:27 199  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'TimesMachine' AND ROWNUM <= 1;
11:50:27 200  	WHEN OTHERS THEN
11:50:27 201  	  RAISE;
11:50:27 202  END;
11:50:27 203  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '112', '0', 'OFFERMAKER', SYSDATE);
11:50:27 204  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
11:50:27 205  BEGIN
11:50:27 206  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Smartphone' AND ROWNUM <= 1;
11:50:27 207  EXCEPTION
11:50:27 208  	WHEN NO_DATA_FOUND THEN
11:50:27 209  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Smartphone', 'OFFERMAKER', SYSDATE);
11:50:27 210  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Smartphone' AND ROWNUM <= 1;
11:50:27 211  	WHEN OTHERS THEN
11:50:27 212  	  RAISE;
11:50:27 213  END;
11:50:27 214  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '2', '112', '0.178571', 'OFFERMAKER', SYSDATE);
11:50:27 215  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
11:50:27 216  INSERT INTO DISCOUNT (ID, NAME, DESCRIPTION, FIXED_AMOUNT, PERCENT_AMOUNT, DISCOUNT_TYPE_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.NEXTVAL, 'Discount', 'Off: 0.0. P.Disc: 0.0000. P.Full: 20.0000', '20.00', '0', 1, 'OFFERMAKER', SYSDATE);
11:50:27 217  INSERT INTO DISCOUNT_PRODUCT_OFFERING (DISCOUNT_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
11:50:27 218  INSERT INTO OFFER_OFFER_CHAIN (OFFER_ID, OFFER_CHAIN_ID, INDEX_VALUE, NUM_RECURRENCES, CREATED_BY, CREATE_DATE, updated_by, update_date) VALUES (OFR_ID_SEQ.CURRVAL, 88815001, '0', '1', 'OFFERMAKER', SYSDATE, 'OFFERMAKER', SYSDATE);
11:50:27 219  END;
11:50:27 220  END;
11:50:27 221  /

PL/SQL procedure successfully completed.

Elapsed: 00:00:01.40
11:50:28 SQL> COMMIT;

Commit complete.

Elapsed: 00:00:00.00
11:50:28 SQL> DECLARE
11:50:28   2  TMP_VAR NUMBER;
11:50:28   3  CUR_PRD_ID NUMBER;
11:50:28   4  CUR_CAPABILITY_ID NUMBER;
11:50:28   5  BEGIN
11:50:28   6  BEGIN
11:50:28   7  	SELECT 1 INTO TMP_VAR FROM OFFER_CHAIN WHERE ID = 88815002 AND ROWNUM <= 1;
11:50:28   8  	UPDATE OFFER_CHAIN SET NAME='NYTimes: Web + Smartphone App', DESCRIPTION='Unlimited access to NYTimes.com and the NYTimes smartphone app.*', PRODUCT_URI='', VENDOR_SOURCE_ID='1', BILLING_SOURCE_ID=(SELECT ID FROM BILLING_SOURCE BS WHERE BS.NAME='Sartre'), IS_SEAT_LICENSE=0, GROUP_ACCOUNT_TYPE_ID='NO',IS_ADDRESS_REQUIRED=1, OFFER_CHAIN_STATUS_ID = 1, UPDATE_DATE = SYSDATE, UPDATED_BY = 'OFFERMAKER', IS_GIFT_CERTIFICATE='0', REVOKE_ENTITLEMENTS = '0', ADOPTABILITY_WINDOW_START_DATE = to_date('31-Jul-2013 00:00:00','DD-MON-YY HH24:MI:SS'), ADOPTABILITY_WINDOW_END_DATE = to_date('01-Jan-2019 00:00:00','DD-MON-YY HH24:MI:SS'), AMAZON_APPSTORE_SKU=NULL WHERE ID = 88815002;
11:50:28   9  EXCEPTION
11:50:28  10  	WHEN NO_DATA_FOUND THEN
11:50:28  11  	  INSERT INTO OFFER_CHAIN (ID, NAME, DESCRIPTION, ADOPTABILITY_WINDOW_START_DATE, ADOPTABILITY_WINDOW_END_DATE, IS_GIFT_CERTIFICATE, PRODUCT_URI, OFFER_CHAIN_STATUS_ID, REVOKE_ENTITLEMENTS, VENDOR_SOURCE_ID, BILLING_SOURCE_ID, IS_SEAT_LICENSE, GROUP_ACCOUNT_TYPE_ID, IS_ADDRESS_REQUIRED, AMAZON_APPSTORE_SKU, CREATED_BY, CREATE_DATE, updated_by, update_date) VALUES (88815002, 'NYTimes: Web + Smartphone App', 'Unlimited access to NYTimes.com and the NYTimes smartphone app.*', to_date('31-Jul-2013 00:00:00','DD-MON-YY HH24:MI:SS'), to_date('01-Jan-2019 00:00:00','DD-MON-YY HH24:MI:SS'), '0', NULL, '1', '0', '1', (SELECT ID FROM BILLING_SOURCE BS WHERE BS.NAME='Sartre'), decode('NO','IL',1,0), 'NO', '1', '', 'OFFERMAKER', SYSDATE, 'OFFERMAKER', SYSDATE);
11:50:28  12  END;
11:50:28  13  DELETE FROM OFFER_CHAIN_ELIGIBILITY WHERE offer_chain_id = 88815002;
11:50:28  14  INSERT INTO OFFER_CHAIN_ELIGIBILITY (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (ELG_ID_SEQ.NEXTVAL, 88815002, 'GIFT CERTIFICATE REQUIRED', '1', 'OFFERMAKER', SYSDATE);
11:50:28  15  INSERT INTO OFFER_CHAIN_ELIGIBILITY (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (ELG_ID_SEQ.NEXTVAL, 88815002, 'IS_COMP', '1', 'OFFERMAKER', SYSDATE);
11:50:28  16  INSERT INTO OFFER_CHAIN_ELIGIBILITY (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (ELG_ID_SEQ.NEXTVAL, 88815002, 'MAX_CONCURRENT_SUBS', '1', 'OFFERMAKER', SYSDATE);
11:50:28  17  DELETE FROM OFFER_CHAIN_META_DATA WHERE offer_chain_id = 88815002;
11:50:28  18  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815002, 'BUNDLE_EXPLANATION', 'Bundle A - 16 Week Gift Sub - Redeem OC XanEdu ', 'OFFERMAKER', SYSDATE);
11:50:28  19  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815002, 'PRICE_DESCRIPTION', '4 Month Gift Subscription - $0 for 16 weeks - redeem', 'OFFERMAKER', SYSDATE);
11:50:28  20  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815002, 'PRICE_SHORT_DESCRIPTION', 'BNDL A / $0 16 wks GC redemp', 'OFFERMAKER', SYSDATE);
11:50:28  21  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815002, 'OFFER_TYPE', 'Edu Digital Gift Subscription for 16 weeks- XanEdu ', 'OFFERMAKER', SYSDATE);
11:50:28  22  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815002, 'PROMO_PRICE_FOOTER_LABEL', '16 Weeks', 'OFFERMAKER', SYSDATE);
11:50:28  23  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815002, 'BILLING_CYCLE', '16 week gift', 'OFFERMAKER', SYSDATE);
11:50:28  24  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815002, 'SUBSCRIBER_TYPE', 'Education', 'OFFERMAKER', SYSDATE);
11:50:28  25  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815002, 'OPEN_TO_ANONYMOUS', '1', 'OFFERMAKER', SYSDATE);
11:50:28  26  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815002, 'BUNDLE', 'Bundle A (Web+SP)', 'OFFERMAKER', SYSDATE);
11:50:28  27  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815002, 'ADX_BUNDLE', 'MM_EDU', 'OFFERMAKER', SYSDATE);
11:50:28  28  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815002, 'SIEBEL_CAMPAIGN_CODE', '3KL8R', 'OFFERMAKER', SYSDATE);
11:50:28  29  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815002, 'IS_COMP', '1', 'OFFERMAKER', SYSDATE);
11:50:28  30  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815002, 'ANNUAL_PRICE', '195.00', 'OFFERMAKER', SYSDATE);
11:50:28  31  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815002, 'UID', '59e887f2338d122aa582ad13a70b2c70aff08ed19688e9ed05e66d6fa171237b', 'OFFERMAKER', SYSDATE);
11:50:28  32  DELETE FROM OFFER_CHAIN_NOTIFICATION_TYPE WHERE offer_chain_id = 88815002;
11:50:28  33  BEGIN
11:50:28  34  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'SUBSCRIBE_TO_OFFER_CHAIN';
11:50:28  35  EXCEPTION
11:50:28  36  	WHEN NO_DATA_FOUND THEN
11:50:28  37  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'SUBSCRIBE_TO_OFFER_CHAIN', SYSDATE, 'OFFERMAKER');
11:50:28  38  END;
11:50:28  39  BEGIN
11:50:28  40  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-purchase';
11:50:28  41  EXCEPTION
11:50:28  42  	WHEN NO_DATA_FOUND THEN NULL;
11:50:28  43  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-purchase', 'N/A');
11:50:28  44  END;
11:50:28  45  BEGIN
11:50:28  46  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'UPGRADE_SUBSCRIPTION';
11:50:28  47  EXCEPTION
11:50:28  48  	WHEN NO_DATA_FOUND THEN
11:50:28  49  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'UPGRADE_SUBSCRIPTION', SYSDATE, 'OFFERMAKER');
11:50:28  50  END;
11:50:28  51  BEGIN
11:50:28  52  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-purchase';
11:50:28  53  EXCEPTION
11:50:28  54  	WHEN NO_DATA_FOUND THEN NULL;
11:50:28  55  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-purchase', 'N/A');
11:50:28  56  END;
11:50:28  57  BEGIN
11:50:28  58  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'CANCEL_SUBSCRIPTION';
11:50:28  59  EXCEPTION
11:50:28  60  	WHEN NO_DATA_FOUND THEN
11:50:28  61  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'CANCEL_SUBSCRIPTION', SYSDATE, 'OFFERMAKER');
11:50:28  62  END;
11:50:28  63  BEGIN
11:50:28  64  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-cancel';
11:50:28  65  EXCEPTION
11:50:28  66  	WHEN NO_DATA_FOUND THEN NULL;
11:50:28  67  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-cancel', 'N/A');
11:50:28  68  END;
11:50:28  69  BEGIN
11:50:28  70  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'SYSTEM_CANCEL';
11:50:28  71  EXCEPTION
11:50:28  72  	WHEN NO_DATA_FOUND THEN
11:50:28  73  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'SYSTEM_CANCEL', SYSDATE, 'OFFERMAKER');
11:50:28  74  END;
11:50:28  75  BEGIN
11:50:28  76  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-decline';
11:50:28  77  EXCEPTION
11:50:28  78  	WHEN NO_DATA_FOUND THEN NULL;
11:50:28  79  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-decline', 'N/A');
11:50:28  80  END;
11:50:28  81  BEGIN
11:50:28  82  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'CREDIT_CARD_EXP';
11:50:28  83  EXCEPTION
11:50:28  84  	WHEN NO_DATA_FOUND THEN
11:50:28  85  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'CREDIT_CARD_EXP', SYSDATE, 'OFFERMAKER');
11:50:28  86  END;
11:50:28  87  BEGIN
11:50:28  88  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'card_expiration';
11:50:28  89  EXCEPTION
11:50:28  90  	WHEN NO_DATA_FOUND THEN NULL;
11:50:28  91  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'card_expiration', 'N/A');
11:50:28  92  END;
11:50:28  93  BEGIN
11:50:28  94  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_REDEEM';
11:50:28  95  EXCEPTION
11:50:28  96  	WHEN NO_DATA_FOUND THEN
11:50:28  97  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'GC_REDEEMER_ON_REDEEM', SYSDATE, 'OFFERMAKER');
11:50:28  98  END;
11:50:28  99  BEGIN
11:50:28 100  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-sub-activation';
11:50:28 101  EXCEPTION
11:50:28 102  	WHEN NO_DATA_FOUND THEN NULL;
11:50:28 103  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-gift-sub-activation', 'N/A');
11:50:28 104  END;
11:50:28 105  BEGIN
11:50:28 106  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'CLOSE_SUBSCRIPTION';
11:50:28 107  EXCEPTION
11:50:28 108  	WHEN NO_DATA_FOUND THEN
11:50:28 109  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'CLOSE_SUBSCRIPTION', SYSDATE, 'OFFERMAKER');
11:50:28 110  END;
11:50:28 111  BEGIN
11:50:28 112  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-sub-expired-gift';
11:50:28 113  EXCEPTION
11:50:28 114  	WHEN NO_DATA_FOUND THEN NULL;
11:50:28 115  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-sub-expired-gift', 'N/A');
11:50:28 116  END;
11:50:28 117  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 88815002, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-purchase'), (SELECT ID FROM ACTION WHERE NAME = 'SUBSCRIBE_TO_OFFER_CHAIN'), 'OFFERMAKER', SYSDATE);
11:50:28 118  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 88815002, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-purchase'), (SELECT ID FROM ACTION WHERE NAME = 'UPGRADE_SUBSCRIPTION'), 'OFFERMAKER', SYSDATE);
11:50:28 119  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 88815002, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-cancel'), (SELECT ID FROM ACTION WHERE NAME = 'CANCEL_SUBSCRIPTION'), 'OFFERMAKER', SYSDATE);
11:50:28 120  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 88815002, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-decline'), (SELECT ID FROM ACTION WHERE NAME = 'SYSTEM_CANCEL'), 'OFFERMAKER', SYSDATE);
11:50:28 121  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 88815002, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'card_expiration'), (SELECT ID FROM ACTION WHERE NAME = 'CREDIT_CARD_EXP'), 'OFFERMAKER', SYSDATE);
11:50:28 122  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 88815002, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-sub-activation'), (SELECT ID FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_REDEEM'), 'OFFERMAKER', SYSDATE);
11:50:28 123  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 88815002, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-sub-expired-gift'), (SELECT ID FROM ACTION WHERE NAME = 'CLOSE_SUBSCRIPTION'), 'OFFERMAKER', SYSDATE);
11:50:28 124  BEGIN
11:50:28 125  	SELECT 1 INTO TMP_VAR FROM OFFER_OFFER_CHAIN WHERE OFFER_CHAIN_ID = 88815002 AND INDEX_VALUE = 0 AND ROWNUM <= 1;
11:50:28 126  EXCEPTION
11:50:28 127  	WHEN NO_DATA_FOUND THEN
11:50:28 128  INSERT INTO OFFER (ID, OFFER_STATUS_ID, ENTITLEMENT_DURATION, CREATED_BY, CREATE_DATE, updated_by, update_date) VALUES (OFR_ID_SEQ.NEXTVAL, 1, 'P0Y0M112DT0H0M', 'OFFERMAKER', SYSDATE, 'OFFERMAKER', SYSDATE);
11:50:28 129  BEGIN
11:50:28 130  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Web' AND ROWNUM <= 1;
11:50:28 131  EXCEPTION
11:50:28 132  	WHEN NO_DATA_FOUND THEN
11:50:28 133  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Web', 'OFFERMAKER', SYSDATE);
11:50:28 134  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Web' AND ROWNUM <= 1;
11:50:28 135  	WHEN OTHERS THEN
11:50:28 136  	  RAISE;
11:50:28 137  END;
11:50:28 138  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '112', '0.357143', 'OFFERMAKER', SYSDATE);
11:50:28 139  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
11:50:28 140  INSERT INTO DISCOUNT (ID, NAME, DESCRIPTION, FIXED_AMOUNT, PERCENT_AMOUNT, DISCOUNT_TYPE_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.NEXTVAL, 'Discount', 'Off: 0.0. P.Disc: 0.0000. P.Full: 40.0000', '40.00', '0', 1, 'OFFERMAKER', SYSDATE);
11:50:28 141  INSERT INTO DISCOUNT_PRODUCT_OFFERING (DISCOUNT_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
11:50:28 142  BEGIN
11:50:28 143  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Mobile' AND ROWNUM <= 1;
11:50:28 144  EXCEPTION
11:50:28 145  	WHEN NO_DATA_FOUND THEN
11:50:28 146  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Mobile', 'OFFERMAKER', SYSDATE);
11:50:28 147  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Mobile' AND ROWNUM <= 1;
11:50:28 148  	WHEN OTHERS THEN
11:50:28 149  	  RAISE;
11:50:28 150  END;
11:50:28 151  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '112', '0', 'OFFERMAKER', SYSDATE);
11:50:28 152  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
11:50:28 153  BEGIN
11:50:28 154  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Archive Article' AND ROWNUM <= 1;
11:50:28 155  EXCEPTION
11:50:28 156  	WHEN NO_DATA_FOUND THEN
11:50:28 157  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Archive Article', 'OFFERMAKER', SYSDATE);
11:50:28 158  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Archive Article' AND ROWNUM <= 1;
11:50:28 159  	WHEN OTHERS THEN
11:50:28 160  	  RAISE;
11:50:28 161  END;
11:50:28 162  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '400', '0', 'OFFERMAKER', SYSDATE);
11:50:28 163  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
11:50:28 164  BEGIN
11:50:28 165  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'TimesMachine' AND ROWNUM <= 1;
11:50:28 166  EXCEPTION
11:50:28 167  	WHEN NO_DATA_FOUND THEN
11:50:28 168  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'TimesMachine', 'OFFERMAKER', SYSDATE);
11:50:28 169  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'TimesMachine' AND ROWNUM <= 1;
11:50:28 170  	WHEN OTHERS THEN
11:50:28 171  	  RAISE;
11:50:28 172  END;
11:50:28 173  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '112', '0', 'OFFERMAKER', SYSDATE);
11:50:28 174  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
11:50:28 175  BEGIN
11:50:28 176  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Smartphone' AND ROWNUM <= 1;
11:50:28 177  EXCEPTION
11:50:28 178  	WHEN NO_DATA_FOUND THEN
11:50:28 179  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Smartphone', 'OFFERMAKER', SYSDATE);
11:50:28 180  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Smartphone' AND ROWNUM <= 1;
11:50:28 181  	WHEN OTHERS THEN
11:50:28 182  	  RAISE;
11:50:28 183  END;
11:50:28 184  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '112', '0.178571', 'OFFERMAKER', SYSDATE);
11:50:28 185  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
11:50:28 186  INSERT INTO DISCOUNT (ID, NAME, DESCRIPTION, FIXED_AMOUNT, PERCENT_AMOUNT, DISCOUNT_TYPE_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.NEXTVAL, 'Discount', 'Off: 0.0. P.Disc: 0.0000. P.Full: 20.0000', '20.00', '0', 1, 'OFFERMAKER', SYSDATE);
11:50:28 187  INSERT INTO DISCOUNT_PRODUCT_OFFERING (DISCOUNT_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
11:50:28 188  INSERT INTO OFFER_OFFER_CHAIN (OFFER_ID, OFFER_CHAIN_ID, INDEX_VALUE, NUM_RECURRENCES, CREATED_BY, CREATE_DATE, updated_by, update_date) VALUES (OFR_ID_SEQ.CURRVAL, 88815002, '0', '1', 'OFFERMAKER', SYSDATE, 'OFFERMAKER', SYSDATE);
11:50:28 189  END;
11:50:28 190  END;
11:50:28 191  /

PL/SQL procedure successfully completed.

Elapsed: 00:00:00.07
11:50:28 SQL> COMMIT;

Commit complete.

Elapsed: 00:00:00.01
11:50:28 SQL> DECLARE
11:50:28   2  TMP_VAR NUMBER;
11:50:28   3  CUR_PRD_ID NUMBER;
11:50:28   4  CUR_CAPABILITY_ID NUMBER;
11:50:28   5  BEGIN
11:50:28   6  BEGIN
11:50:28   7  	SELECT 1 INTO TMP_VAR FROM OFFER_CHAIN WHERE ID = 88815003 AND ROWNUM <= 1;
11:50:28   8  	UPDATE OFFER_CHAIN SET NAME='NYTimes: Web + Tablet App', DESCRIPTION='Unlimited access to NYTimes.com and the NYTimes tablet app.*', PRODUCT_URI='', VENDOR_SOURCE_ID='1', BILLING_SOURCE_ID=(SELECT ID FROM BILLING_SOURCE BS WHERE BS.NAME='Sartre'), IS_SEAT_LICENSE=0, GROUP_ACCOUNT_TYPE_ID='NO',IS_ADDRESS_REQUIRED=1, OFFER_CHAIN_STATUS_ID = 1, UPDATE_DATE = SYSDATE, UPDATED_BY = 'OFFERMAKER', IS_GIFT_CERTIFICATE='1', REVOKE_ENTITLEMENTS = '0', ADOPTABILITY_WINDOW_START_DATE = to_date('31-Jul-2013 00:00:00','DD-MON-YY HH24:MI:SS'), ADOPTABILITY_WINDOW_END_DATE = to_date('01-Jan-2019 00:00:00','DD-MON-YY HH24:MI:SS'), AMAZON_APPSTORE_SKU=NULL WHERE ID = 88815003;
11:50:28   9  EXCEPTION
11:50:28  10  	WHEN NO_DATA_FOUND THEN
11:50:28  11  	  INSERT INTO OFFER_CHAIN (ID, NAME, DESCRIPTION, ADOPTABILITY_WINDOW_START_DATE, ADOPTABILITY_WINDOW_END_DATE, IS_GIFT_CERTIFICATE, PRODUCT_URI, OFFER_CHAIN_STATUS_ID, REVOKE_ENTITLEMENTS, VENDOR_SOURCE_ID, BILLING_SOURCE_ID, IS_SEAT_LICENSE, GROUP_ACCOUNT_TYPE_ID, IS_ADDRESS_REQUIRED, AMAZON_APPSTORE_SKU, CREATED_BY, CREATE_DATE, updated_by, update_date) VALUES (88815003, 'NYTimes: Web + Tablet App', 'Unlimited access to NYTimes.com and the NYTimes tablet app.*', to_date('31-Jul-2013 00:00:00','DD-MON-YY HH24:MI:SS'), to_date('01-Jan-2019 00:00:00','DD-MON-YY HH24:MI:SS'), '1', NULL, '1', '0', '1', (SELECT ID FROM BILLING_SOURCE BS WHERE BS.NAME='Sartre'), decode('NO','IL',1,0), 'NO', '1', '', 'OFFERMAKER', SYSDATE, 'OFFERMAKER', SYSDATE);
11:50:28  12  END;
11:50:28  13  DELETE FROM OFFER_CHAIN_ELIGIBILITY WHERE offer_chain_id = 88815003;
11:50:28  14  INSERT INTO OFFER_CHAIN_ELIGIBILITY (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (ELG_ID_SEQ.NEXTVAL, 88815003, 'IS_COMP', '1', 'OFFERMAKER', SYSDATE);
11:50:28  15  INSERT INTO OFFER_CHAIN_ELIGIBILITY (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (ELG_ID_SEQ.NEXTVAL, 88815003, 'REDEEMER_PROHIBITED_ENTITLEMENTS', 'mm,mtd,mow,timesreader', 'OFFERMAKER', SYSDATE);
11:50:28  16  DELETE FROM OFFER_CHAIN_META_DATA WHERE offer_chain_id = 88815003;
11:50:28  17  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815003, 'BUNDLE_EXPLANATION', 'Bundle B - 16 Week Gift Sub - Purchase OC XanEdu', 'OFFERMAKER', SYSDATE);
11:50:28  18  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815003, 'PRICE_DESCRIPTION', '4 Month Gift Subscription - $0 for 16 weeks - purchase', 'OFFERMAKER', SYSDATE);
11:50:28  19  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815003, 'PRICE_SHORT_DESCRIPTION', 'BNDL B / $0 16 wks GC purch', 'OFFERMAKER', SYSDATE);
11:50:28  20  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815003, 'OFFER_TYPE', 'Edu Digital Gift Subscription for 16 weeks- XanEdu ', 'OFFERMAKER', SYSDATE);
11:50:28  21  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815003, 'OFFER_PRICE_DESCRIPTOR', '16 Weeks Gift Certificate', 'OFFERMAKER', SYSDATE);
11:50:28  22  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815003, 'OFFER_PRICE', '$0 for 16 weeks', 'OFFERMAKER', SYSDATE);
11:50:28  23  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815003, 'PROMO_PRICE_FOOTER_LABEL', '16 Weeks', 'OFFERMAKER', SYSDATE);
11:50:28  24  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815003, 'BILLING_CYCLE', 'You will be billed for a 16 week gift subscription in full.', 'OFFERMAKER', SYSDATE);
11:50:28  25  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815003, 'SUBSCRIBER_TYPE', 'Education', 'OFFERMAKER', SYSDATE);
11:50:28  26  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815003, 'ABOUT_ORDER', 'The full purchase price for gift subscriptions will be charged at the time of purchase and is non-refundable.  Redemption codes are not replaceable. Prices are in U.S. dollars and are subject to change. Other restrictions may apply.  Gift subscription period begins the day of redemption.  Redemption code expires five years after date of purchase.', 'OFFERMAKER', SYSDATE);
11:50:28  27  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815003, 'redemption offer chain id', '99915004', 'OFFERMAKER', SYSDATE);
11:50:28  28  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815003, 'OPEN_TO_ANONYMOUS', '1', 'OFFERMAKER', SYSDATE);
11:50:28  29  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815003, 'BUNDLE', 'Bundle B (Web+Tab)', 'OFFERMAKER', SYSDATE);
11:50:28  30  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815003, 'ADX_BUNDLE', 'MM_EDU', 'OFFERMAKER', SYSDATE);
11:50:28  31  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815003, 'SIEBEL_CAMPAIGN_CODE', '3KL8U', 'OFFERMAKER', SYSDATE);
11:50:28  32  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815003, 'IS_COMP', '1', 'OFFERMAKER', SYSDATE);
11:50:28  33  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815003, 'SOCIAL_DISPLAY', 'nyt-bundle', 'OFFERMAKER', SYSDATE);
11:50:28  34  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815003, 'ANNUAL_PRICE', '260.00', 'OFFERMAKER', SYSDATE);
11:50:28  35  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815003, 'UID', '7ce264e3f81d8e193fb3433fbf950f273cb918b178896c025edb56c66d39082b', 'OFFERMAKER', SYSDATE);
11:50:28  36  DELETE FROM OFFER_CHAIN_NOTIFICATION_TYPE WHERE offer_chain_id = 88815003;
11:50:28  37  BEGIN
11:50:28  38  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'SUBSCRIBE_TO_OFFER_CHAIN';
11:50:28  39  EXCEPTION
11:50:28  40  	WHEN NO_DATA_FOUND THEN
11:50:28  41  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'SUBSCRIBE_TO_OFFER_CHAIN', SYSDATE, 'OFFERMAKER');
11:50:28  42  END;
11:50:28  43  BEGIN
11:50:28  44  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-purchase';
11:50:28  45  EXCEPTION
11:50:28  46  	WHEN NO_DATA_FOUND THEN NULL;
11:50:28  47  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-gift-purchase', 'N/A');
11:50:28  48  END;
11:50:28  49  BEGIN
11:50:28  50  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'UPGRADE_SUBSCRIPTION';
11:50:28  51  EXCEPTION
11:50:28  52  	WHEN NO_DATA_FOUND THEN
11:50:28  53  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'UPGRADE_SUBSCRIPTION', SYSDATE, 'OFFERMAKER');
11:50:28  54  END;
11:50:28  55  BEGIN
11:50:28  56  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-purchase';
11:50:28  57  EXCEPTION
11:50:28  58  	WHEN NO_DATA_FOUND THEN NULL;
11:50:28  59  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-gift-purchase', 'N/A');
11:50:28  60  END;
11:50:28  61  BEGIN
11:50:28  62  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'CANCEL_SUBSCRIPTION';
11:50:28  63  EXCEPTION
11:50:28  64  	WHEN NO_DATA_FOUND THEN
11:50:28  65  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'CANCEL_SUBSCRIPTION', SYSDATE, 'OFFERMAKER');
11:50:28  66  END;
11:50:28  67  BEGIN
11:50:28  68  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-cancel';
11:50:28  69  EXCEPTION
11:50:28  70  	WHEN NO_DATA_FOUND THEN NULL;
11:50:28  71  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-cancel', 'N/A');
11:50:28  72  END;
11:50:28  73  BEGIN
11:50:28  74  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'SYSTEM_CANCEL';
11:50:28  75  EXCEPTION
11:50:28  76  	WHEN NO_DATA_FOUND THEN
11:50:28  77  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'SYSTEM_CANCEL', SYSDATE, 'OFFERMAKER');
11:50:28  78  END;
11:50:28  79  BEGIN
11:50:28  80  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-decline';
11:50:28  81  EXCEPTION
11:50:28  82  	WHEN NO_DATA_FOUND THEN NULL;
11:50:28  83  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-gift-decline', 'N/A');
11:50:28  84  END;
11:50:28  85  BEGIN
11:50:28  86  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'CREDIT_CARD_EXP';
11:50:28  87  EXCEPTION
11:50:28  88  	WHEN NO_DATA_FOUND THEN
11:50:28  89  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'CREDIT_CARD_EXP', SYSDATE, 'OFFERMAKER');
11:50:28  90  END;
11:50:28  91  BEGIN
11:50:28  92  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'card_expiration';
11:50:28  93  EXCEPTION
11:50:28  94  	WHEN NO_DATA_FOUND THEN NULL;
11:50:28  95  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'card_expiration', 'N/A');
11:50:28  96  END;
11:50:28  97  BEGIN
11:50:28  98  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_PURCHASE';
11:50:28  99  EXCEPTION
11:50:28 100  	WHEN NO_DATA_FOUND THEN
11:50:28 101  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'GC_REDEEMER_ON_PURCHASE', SYSDATE, 'OFFERMAKER');
11:50:28 102  END;
11:50:28 103  BEGIN
11:50:28 104  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-subscription';
11:50:28 105  EXCEPTION
11:50:28 106  	WHEN NO_DATA_FOUND THEN NULL;
11:50:28 107  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-gift-subscription', 'N/A');
11:50:28 108  END;
11:50:28 109  BEGIN
11:50:28 110  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_PURCHASE_30DAY';
11:50:28 111  EXCEPTION
11:50:28 112  	WHEN NO_DATA_FOUND THEN
11:50:28 113  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'GC_REDEEMER_ON_PURCHASE_30DAY', SYSDATE, 'OFFERMAKER');
11:50:28 114  END;
11:50:28 115  BEGIN
11:50:28 116  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-recipient-30days-reminder';
11:50:28 117  EXCEPTION
11:50:28 118  	WHEN NO_DATA_FOUND THEN NULL;
11:50:28 119  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-recipient-30days-reminder', 'N/A');
11:50:28 120  END;
11:50:28 121  BEGIN
11:50:28 122  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_PURCHASE_90DAY';
11:50:28 123  EXCEPTION
11:50:28 124  	WHEN NO_DATA_FOUND THEN
11:50:28 125  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'GC_REDEEMER_ON_PURCHASE_90DAY', SYSDATE, 'OFFERMAKER');
11:50:28 126  END;
11:50:28 127  BEGIN
11:50:28 128  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-recipient-90days-reminder';
11:50:28 129  EXCEPTION
11:50:28 130  	WHEN NO_DATA_FOUND THEN NULL;
11:50:28 131  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-recipient-90days-reminder', 'N/A');
11:50:28 132  END;
11:50:28 133  BEGIN
11:50:28 134  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'PURCHASE_GIFT_CERTIFICATE';
11:50:28 135  EXCEPTION
11:50:28 136  	WHEN NO_DATA_FOUND THEN
11:50:28 137  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'PURCHASE_GIFT_CERTIFICATE', SYSDATE, 'OFFERMAKER');
11:50:28 138  END;
11:50:28 139  BEGIN
11:50:28 140  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-purchase';
11:50:28 141  EXCEPTION
11:50:28 142  	WHEN NO_DATA_FOUND THEN NULL;
11:50:28 143  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-gift-purchase', 'N/A');
11:50:28 144  END;
11:50:28 145  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 88815003, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-purchase'), (SELECT ID FROM ACTION WHERE NAME = 'SUBSCRIBE_TO_OFFER_CHAIN'), 'OFFERMAKER', SYSDATE);
11:50:28 146  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 88815003, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-purchase'), (SELECT ID FROM ACTION WHERE NAME = 'UPGRADE_SUBSCRIPTION'), 'OFFERMAKER', SYSDATE);
11:50:28 147  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 88815003, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-cancel'), (SELECT ID FROM ACTION WHERE NAME = 'CANCEL_SUBSCRIPTION'), 'OFFERMAKER', SYSDATE);
11:50:28 148  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 88815003, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-decline'), (SELECT ID FROM ACTION WHERE NAME = 'SYSTEM_CANCEL'), 'OFFERMAKER', SYSDATE);
11:50:28 149  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 88815003, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'card_expiration'), (SELECT ID FROM ACTION WHERE NAME = 'CREDIT_CARD_EXP'), 'OFFERMAKER', SYSDATE);
11:50:28 150  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 88815003, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-subscription'), (SELECT ID FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_PURCHASE'), 'OFFERMAKER', SYSDATE);
11:50:28 151  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 88815003, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-recipient-30days-reminder'), (SELECT ID FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_PURCHASE_30DAY'), 'OFFERMAKER', SYSDATE);
11:50:28 152  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 88815003, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-recipient-90days-reminder'), (SELECT ID FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_PURCHASE_90DAY'), 'OFFERMAKER', SYSDATE);
11:50:28 153  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 88815003, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-purchase'), (SELECT ID FROM ACTION WHERE NAME = 'PURCHASE_GIFT_CERTIFICATE'), 'OFFERMAKER', SYSDATE);
11:50:28 154  BEGIN
11:50:28 155  	SELECT 1 INTO TMP_VAR FROM OFFER_OFFER_CHAIN WHERE OFFER_CHAIN_ID = 88815003 AND INDEX_VALUE = 0 AND ROWNUM <= 1;
11:50:28 156  EXCEPTION
11:50:28 157  	WHEN NO_DATA_FOUND THEN
11:50:28 158  INSERT INTO OFFER (ID, OFFER_STATUS_ID, ENTITLEMENT_DURATION, CREATED_BY, CREATE_DATE, updated_by, update_date) VALUES (OFR_ID_SEQ.NEXTVAL, 1, 'P0Y0M112DT0H0M', 'OFFERMAKER', SYSDATE, 'OFFERMAKER', SYSDATE);
11:50:28 159  BEGIN
11:50:28 160  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Web' AND ROWNUM <= 1;
11:50:28 161  EXCEPTION
11:50:28 162  	WHEN NO_DATA_FOUND THEN
11:50:28 163  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Web', 'OFFERMAKER', SYSDATE);
11:50:28 164  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Web' AND ROWNUM <= 1;
11:50:28 165  	WHEN OTHERS THEN
11:50:28 166  	  RAISE;
11:50:28 167  END;
11:50:28 168  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '2', '112', '0.357143', 'OFFERMAKER', SYSDATE);
11:50:28 169  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
11:50:28 170  INSERT INTO DISCOUNT (ID, NAME, DESCRIPTION, FIXED_AMOUNT, PERCENT_AMOUNT, DISCOUNT_TYPE_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.NEXTVAL, 'Discount', 'Off: 0.0. P.Disc: 0.0000. P.Full: 40.0000', '40.00', '0', 1, 'OFFERMAKER', SYSDATE);
11:50:28 171  INSERT INTO DISCOUNT_PRODUCT_OFFERING (DISCOUNT_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
11:50:28 172  BEGIN
11:50:28 173  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Mobile' AND ROWNUM <= 1;
11:50:28 174  EXCEPTION
11:50:28 175  	WHEN NO_DATA_FOUND THEN
11:50:28 176  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Mobile', 'OFFERMAKER', SYSDATE);
11:50:28 177  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Mobile' AND ROWNUM <= 1;
11:50:28 178  	WHEN OTHERS THEN
11:50:28 179  	  RAISE;
11:50:28 180  END;
11:50:28 181  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '112', '0', 'OFFERMAKER', SYSDATE);
11:50:28 182  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
11:50:28 183  BEGIN
11:50:28 184  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Archive Article' AND ROWNUM <= 1;
11:50:28 185  EXCEPTION
11:50:28 186  	WHEN NO_DATA_FOUND THEN
11:50:28 187  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Archive Article', 'OFFERMAKER', SYSDATE);
11:50:28 188  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Archive Article' AND ROWNUM <= 1;
11:50:28 189  	WHEN OTHERS THEN
11:50:28 190  	  RAISE;
11:50:28 191  END;
11:50:28 192  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '400', '0', 'OFFERMAKER', SYSDATE);
11:50:28 193  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
11:50:28 194  BEGIN
11:50:28 195  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'TimesMachine' AND ROWNUM <= 1;
11:50:28 196  EXCEPTION
11:50:28 197  	WHEN NO_DATA_FOUND THEN
11:50:28 198  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'TimesMachine', 'OFFERMAKER', SYSDATE);
11:50:28 199  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'TimesMachine' AND ROWNUM <= 1;
11:50:28 200  	WHEN OTHERS THEN
11:50:28 201  	  RAISE;
11:50:28 202  END;
11:50:28 203  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '112', '0', 'OFFERMAKER', SYSDATE);
11:50:28 204  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
11:50:28 205  BEGIN
11:50:28 206  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Tablet' AND ROWNUM <= 1;
11:50:28 207  EXCEPTION
11:50:28 208  	WHEN NO_DATA_FOUND THEN
11:50:28 209  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Tablet', 'OFFERMAKER', SYSDATE);
11:50:28 210  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Tablet' AND ROWNUM <= 1;
11:50:28 211  	WHEN OTHERS THEN
11:50:28 212  	  RAISE;
11:50:28 213  END;
11:50:28 214  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '2', '112', '0.357143', 'OFFERMAKER', SYSDATE);
11:50:28 215  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
11:50:28 216  INSERT INTO DISCOUNT (ID, NAME, DESCRIPTION, FIXED_AMOUNT, PERCENT_AMOUNT, DISCOUNT_TYPE_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.NEXTVAL, 'Discount', 'Off: 0.0. P.Disc: 0.0000. P.Full: 40.0000', '40.00', '0', 1, 'OFFERMAKER', SYSDATE);
11:50:28 217  INSERT INTO DISCOUNT_PRODUCT_OFFERING (DISCOUNT_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
11:50:28 218  BEGIN
11:50:28 219  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'TimesReader' AND ROWNUM <= 1;
11:50:28 220  EXCEPTION
11:50:28 221  	WHEN NO_DATA_FOUND THEN
11:50:28 222  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'TimesReader', 'OFFERMAKER', SYSDATE);
11:50:28 223  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'TimesReader' AND ROWNUM <= 1;
11:50:28 224  	WHEN OTHERS THEN
11:50:28 225  	  RAISE;
11:50:28 226  END;
11:50:28 227  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '112', '0', 'OFFERMAKER', SYSDATE);
11:50:28 228  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
11:50:28 229  INSERT INTO OFFER_OFFER_CHAIN (OFFER_ID, OFFER_CHAIN_ID, INDEX_VALUE, NUM_RECURRENCES, CREATED_BY, CREATE_DATE, updated_by, update_date) VALUES (OFR_ID_SEQ.CURRVAL, 88815003, '0', '1', 'OFFERMAKER', SYSDATE, 'OFFERMAKER', SYSDATE);
11:50:28 230  END;
11:50:28 231  END;
11:50:28 232  /

PL/SQL procedure successfully completed.

Elapsed: 00:00:00.11
11:50:28 SQL> COMMIT;

Commit complete.

Elapsed: 00:00:00.01
11:50:28 SQL> DECLARE
11:50:28   2  TMP_VAR NUMBER;
11:50:28   3  CUR_PRD_ID NUMBER;
11:50:28   4  CUR_CAPABILITY_ID NUMBER;
11:50:28   5  BEGIN
11:50:28   6  BEGIN
11:50:28   7  	SELECT 1 INTO TMP_VAR FROM OFFER_CHAIN WHERE ID = 88815004 AND ROWNUM <= 1;
11:50:28   8  	UPDATE OFFER_CHAIN SET NAME='NYTimes: Web + Tablet App', DESCRIPTION='Unlimited access to NYTimes.com and the NYTimes tablet app.*', PRODUCT_URI='', VENDOR_SOURCE_ID='1', BILLING_SOURCE_ID=(SELECT ID FROM BILLING_SOURCE BS WHERE BS.NAME='Sartre'), IS_SEAT_LICENSE=0, GROUP_ACCOUNT_TYPE_ID='NO',IS_ADDRESS_REQUIRED=1, OFFER_CHAIN_STATUS_ID = 1, UPDATE_DATE = SYSDATE, UPDATED_BY = 'OFFERMAKER', IS_GIFT_CERTIFICATE='0', REVOKE_ENTITLEMENTS = '0', ADOPTABILITY_WINDOW_START_DATE = to_date('31-Jul-2013 00:00:00','DD-MON-YY HH24:MI:SS'), ADOPTABILITY_WINDOW_END_DATE = to_date('01-Jan-2019 00:00:00','DD-MON-YY HH24:MI:SS'), AMAZON_APPSTORE_SKU=NULL WHERE ID = 88815004;
11:50:28   9  EXCEPTION
11:50:28  10  	WHEN NO_DATA_FOUND THEN
11:50:28  11  	  INSERT INTO OFFER_CHAIN (ID, NAME, DESCRIPTION, ADOPTABILITY_WINDOW_START_DATE, ADOPTABILITY_WINDOW_END_DATE, IS_GIFT_CERTIFICATE, PRODUCT_URI, OFFER_CHAIN_STATUS_ID, REVOKE_ENTITLEMENTS, VENDOR_SOURCE_ID, BILLING_SOURCE_ID, IS_SEAT_LICENSE, GROUP_ACCOUNT_TYPE_ID, IS_ADDRESS_REQUIRED, AMAZON_APPSTORE_SKU, CREATED_BY, CREATE_DATE, updated_by, update_date) VALUES (88815004, 'NYTimes: Web + Tablet App', 'Unlimited access to NYTimes.com and the NYTimes tablet app.*', to_date('31-Jul-2013 00:00:00','DD-MON-YY HH24:MI:SS'), to_date('01-Jan-2019 00:00:00','DD-MON-YY HH24:MI:SS'), '0', NULL, '1', '0', '1', (SELECT ID FROM BILLING_SOURCE BS WHERE BS.NAME='Sartre'), decode('NO','IL',1,0), 'NO', '1', '', 'OFFERMAKER', SYSDATE, 'OFFERMAKER', SYSDATE);
11:50:28  12  END;
11:50:28  13  DELETE FROM OFFER_CHAIN_ELIGIBILITY WHERE offer_chain_id = 88815004;
11:50:28  14  INSERT INTO OFFER_CHAIN_ELIGIBILITY (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (ELG_ID_SEQ.NEXTVAL, 88815004, 'GIFT CERTIFICATE REQUIRED', '1', 'OFFERMAKER', SYSDATE);
11:50:28  15  INSERT INTO OFFER_CHAIN_ELIGIBILITY (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (ELG_ID_SEQ.NEXTVAL, 88815004, 'IS_COMP', '1', 'OFFERMAKER', SYSDATE);
11:50:28  16  INSERT INTO OFFER_CHAIN_ELIGIBILITY (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (ELG_ID_SEQ.NEXTVAL, 88815004, 'MAX_CONCURRENT_SUBS', '1', 'OFFERMAKER', SYSDATE);
11:50:28  17  DELETE FROM OFFER_CHAIN_META_DATA WHERE offer_chain_id = 88815004;
11:50:28  18  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815004, 'BUNDLE_EXPLANATION', 'Bundle B - 16 Week Gift Sub - Redeem OC XanEdu', 'OFFERMAKER', SYSDATE);
11:50:28  19  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815004, 'PRICE_DESCRIPTION', '4 Month Gift Subscription - $0 for 16 weeks - purchase', 'OFFERMAKER', SYSDATE);
11:50:28  20  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815004, 'PRICE_SHORT_DESCRIPTION', 'BNDL B / $0 16 wks GC redemp', 'OFFERMAKER', SYSDATE);
11:50:28  21  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815004, 'OFFER_TYPE', 'Edu Digital Gift Subscription for 16 weeks- XanEdu ', 'OFFERMAKER', SYSDATE);
11:50:28  22  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815004, 'PROMO_PRICE_FOOTER_LABEL', '16 Weeks', 'OFFERMAKER', SYSDATE);
11:50:28  23  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815004, 'BILLING_CYCLE', '16 week gift', 'OFFERMAKER', SYSDATE);
11:50:28  24  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815004, 'SUBSCRIBER_TYPE', 'Education', 'OFFERMAKER', SYSDATE);
11:50:28  25  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815004, 'OPEN_TO_ANONYMOUS', '1', 'OFFERMAKER', SYSDATE);
11:50:28  26  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815004, 'BUNDLE', 'Bundle B (Web+Tab)', 'OFFERMAKER', SYSDATE);
11:50:28  27  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815004, 'ADX_BUNDLE', 'MM_EDU', 'OFFERMAKER', SYSDATE);
11:50:28  28  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815004, 'SIEBEL_CAMPAIGN_CODE', '3KL8U', 'OFFERMAKER', SYSDATE);
11:50:28  29  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815004, 'IS_COMP', '1', 'OFFERMAKER', SYSDATE);
11:50:28  30  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815004, 'ANNUAL_PRICE', '260.00', 'OFFERMAKER', SYSDATE);
11:50:28  31  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815004, 'UID', 'a7baf7dea9b7eebb55f8baea2e41912250564d8b82b1965abc12993104abd725', 'OFFERMAKER', SYSDATE);
11:50:28  32  DELETE FROM OFFER_CHAIN_NOTIFICATION_TYPE WHERE offer_chain_id = 88815004;
11:50:28  33  BEGIN
11:50:28  34  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'SUBSCRIBE_TO_OFFER_CHAIN';
11:50:28  35  EXCEPTION
11:50:28  36  	WHEN NO_DATA_FOUND THEN
11:50:28  37  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'SUBSCRIBE_TO_OFFER_CHAIN', SYSDATE, 'OFFERMAKER');
11:50:28  38  END;
11:50:28  39  BEGIN
11:50:28  40  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-purchase';
11:50:28  41  EXCEPTION
11:50:28  42  	WHEN NO_DATA_FOUND THEN NULL;
11:50:28  43  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-purchase', 'N/A');
11:50:28  44  END;
11:50:28  45  BEGIN
11:50:28  46  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'UPGRADE_SUBSCRIPTION';
11:50:28  47  EXCEPTION
11:50:28  48  	WHEN NO_DATA_FOUND THEN
11:50:28  49  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'UPGRADE_SUBSCRIPTION', SYSDATE, 'OFFERMAKER');
11:50:28  50  END;
11:50:28  51  BEGIN
11:50:28  52  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-purchase';
11:50:28  53  EXCEPTION
11:50:28  54  	WHEN NO_DATA_FOUND THEN NULL;
11:50:28  55  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-purchase', 'N/A');
11:50:28  56  END;
11:50:28  57  BEGIN
11:50:28  58  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'CANCEL_SUBSCRIPTION';
11:50:28  59  EXCEPTION
11:50:28  60  	WHEN NO_DATA_FOUND THEN
11:50:28  61  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'CANCEL_SUBSCRIPTION', SYSDATE, 'OFFERMAKER');
11:50:28  62  END;
11:50:28  63  BEGIN
11:50:28  64  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-cancel';
11:50:28  65  EXCEPTION
11:50:28  66  	WHEN NO_DATA_FOUND THEN NULL;
11:50:28  67  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-cancel', 'N/A');
11:50:28  68  END;
11:50:28  69  BEGIN
11:50:28  70  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'SYSTEM_CANCEL';
11:50:28  71  EXCEPTION
11:50:28  72  	WHEN NO_DATA_FOUND THEN
11:50:28  73  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'SYSTEM_CANCEL', SYSDATE, 'OFFERMAKER');
11:50:28  74  END;
11:50:28  75  BEGIN
11:50:28  76  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-decline';
11:50:28  77  EXCEPTION
11:50:28  78  	WHEN NO_DATA_FOUND THEN NULL;
11:50:28  79  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-decline', 'N/A');
11:50:28  80  END;
11:50:28  81  BEGIN
11:50:28  82  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'CREDIT_CARD_EXP';
11:50:28  83  EXCEPTION
11:50:28  84  	WHEN NO_DATA_FOUND THEN
11:50:28  85  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'CREDIT_CARD_EXP', SYSDATE, 'OFFERMAKER');
11:50:28  86  END;
11:50:28  87  BEGIN
11:50:28  88  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'card_expiration';
11:50:28  89  EXCEPTION
11:50:28  90  	WHEN NO_DATA_FOUND THEN NULL;
11:50:28  91  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'card_expiration', 'N/A');
11:50:28  92  END;
11:50:28  93  BEGIN
11:50:28  94  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_REDEEM';
11:50:28  95  EXCEPTION
11:50:28  96  	WHEN NO_DATA_FOUND THEN
11:50:28  97  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'GC_REDEEMER_ON_REDEEM', SYSDATE, 'OFFERMAKER');
11:50:28  98  END;
11:50:28  99  BEGIN
11:50:28 100  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-sub-activation';
11:50:28 101  EXCEPTION
11:50:28 102  	WHEN NO_DATA_FOUND THEN NULL;
11:50:28 103  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-gift-sub-activation', 'N/A');
11:50:28 104  END;
11:50:28 105  BEGIN
11:50:28 106  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'CLOSE_SUBSCRIPTION';
11:50:28 107  EXCEPTION
11:50:28 108  	WHEN NO_DATA_FOUND THEN
11:50:28 109  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'CLOSE_SUBSCRIPTION', SYSDATE, 'OFFERMAKER');
11:50:28 110  END;
11:50:28 111  BEGIN
11:50:28 112  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-sub-expired-gift';
11:50:28 113  EXCEPTION
11:50:28 114  	WHEN NO_DATA_FOUND THEN NULL;
11:50:28 115  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-sub-expired-gift', 'N/A');
11:50:28 116  END;
11:50:28 117  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 88815004, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-purchase'), (SELECT ID FROM ACTION WHERE NAME = 'SUBSCRIBE_TO_OFFER_CHAIN'), 'OFFERMAKER', SYSDATE);
11:50:28 118  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 88815004, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-purchase'), (SELECT ID FROM ACTION WHERE NAME = 'UPGRADE_SUBSCRIPTION'), 'OFFERMAKER', SYSDATE);
11:50:28 119  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 88815004, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-cancel'), (SELECT ID FROM ACTION WHERE NAME = 'CANCEL_SUBSCRIPTION'), 'OFFERMAKER', SYSDATE);
11:50:28 120  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 88815004, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-decline'), (SELECT ID FROM ACTION WHERE NAME = 'SYSTEM_CANCEL'), 'OFFERMAKER', SYSDATE);
11:50:28 121  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 88815004, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'card_expiration'), (SELECT ID FROM ACTION WHERE NAME = 'CREDIT_CARD_EXP'), 'OFFERMAKER', SYSDATE);
11:50:28 122  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 88815004, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-sub-activation'), (SELECT ID FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_REDEEM'), 'OFFERMAKER', SYSDATE);
11:50:28 123  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 88815004, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-sub-expired-gift'), (SELECT ID FROM ACTION WHERE NAME = 'CLOSE_SUBSCRIPTION'), 'OFFERMAKER', SYSDATE);
11:50:28 124  BEGIN
11:50:28 125  	SELECT 1 INTO TMP_VAR FROM OFFER_OFFER_CHAIN WHERE OFFER_CHAIN_ID = 88815004 AND INDEX_VALUE = 0 AND ROWNUM <= 1;
11:50:28 126  EXCEPTION
11:50:28 127  	WHEN NO_DATA_FOUND THEN
11:50:28 128  INSERT INTO OFFER (ID, OFFER_STATUS_ID, ENTITLEMENT_DURATION, CREATED_BY, CREATE_DATE, updated_by, update_date) VALUES (OFR_ID_SEQ.NEXTVAL, 1, 'P0Y0M112DT0H0M', 'OFFERMAKER', SYSDATE, 'OFFERMAKER', SYSDATE);
11:50:28 129  BEGIN
11:50:28 130  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Web' AND ROWNUM <= 1;
11:50:28 131  EXCEPTION
11:50:28 132  	WHEN NO_DATA_FOUND THEN
11:50:28 133  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Web', 'OFFERMAKER', SYSDATE);
11:50:28 134  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Web' AND ROWNUM <= 1;
11:50:28 135  	WHEN OTHERS THEN
11:50:28 136  	  RAISE;
11:50:28 137  END;
11:50:28 138  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '112', '0.357143', 'OFFERMAKER', SYSDATE);
11:50:28 139  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
11:50:28 140  INSERT INTO DISCOUNT (ID, NAME, DESCRIPTION, FIXED_AMOUNT, PERCENT_AMOUNT, DISCOUNT_TYPE_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.NEXTVAL, 'Discount', 'Off: 0.0. P.Disc: 0.0000. P.Full: 40.0000', '40.00', '0', 1, 'OFFERMAKER', SYSDATE);
11:50:28 141  INSERT INTO DISCOUNT_PRODUCT_OFFERING (DISCOUNT_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
11:50:28 142  BEGIN
11:50:28 143  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Mobile' AND ROWNUM <= 1;
11:50:28 144  EXCEPTION
11:50:28 145  	WHEN NO_DATA_FOUND THEN
11:50:28 146  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Mobile', 'OFFERMAKER', SYSDATE);
11:50:28 147  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Mobile' AND ROWNUM <= 1;
11:50:28 148  	WHEN OTHERS THEN
11:50:28 149  	  RAISE;
11:50:28 150  END;
11:50:28 151  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '112', '0', 'OFFERMAKER', SYSDATE);
11:50:28 152  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
11:50:28 153  BEGIN
11:50:28 154  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Archive Article' AND ROWNUM <= 1;
11:50:28 155  EXCEPTION
11:50:28 156  	WHEN NO_DATA_FOUND THEN
11:50:28 157  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Archive Article', 'OFFERMAKER', SYSDATE);
11:50:28 158  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Archive Article' AND ROWNUM <= 1;
11:50:28 159  	WHEN OTHERS THEN
11:50:28 160  	  RAISE;
11:50:28 161  END;
11:50:28 162  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '400', '0', 'OFFERMAKER', SYSDATE);
11:50:28 163  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
11:50:28 164  BEGIN
11:50:28 165  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'TimesMachine' AND ROWNUM <= 1;
11:50:28 166  EXCEPTION
11:50:28 167  	WHEN NO_DATA_FOUND THEN
11:50:28 168  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'TimesMachine', 'OFFERMAKER', SYSDATE);
11:50:28 169  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'TimesMachine' AND ROWNUM <= 1;
11:50:28 170  	WHEN OTHERS THEN
11:50:28 171  	  RAISE;
11:50:28 172  END;
11:50:28 173  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '112', '0', 'OFFERMAKER', SYSDATE);
11:50:28 174  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
11:50:28 175  BEGIN
11:50:28 176  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Tablet' AND ROWNUM <= 1;
11:50:28 177  EXCEPTION
11:50:28 178  	WHEN NO_DATA_FOUND THEN
11:50:28 179  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Tablet', 'OFFERMAKER', SYSDATE);
11:50:28 180  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Tablet' AND ROWNUM <= 1;
11:50:28 181  	WHEN OTHERS THEN
11:50:28 182  	  RAISE;
11:50:28 183  END;
11:50:28 184  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '112', '0.357143', 'OFFERMAKER', SYSDATE);
11:50:28 185  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
11:50:28 186  INSERT INTO DISCOUNT (ID, NAME, DESCRIPTION, FIXED_AMOUNT, PERCENT_AMOUNT, DISCOUNT_TYPE_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.NEXTVAL, 'Discount', 'Off: 0.0. P.Disc: 0.0000. P.Full: 40.0000', '40.00', '0', 1, 'OFFERMAKER', SYSDATE);
11:50:28 187  INSERT INTO DISCOUNT_PRODUCT_OFFERING (DISCOUNT_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
11:50:28 188  BEGIN
11:50:28 189  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'TimesReader' AND ROWNUM <= 1;
11:50:28 190  EXCEPTION
11:50:28 191  	WHEN NO_DATA_FOUND THEN
11:50:28 192  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'TimesReader', 'OFFERMAKER', SYSDATE);
11:50:28 193  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'TimesReader' AND ROWNUM <= 1;
11:50:28 194  	WHEN OTHERS THEN
11:50:28 195  	  RAISE;
11:50:28 196  END;
11:50:28 197  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '112', '0', 'OFFERMAKER', SYSDATE);
11:50:28 198  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
11:50:28 199  INSERT INTO OFFER_OFFER_CHAIN (OFFER_ID, OFFER_CHAIN_ID, INDEX_VALUE, NUM_RECURRENCES, CREATED_BY, CREATE_DATE, updated_by, update_date) VALUES (OFR_ID_SEQ.CURRVAL, 88815004, '0', '1', 'OFFERMAKER', SYSDATE, 'OFFERMAKER', SYSDATE);
11:50:28 200  END;
11:50:28 201  END;
11:50:28 202  /

PL/SQL procedure successfully completed.

Elapsed: 00:00:00.16
11:50:28 SQL> COMMIT;

Commit complete.

Elapsed: 00:00:00.01
11:50:28 SQL> DECLARE
11:50:28   2  TMP_VAR NUMBER;
11:50:28   3  CUR_PRD_ID NUMBER;
11:50:28   4  CUR_CAPABILITY_ID NUMBER;
11:50:28   5  BEGIN
11:50:28   6  BEGIN
11:50:28   7  	SELECT 1 INTO TMP_VAR FROM OFFER_CHAIN WHERE ID = 88815005 AND ROWNUM <= 1;
11:50:28   8  	UPDATE OFFER_CHAIN SET NAME='All Digital Access', DESCRIPTION='Unlimited access to NYTimes.com, and the NYTimes smartphone and tablet apps.*', PRODUCT_URI='', VENDOR_SOURCE_ID='1', BILLING_SOURCE_ID=(SELECT ID FROM BILLING_SOURCE BS WHERE BS.NAME='Sartre'), IS_SEAT_LICENSE=0, GROUP_ACCOUNT_TYPE_ID='NO',IS_ADDRESS_REQUIRED=1, OFFER_CHAIN_STATUS_ID = 1, UPDATE_DATE = SYSDATE, UPDATED_BY = 'OFFERMAKER', IS_GIFT_CERTIFICATE='1', REVOKE_ENTITLEMENTS = '0', ADOPTABILITY_WINDOW_START_DATE = to_date('31-Jul-2013 00:00:00','DD-MON-YY HH24:MI:SS'), ADOPTABILITY_WINDOW_END_DATE = to_date('01-Jan-2019 00:00:00','DD-MON-YY HH24:MI:SS'), AMAZON_APPSTORE_SKU=NULL WHERE ID = 88815005;
11:50:28   9  EXCEPTION
11:50:28  10  	WHEN NO_DATA_FOUND THEN
11:50:28  11  	  INSERT INTO OFFER_CHAIN (ID, NAME, DESCRIPTION, ADOPTABILITY_WINDOW_START_DATE, ADOPTABILITY_WINDOW_END_DATE, IS_GIFT_CERTIFICATE, PRODUCT_URI, OFFER_CHAIN_STATUS_ID, REVOKE_ENTITLEMENTS, VENDOR_SOURCE_ID, BILLING_SOURCE_ID, IS_SEAT_LICENSE, GROUP_ACCOUNT_TYPE_ID, IS_ADDRESS_REQUIRED, AMAZON_APPSTORE_SKU, CREATED_BY, CREATE_DATE, updated_by, update_date) VALUES (88815005, 'All Digital Access', 'Unlimited access to NYTimes.com, and the NYTimes smartphone and tablet apps.*', to_date('31-Jul-2013 00:00:00','DD-MON-YY HH24:MI:SS'), to_date('01-Jan-2019 00:00:00','DD-MON-YY HH24:MI:SS'), '1', NULL, '1', '0', '1', (SELECT ID FROM BILLING_SOURCE BS WHERE BS.NAME='Sartre'), decode('NO','IL',1,0), 'NO', '1', '', 'OFFERMAKER', SYSDATE, 'OFFERMAKER', SYSDATE);
11:50:28  12  END;
11:50:28  13  DELETE FROM OFFER_CHAIN_ELIGIBILITY WHERE offer_chain_id = 88815005;
11:50:28  14  INSERT INTO OFFER_CHAIN_ELIGIBILITY (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (ELG_ID_SEQ.NEXTVAL, 88815005, 'IS_COMP', '1', 'OFFERMAKER', SYSDATE);
11:50:28  15  INSERT INTO OFFER_CHAIN_ELIGIBILITY (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (ELG_ID_SEQ.NEXTVAL, 88815005, 'REDEEMER_PROHIBITED_ENTITLEMENTS', 'mm,msd,mtd,mow,timesreader', 'OFFERMAKER', SYSDATE);
11:50:28  16  DELETE FROM OFFER_CHAIN_META_DATA WHERE offer_chain_id = 88815005;
11:50:28  17  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815005, 'BUNDLE_EXPLANATION', 'Bundle D - 16 Week Gift Sub - Purchase OC XanEdu', 'OFFERMAKER', SYSDATE);
11:50:28  18  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815005, 'PRICE_DESCRIPTION', '4 Month Gift Subscription - $0 for 16 weeks - purchase', 'OFFERMAKER', SYSDATE);
11:50:28  19  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815005, 'PRICE_SHORT_DESCRIPTION', 'BNDL D / $0 16 wks GC purch', 'OFFERMAKER', SYSDATE);
11:50:28  20  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815005, 'OFFER_TYPE', 'Edu Digital Gift Subscription for 16 weeks- XanEdu ', 'OFFERMAKER', SYSDATE);
11:50:28  21  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815005, 'OFFER_PRICE_DESCRIPTOR', '16 Weeks Gift Certificate', 'OFFERMAKER', SYSDATE);
11:50:28  22  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815005, 'OFFER_PRICE', '$0 for 16 weeks', 'OFFERMAKER', SYSDATE);
11:50:28  23  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815005, 'PROMO_PRICE_FOOTER_LABEL', '16 Weeks', 'OFFERMAKER', SYSDATE);
11:50:28  24  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815005, 'BILLING_CYCLE', 'You will be billed for a 16 week gift subscription in full.', 'OFFERMAKER', SYSDATE);
11:50:28  25  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815005, 'SUBSCRIBER_TYPE', 'Education', 'OFFERMAKER', SYSDATE);
11:50:28  26  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815005, 'ABOUT_ORDER', 'The full purchase price for gift subscriptions will be charged at the time of purchase and is non-refundable.  Redemption codes are not replaceable. Prices are in U.S. dollars and are subject to change. Other restrictions may apply.  Gift subscription period begins the day of redemption.  Redemption code expires five years after date of purchase.', 'OFFERMAKER', SYSDATE);
11:50:28  27  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815005, 'redemption offer chain id', '99915006', 'OFFERMAKER', SYSDATE);
11:50:28  28  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815005, 'OPEN_TO_ANONYMOUS', '1', 'OFFERMAKER', SYSDATE);
11:50:28  29  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815005, 'BUNDLE', 'Bundle D (Digital All Access)', 'OFFERMAKER', SYSDATE);
11:50:28  30  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815005, 'ADX_BUNDLE', 'MM_EDU', 'OFFERMAKER', SYSDATE);
11:50:28  31  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815005, 'SIEBEL_CAMPAIGN_CODE', '3KL8W', 'OFFERMAKER', SYSDATE);
11:50:28  32  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815005, 'IS_COMP', '1', 'OFFERMAKER', SYSDATE);
11:50:28  33  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815005, 'SOCIAL_DISPLAY', 'nyt-bundle', 'OFFERMAKER', SYSDATE);
11:50:28  34  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815005, 'ANNUAL_PRICE', '455.00', 'OFFERMAKER', SYSDATE);
11:50:28  35  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815005, 'UID', '7eab7a585af1a7c2c55cecfc25165b63711c6a823ab548af093addd040e27218', 'OFFERMAKER', SYSDATE);
11:50:28  36  DELETE FROM OFFER_CHAIN_NOTIFICATION_TYPE WHERE offer_chain_id = 88815005;
11:50:28  37  BEGIN
11:50:28  38  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'SUBSCRIBE_TO_OFFER_CHAIN';
11:50:28  39  EXCEPTION
11:50:28  40  	WHEN NO_DATA_FOUND THEN
11:50:28  41  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'SUBSCRIBE_TO_OFFER_CHAIN', SYSDATE, 'OFFERMAKER');
11:50:28  42  END;
11:50:28  43  BEGIN
11:50:28  44  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-purchase';
11:50:28  45  EXCEPTION
11:50:28  46  	WHEN NO_DATA_FOUND THEN NULL;
11:50:28  47  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-gift-purchase', 'N/A');
11:50:28  48  END;
11:50:28  49  BEGIN
11:50:28  50  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'UPGRADE_SUBSCRIPTION';
11:50:28  51  EXCEPTION
11:50:28  52  	WHEN NO_DATA_FOUND THEN
11:50:28  53  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'UPGRADE_SUBSCRIPTION', SYSDATE, 'OFFERMAKER');
11:50:28  54  END;
11:50:28  55  BEGIN
11:50:28  56  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-purchase';
11:50:28  57  EXCEPTION
11:50:28  58  	WHEN NO_DATA_FOUND THEN NULL;
11:50:28  59  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-gift-purchase', 'N/A');
11:50:28  60  END;
11:50:28  61  BEGIN
11:50:28  62  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'CANCEL_SUBSCRIPTION';
11:50:28  63  EXCEPTION
11:50:28  64  	WHEN NO_DATA_FOUND THEN
11:50:28  65  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'CANCEL_SUBSCRIPTION', SYSDATE, 'OFFERMAKER');
11:50:28  66  END;
11:50:28  67  BEGIN
11:50:28  68  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-cancel';
11:50:28  69  EXCEPTION
11:50:28  70  	WHEN NO_DATA_FOUND THEN NULL;
11:50:28  71  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-cancel', 'N/A');
11:50:28  72  END;
11:50:28  73  BEGIN
11:50:28  74  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'SYSTEM_CANCEL';
11:50:28  75  EXCEPTION
11:50:28  76  	WHEN NO_DATA_FOUND THEN
11:50:28  77  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'SYSTEM_CANCEL', SYSDATE, 'OFFERMAKER');
11:50:28  78  END;
11:50:28  79  BEGIN
11:50:28  80  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-decline';
11:50:28  81  EXCEPTION
11:50:28  82  	WHEN NO_DATA_FOUND THEN NULL;
11:50:28  83  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-gift-decline', 'N/A');
11:50:28  84  END;
11:50:28  85  BEGIN
11:50:28  86  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'CREDIT_CARD_EXP';
11:50:28  87  EXCEPTION
11:50:28  88  	WHEN NO_DATA_FOUND THEN
11:50:28  89  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'CREDIT_CARD_EXP', SYSDATE, 'OFFERMAKER');
11:50:28  90  END;
11:50:28  91  BEGIN
11:50:28  92  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'card_expiration';
11:50:28  93  EXCEPTION
11:50:28  94  	WHEN NO_DATA_FOUND THEN NULL;
11:50:28  95  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'card_expiration', 'N/A');
11:50:28  96  END;
11:50:28  97  BEGIN
11:50:28  98  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_PURCHASE';
11:50:28  99  EXCEPTION
11:50:28 100  	WHEN NO_DATA_FOUND THEN
11:50:28 101  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'GC_REDEEMER_ON_PURCHASE', SYSDATE, 'OFFERMAKER');
11:50:28 102  END;
11:50:28 103  BEGIN
11:50:28 104  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-subscription';
11:50:28 105  EXCEPTION
11:50:28 106  	WHEN NO_DATA_FOUND THEN NULL;
11:50:28 107  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-gift-subscription', 'N/A');
11:50:28 108  END;
11:50:28 109  BEGIN
11:50:28 110  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_PURCHASE_30DAY';
11:50:28 111  EXCEPTION
11:50:28 112  	WHEN NO_DATA_FOUND THEN
11:50:28 113  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'GC_REDEEMER_ON_PURCHASE_30DAY', SYSDATE, 'OFFERMAKER');
11:50:28 114  END;
11:50:28 115  BEGIN
11:50:28 116  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-recipient-30days-reminder';
11:50:28 117  EXCEPTION
11:50:28 118  	WHEN NO_DATA_FOUND THEN NULL;
11:50:28 119  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-recipient-30days-reminder', 'N/A');
11:50:28 120  END;
11:50:28 121  BEGIN
11:50:28 122  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_PURCHASE_90DAY';
11:50:28 123  EXCEPTION
11:50:28 124  	WHEN NO_DATA_FOUND THEN
11:50:28 125  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'GC_REDEEMER_ON_PURCHASE_90DAY', SYSDATE, 'OFFERMAKER');
11:50:28 126  END;
11:50:28 127  BEGIN
11:50:28 128  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-recipient-90days-reminder';
11:50:28 129  EXCEPTION
11:50:28 130  	WHEN NO_DATA_FOUND THEN NULL;
11:50:28 131  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-recipient-90days-reminder', 'N/A');
11:50:28 132  END;
11:50:28 133  BEGIN
11:50:28 134  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'PURCHASE_GIFT_CERTIFICATE';
11:50:28 135  EXCEPTION
11:50:28 136  	WHEN NO_DATA_FOUND THEN
11:50:28 137  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'PURCHASE_GIFT_CERTIFICATE', SYSDATE, 'OFFERMAKER');
11:50:28 138  END;
11:50:28 139  BEGIN
11:50:28 140  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-purchase';
11:50:28 141  EXCEPTION
11:50:28 142  	WHEN NO_DATA_FOUND THEN NULL;
11:50:28 143  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-gift-purchase', 'N/A');
11:50:28 144  END;
11:50:28 145  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 88815005, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-purchase'), (SELECT ID FROM ACTION WHERE NAME = 'SUBSCRIBE_TO_OFFER_CHAIN'), 'OFFERMAKER', SYSDATE);
11:50:28 146  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 88815005, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-purchase'), (SELECT ID FROM ACTION WHERE NAME = 'UPGRADE_SUBSCRIPTION'), 'OFFERMAKER', SYSDATE);
11:50:28 147  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 88815005, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-cancel'), (SELECT ID FROM ACTION WHERE NAME = 'CANCEL_SUBSCRIPTION'), 'OFFERMAKER', SYSDATE);
11:50:28 148  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 88815005, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-decline'), (SELECT ID FROM ACTION WHERE NAME = 'SYSTEM_CANCEL'), 'OFFERMAKER', SYSDATE);
11:50:28 149  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 88815005, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'card_expiration'), (SELECT ID FROM ACTION WHERE NAME = 'CREDIT_CARD_EXP'), 'OFFERMAKER', SYSDATE);
11:50:28 150  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 88815005, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-subscription'), (SELECT ID FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_PURCHASE'), 'OFFERMAKER', SYSDATE);
11:50:28 151  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 88815005, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-recipient-30days-reminder'), (SELECT ID FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_PURCHASE_30DAY'), 'OFFERMAKER', SYSDATE);
11:50:28 152  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 88815005, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-recipient-90days-reminder'), (SELECT ID FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_PURCHASE_90DAY'), 'OFFERMAKER', SYSDATE);
11:50:28 153  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 88815005, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-purchase'), (SELECT ID FROM ACTION WHERE NAME = 'PURCHASE_GIFT_CERTIFICATE'), 'OFFERMAKER', SYSDATE);
11:50:28 154  BEGIN
11:50:28 155  	SELECT 1 INTO TMP_VAR FROM OFFER_OFFER_CHAIN WHERE OFFER_CHAIN_ID = 88815005 AND INDEX_VALUE = 0 AND ROWNUM <= 1;
11:50:28 156  EXCEPTION
11:50:28 157  	WHEN NO_DATA_FOUND THEN
11:50:28 158  INSERT INTO OFFER (ID, OFFER_STATUS_ID, ENTITLEMENT_DURATION, CREATED_BY, CREATE_DATE, updated_by, update_date) VALUES (OFR_ID_SEQ.NEXTVAL, 1, 'P0Y0M112DT0H0M', 'OFFERMAKER', SYSDATE, 'OFFERMAKER', SYSDATE);
11:50:28 159  BEGIN
11:50:28 160  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Web' AND ROWNUM <= 1;
11:50:28 161  EXCEPTION
11:50:28 162  	WHEN NO_DATA_FOUND THEN
11:50:28 163  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Web', 'OFFERMAKER', SYSDATE);
11:50:28 164  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Web' AND ROWNUM <= 1;
11:50:28 165  	WHEN OTHERS THEN
11:50:28 166  	  RAISE;
11:50:28 167  END;
11:50:28 168  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '2', '112', '0.357143', 'OFFERMAKER', SYSDATE);
11:50:28 169  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
11:50:28 170  INSERT INTO DISCOUNT (ID, NAME, DESCRIPTION, FIXED_AMOUNT, PERCENT_AMOUNT, DISCOUNT_TYPE_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.NEXTVAL, 'Discount', 'Off: 0.0. P.Disc: 0.0000. P.Full: 40.0000', '40.00', '0', 1, 'OFFERMAKER', SYSDATE);
11:50:28 171  INSERT INTO DISCOUNT_PRODUCT_OFFERING (DISCOUNT_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
11:50:28 172  BEGIN
11:50:28 173  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Mobile' AND ROWNUM <= 1;
11:50:28 174  EXCEPTION
11:50:28 175  	WHEN NO_DATA_FOUND THEN
11:50:28 176  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Mobile', 'OFFERMAKER', SYSDATE);
11:50:28 177  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Mobile' AND ROWNUM <= 1;
11:50:28 178  	WHEN OTHERS THEN
11:50:28 179  	  RAISE;
11:50:28 180  END;
11:50:28 181  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '112', '0', 'OFFERMAKER', SYSDATE);
11:50:28 182  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
11:50:28 183  BEGIN
11:50:28 184  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Archive Article' AND ROWNUM <= 1;
11:50:28 185  EXCEPTION
11:50:28 186  	WHEN NO_DATA_FOUND THEN
11:50:28 187  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Archive Article', 'OFFERMAKER', SYSDATE);
11:50:28 188  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Archive Article' AND ROWNUM <= 1;
11:50:28 189  	WHEN OTHERS THEN
11:50:28 190  	  RAISE;
11:50:28 191  END;
11:50:28 192  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '400', '0', 'OFFERMAKER', SYSDATE);
11:50:28 193  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
11:50:28 194  BEGIN
11:50:28 195  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'TimesMachine' AND ROWNUM <= 1;
11:50:28 196  EXCEPTION
11:50:28 197  	WHEN NO_DATA_FOUND THEN
11:50:28 198  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'TimesMachine', 'OFFERMAKER', SYSDATE);
11:50:28 199  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'TimesMachine' AND ROWNUM <= 1;
11:50:28 200  	WHEN OTHERS THEN
11:50:28 201  	  RAISE;
11:50:28 202  END;
11:50:28 203  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '112', '0', 'OFFERMAKER', SYSDATE);
11:50:28 204  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
11:50:28 205  BEGIN
11:50:28 206  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Smartphone' AND ROWNUM <= 1;
11:50:28 207  EXCEPTION
11:50:28 208  	WHEN NO_DATA_FOUND THEN
11:50:28 209  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Smartphone', 'OFFERMAKER', SYSDATE);
11:50:28 210  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Smartphone' AND ROWNUM <= 1;
11:50:28 211  	WHEN OTHERS THEN
11:50:28 212  	  RAISE;
11:50:28 213  END;
11:50:28 214  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '2', '112', '0.178571', 'OFFERMAKER', SYSDATE);
11:50:28 215  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
11:50:28 216  INSERT INTO DISCOUNT (ID, NAME, DESCRIPTION, FIXED_AMOUNT, PERCENT_AMOUNT, DISCOUNT_TYPE_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.NEXTVAL, 'Discount', 'Off: 0.0. P.Disc: 0.0000. P.Full: 20.0000', '20.00', '0', 1, 'OFFERMAKER', SYSDATE);
11:50:28 217  INSERT INTO DISCOUNT_PRODUCT_OFFERING (DISCOUNT_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
11:50:28 218  BEGIN
11:50:28 219  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Tablet' AND ROWNUM <= 1;
11:50:28 220  EXCEPTION
11:50:28 221  	WHEN NO_DATA_FOUND THEN
11:50:28 222  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Tablet', 'OFFERMAKER', SYSDATE);
11:50:28 223  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Tablet' AND ROWNUM <= 1;
11:50:28 224  	WHEN OTHERS THEN
11:50:28 225  	  RAISE;
11:50:28 226  END;
11:50:28 227  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '2', '112', '0.714286', 'OFFERMAKER', SYSDATE);
11:50:28 228  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
11:50:28 229  INSERT INTO DISCOUNT (ID, NAME, DESCRIPTION, FIXED_AMOUNT, PERCENT_AMOUNT, DISCOUNT_TYPE_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.NEXTVAL, 'Discount', 'Off: 0.0. P.Disc: 0.0000. P.Full: 80.0000', '80.00', '0', 1, 'OFFERMAKER', SYSDATE);
11:50:28 230  INSERT INTO DISCOUNT_PRODUCT_OFFERING (DISCOUNT_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
11:50:28 231  BEGIN
11:50:28 232  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'TimesReader' AND ROWNUM <= 1;
11:50:28 233  EXCEPTION
11:50:28 234  	WHEN NO_DATA_FOUND THEN
11:50:28 235  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'TimesReader', 'OFFERMAKER', SYSDATE);
11:50:28 236  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'TimesReader' AND ROWNUM <= 1;
11:50:28 237  	WHEN OTHERS THEN
11:50:28 238  	  RAISE;
11:50:28 239  END;
11:50:28 240  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '112', '0', 'OFFERMAKER', SYSDATE);
11:50:28 241  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
11:50:28 242  INSERT INTO OFFER_OFFER_CHAIN (OFFER_ID, OFFER_CHAIN_ID, INDEX_VALUE, NUM_RECURRENCES, CREATED_BY, CREATE_DATE, updated_by, update_date) VALUES (OFR_ID_SEQ.CURRVAL, 88815005, '0', '1', 'OFFERMAKER', SYSDATE, 'OFFERMAKER', SYSDATE);
11:50:28 243  END;
11:50:28 244  END;
11:50:28 245  /

PL/SQL procedure successfully completed.

Elapsed: 00:00:00.11
11:50:28 SQL> COMMIT;

Commit complete.

Elapsed: 00:00:00.00
11:50:28 SQL> DECLARE
11:50:28   2  TMP_VAR NUMBER;
11:50:28   3  CUR_PRD_ID NUMBER;
11:50:28   4  CUR_CAPABILITY_ID NUMBER;
11:50:28   5  BEGIN
11:50:28   6  BEGIN
11:50:28   7  	SELECT 1 INTO TMP_VAR FROM OFFER_CHAIN WHERE ID = 88815006 AND ROWNUM <= 1;
11:50:28   8  	UPDATE OFFER_CHAIN SET NAME='All Digital Access', DESCRIPTION='Unlimited access to NYTimes.com, and the NYTimes smartphone and tablet apps.*', PRODUCT_URI='', VENDOR_SOURCE_ID='1', BILLING_SOURCE_ID=(SELECT ID FROM BILLING_SOURCE BS WHERE BS.NAME='Sartre'), IS_SEAT_LICENSE=0, GROUP_ACCOUNT_TYPE_ID='NO',IS_ADDRESS_REQUIRED=1, OFFER_CHAIN_STATUS_ID = 1, UPDATE_DATE = SYSDATE, UPDATED_BY = 'OFFERMAKER', IS_GIFT_CERTIFICATE='0', REVOKE_ENTITLEMENTS = '0', ADOPTABILITY_WINDOW_START_DATE = to_date('31-Jul-2013 00:00:00','DD-MON-YY HH24:MI:SS'), ADOPTABILITY_WINDOW_END_DATE = to_date('01-Jan-2019 00:00:00','DD-MON-YY HH24:MI:SS'), AMAZON_APPSTORE_SKU=NULL WHERE ID = 88815006;
11:50:28   9  EXCEPTION
11:50:28  10  	WHEN NO_DATA_FOUND THEN
11:50:28  11  	  INSERT INTO OFFER_CHAIN (ID, NAME, DESCRIPTION, ADOPTABILITY_WINDOW_START_DATE, ADOPTABILITY_WINDOW_END_DATE, IS_GIFT_CERTIFICATE, PRODUCT_URI, OFFER_CHAIN_STATUS_ID, REVOKE_ENTITLEMENTS, VENDOR_SOURCE_ID, BILLING_SOURCE_ID, IS_SEAT_LICENSE, GROUP_ACCOUNT_TYPE_ID, IS_ADDRESS_REQUIRED, AMAZON_APPSTORE_SKU, CREATED_BY, CREATE_DATE, updated_by, update_date) VALUES (88815006, 'All Digital Access', 'Unlimited access to NYTimes.com, and the NYTimes smartphone and tablet apps.*', to_date('31-Jul-2013 00:00:00','DD-MON-YY HH24:MI:SS'), to_date('01-Jan-2019 00:00:00','DD-MON-YY HH24:MI:SS'), '0', NULL, '1', '0', '1', (SELECT ID FROM BILLING_SOURCE BS WHERE BS.NAME='Sartre'), decode('NO','IL',1,0), 'NO', '1', '', 'OFFERMAKER', SYSDATE, 'OFFERMAKER', SYSDATE);
11:50:28  12  END;
11:50:28  13  DELETE FROM OFFER_CHAIN_ELIGIBILITY WHERE offer_chain_id = 88815006;
11:50:28  14  INSERT INTO OFFER_CHAIN_ELIGIBILITY (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (ELG_ID_SEQ.NEXTVAL, 88815006, 'GIFT CERTIFICATE REQUIRED', '1', 'OFFERMAKER', SYSDATE);
11:50:28  15  INSERT INTO OFFER_CHAIN_ELIGIBILITY (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (ELG_ID_SEQ.NEXTVAL, 88815006, 'IS_COMP', '1', 'OFFERMAKER', SYSDATE);
11:50:28  16  INSERT INTO OFFER_CHAIN_ELIGIBILITY (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (ELG_ID_SEQ.NEXTVAL, 88815006, 'MAX_CONCURRENT_SUBS', '1', 'OFFERMAKER', SYSDATE);
11:50:28  17  DELETE FROM OFFER_CHAIN_META_DATA WHERE offer_chain_id = 88815006;
11:50:28  18  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815006, 'BUNDLE_EXPLANATION', 'Bundle D - 16 Week Gift Sub - Redeem OC XanEdu', 'OFFERMAKER', SYSDATE);
11:50:28  19  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815006, 'PRICE_DESCRIPTION', '4 Month Gift Subscription - $0 for 16 weeks - redeem', 'OFFERMAKER', SYSDATE);
11:50:28  20  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815006, 'PRICE_SHORT_DESCRIPTION', 'BNDL D / $0 16 wks GC redemp', 'OFFERMAKER', SYSDATE);
11:50:28  21  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815006, 'OFFER_TYPE', 'Edu Digital Gift Subscription for 16 weeks- XanEdu ', 'OFFERMAKER', SYSDATE);
11:50:28  22  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815006, 'PROMO_PRICE_FOOTER_LABEL', '16 Weeks', 'OFFERMAKER', SYSDATE);
11:50:28  23  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815006, 'BILLING_CYCLE', '16 week gift', 'OFFERMAKER', SYSDATE);
11:50:28  24  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815006, 'SUBSCRIBER_TYPE', 'Education', 'OFFERMAKER', SYSDATE);
11:50:28  25  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815006, 'OPEN_TO_ANONYMOUS', '1', 'OFFERMAKER', SYSDATE);
11:50:28  26  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815006, 'BUNDLE', 'Bundle D (Digital All Access)', 'OFFERMAKER', SYSDATE);
11:50:28  27  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815006, 'ADX_BUNDLE', 'MM_EDU', 'OFFERMAKER', SYSDATE);
11:50:28  28  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815006, 'SIEBEL_CAMPAIGN_CODE', '3KL8W', 'OFFERMAKER', SYSDATE);
11:50:28  29  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815006, 'IS_COMP', '1', 'OFFERMAKER', SYSDATE);
11:50:28  30  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815006, 'ANNUAL_PRICE', '455.00', 'OFFERMAKER', SYSDATE);
11:50:28  31  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 88815006, 'UID', '97bc2fe9872a3dce337827ecc44fe1d1705fabd5b822c6f7eccbc048cd5d11c1', 'OFFERMAKER', SYSDATE);
11:50:28  32  DELETE FROM OFFER_CHAIN_NOTIFICATION_TYPE WHERE offer_chain_id = 88815006;
11:50:28  33  BEGIN
11:50:28  34  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'SUBSCRIBE_TO_OFFER_CHAIN';
11:50:28  35  EXCEPTION
11:50:28  36  	WHEN NO_DATA_FOUND THEN
11:50:28  37  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'SUBSCRIBE_TO_OFFER_CHAIN', SYSDATE, 'OFFERMAKER');
11:50:28  38  END;
11:50:28  39  BEGIN
11:50:28  40  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-purchase';
11:50:28  41  EXCEPTION
11:50:28  42  	WHEN NO_DATA_FOUND THEN NULL;
11:50:28  43  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-purchase', 'N/A');
11:50:28  44  END;
11:50:28  45  BEGIN
11:50:28  46  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'UPGRADE_SUBSCRIPTION';
11:50:28  47  EXCEPTION
11:50:28  48  	WHEN NO_DATA_FOUND THEN
11:50:28  49  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'UPGRADE_SUBSCRIPTION', SYSDATE, 'OFFERMAKER');
11:50:28  50  END;
11:50:28  51  BEGIN
11:50:28  52  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-purchase';
11:50:28  53  EXCEPTION
11:50:28  54  	WHEN NO_DATA_FOUND THEN NULL;
11:50:28  55  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-purchase', 'N/A');
11:50:28  56  END;
11:50:28  57  BEGIN
11:50:28  58  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'CANCEL_SUBSCRIPTION';
11:50:28  59  EXCEPTION
11:50:28  60  	WHEN NO_DATA_FOUND THEN
11:50:28  61  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'CANCEL_SUBSCRIPTION', SYSDATE, 'OFFERMAKER');
11:50:28  62  END;
11:50:28  63  BEGIN
11:50:28  64  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-cancel';
11:50:28  65  EXCEPTION
11:50:28  66  	WHEN NO_DATA_FOUND THEN NULL;
11:50:28  67  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-cancel', 'N/A');
11:50:28  68  END;
11:50:28  69  BEGIN
11:50:28  70  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'SYSTEM_CANCEL';
11:50:28  71  EXCEPTION
11:50:28  72  	WHEN NO_DATA_FOUND THEN
11:50:28  73  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'SYSTEM_CANCEL', SYSDATE, 'OFFERMAKER');
11:50:28  74  END;
11:50:28  75  BEGIN
11:50:28  76  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-decline';
11:50:28  77  EXCEPTION
11:50:28  78  	WHEN NO_DATA_FOUND THEN NULL;
11:50:28  79  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-decline', 'N/A');
11:50:28  80  END;
11:50:28  81  BEGIN
11:50:28  82  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'CREDIT_CARD_EXP';
11:50:28  83  EXCEPTION
11:50:28  84  	WHEN NO_DATA_FOUND THEN
11:50:28  85  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'CREDIT_CARD_EXP', SYSDATE, 'OFFERMAKER');
11:50:28  86  END;
11:50:28  87  BEGIN
11:50:28  88  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'card_expiration';
11:50:28  89  EXCEPTION
11:50:28  90  	WHEN NO_DATA_FOUND THEN NULL;
11:50:28  91  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'card_expiration', 'N/A');
11:50:28  92  END;
11:50:28  93  BEGIN
11:50:28  94  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_REDEEM';
11:50:28  95  EXCEPTION
11:50:28  96  	WHEN NO_DATA_FOUND THEN
11:50:28  97  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'GC_REDEEMER_ON_REDEEM', SYSDATE, 'OFFERMAKER');
11:50:28  98  END;
11:50:28  99  BEGIN
11:50:28 100  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-sub-activation';
11:50:28 101  EXCEPTION
11:50:28 102  	WHEN NO_DATA_FOUND THEN NULL;
11:50:28 103  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-gift-sub-activation', 'N/A');
11:50:28 104  END;
11:50:28 105  BEGIN
11:50:28 106  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'CLOSE_SUBSCRIPTION';
11:50:28 107  EXCEPTION
11:50:28 108  	WHEN NO_DATA_FOUND THEN
11:50:28 109  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'CLOSE_SUBSCRIPTION', SYSDATE, 'OFFERMAKER');
11:50:28 110  END;
11:50:28 111  BEGIN
11:50:28 112  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-sub-expired-gift';
11:50:28 113  EXCEPTION
11:50:28 114  	WHEN NO_DATA_FOUND THEN NULL;
11:50:28 115  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-sub-expired-gift', 'N/A');
11:50:28 116  END;
11:50:28 117  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 88815006, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-purchase'), (SELECT ID FROM ACTION WHERE NAME = 'SUBSCRIBE_TO_OFFER_CHAIN'), 'OFFERMAKER', SYSDATE);
11:50:28 118  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 88815006, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-purchase'), (SELECT ID FROM ACTION WHERE NAME = 'UPGRADE_SUBSCRIPTION'), 'OFFERMAKER', SYSDATE);
11:50:28 119  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 88815006, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-cancel'), (SELECT ID FROM ACTION WHERE NAME = 'CANCEL_SUBSCRIPTION'), 'OFFERMAKER', SYSDATE);
11:50:28 120  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 88815006, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-decline'), (SELECT ID FROM ACTION WHERE NAME = 'SYSTEM_CANCEL'), 'OFFERMAKER', SYSDATE);
11:50:28 121  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 88815006, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'card_expiration'), (SELECT ID FROM ACTION WHERE NAME = 'CREDIT_CARD_EXP'), 'OFFERMAKER', SYSDATE);
11:50:28 122  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 88815006, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-sub-activation'), (SELECT ID FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_REDEEM'), 'OFFERMAKER', SYSDATE);
11:50:28 123  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 88815006, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-sub-expired-gift'), (SELECT ID FROM ACTION WHERE NAME = 'CLOSE_SUBSCRIPTION'), 'OFFERMAKER', SYSDATE);
11:50:28 124  BEGIN
11:50:28 125  	SELECT 1 INTO TMP_VAR FROM OFFER_OFFER_CHAIN WHERE OFFER_CHAIN_ID = 88815006 AND INDEX_VALUE = 0 AND ROWNUM <= 1;
11:50:28 126  EXCEPTION
11:50:28 127  	WHEN NO_DATA_FOUND THEN
11:50:28 128  INSERT INTO OFFER (ID, OFFER_STATUS_ID, ENTITLEMENT_DURATION, CREATED_BY, CREATE_DATE, updated_by, update_date) VALUES (OFR_ID_SEQ.NEXTVAL, 1, 'P0Y0M112DT0H0M', 'OFFERMAKER', SYSDATE, 'OFFERMAKER', SYSDATE);
11:50:28 129  BEGIN
11:50:28 130  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Web' AND ROWNUM <= 1;
11:50:28 131  EXCEPTION
11:50:28 132  	WHEN NO_DATA_FOUND THEN
11:50:28 133  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Web', 'OFFERMAKER', SYSDATE);
11:50:28 134  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Web' AND ROWNUM <= 1;
11:50:28 135  	WHEN OTHERS THEN
11:50:28 136  	  RAISE;
11:50:28 137  END;
11:50:28 138  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '112', '0.357143', 'OFFERMAKER', SYSDATE);
11:50:28 139  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
11:50:28 140  INSERT INTO DISCOUNT (ID, NAME, DESCRIPTION, FIXED_AMOUNT, PERCENT_AMOUNT, DISCOUNT_TYPE_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.NEXTVAL, 'Discount', 'Off: 0.0. P.Disc: 0.0000. P.Full: 40.0000', '40.00', '0', 1, 'OFFERMAKER', SYSDATE);
11:50:28 141  INSERT INTO DISCOUNT_PRODUCT_OFFERING (DISCOUNT_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
11:50:28 142  BEGIN
11:50:28 143  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Mobile' AND ROWNUM <= 1;
11:50:28 144  EXCEPTION
11:50:28 145  	WHEN NO_DATA_FOUND THEN
11:50:28 146  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Mobile', 'OFFERMAKER', SYSDATE);
11:50:28 147  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Mobile' AND ROWNUM <= 1;
11:50:28 148  	WHEN OTHERS THEN
11:50:28 149  	  RAISE;
11:50:28 150  END;
11:50:28 151  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '112', '0', 'OFFERMAKER', SYSDATE);
11:50:28 152  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
11:50:28 153  BEGIN
11:50:28 154  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Archive Article' AND ROWNUM <= 1;
11:50:28 155  EXCEPTION
11:50:28 156  	WHEN NO_DATA_FOUND THEN
11:50:28 157  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Archive Article', 'OFFERMAKER', SYSDATE);
11:50:28 158  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Archive Article' AND ROWNUM <= 1;
11:50:28 159  	WHEN OTHERS THEN
11:50:28 160  	  RAISE;
11:50:28 161  END;
11:50:28 162  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '400', '0', 'OFFERMAKER', SYSDATE);
11:50:28 163  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
11:50:28 164  BEGIN
11:50:28 165  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'TimesMachine' AND ROWNUM <= 1;
11:50:28 166  EXCEPTION
11:50:28 167  	WHEN NO_DATA_FOUND THEN
11:50:28 168  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'TimesMachine', 'OFFERMAKER', SYSDATE);
11:50:28 169  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'TimesMachine' AND ROWNUM <= 1;
11:50:28 170  	WHEN OTHERS THEN
11:50:28 171  	  RAISE;
11:50:28 172  END;
11:50:28 173  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '112', '0', 'OFFERMAKER', SYSDATE);
11:50:28 174  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
11:50:28 175  BEGIN
11:50:28 176  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Smartphone' AND ROWNUM <= 1;
11:50:28 177  EXCEPTION
11:50:28 178  	WHEN NO_DATA_FOUND THEN
11:50:28 179  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Smartphone', 'OFFERMAKER', SYSDATE);
11:50:28 180  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Smartphone' AND ROWNUM <= 1;
11:50:28 181  	WHEN OTHERS THEN
11:50:28 182  	  RAISE;
11:50:28 183  END;
11:50:28 184  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '112', '0.178571', 'OFFERMAKER', SYSDATE);
11:50:28 185  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
11:50:28 186  INSERT INTO DISCOUNT (ID, NAME, DESCRIPTION, FIXED_AMOUNT, PERCENT_AMOUNT, DISCOUNT_TYPE_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.NEXTVAL, 'Discount', 'Off: 0.0. P.Disc: 0.0000. P.Full: 20.0000', '20.00', '0', 1, 'OFFERMAKER', SYSDATE);
11:50:28 187  INSERT INTO DISCOUNT_PRODUCT_OFFERING (DISCOUNT_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
11:50:28 188  BEGIN
11:50:28 189  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Tablet' AND ROWNUM <= 1;
11:50:28 190  EXCEPTION
11:50:28 191  	WHEN NO_DATA_FOUND THEN
11:50:28 192  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Tablet', 'OFFERMAKER', SYSDATE);
11:50:28 193  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Tablet' AND ROWNUM <= 1;
11:50:28 194  	WHEN OTHERS THEN
11:50:28 195  	  RAISE;
11:50:28 196  END;
11:50:28 197  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '112', '0.714286', 'OFFERMAKER', SYSDATE);
11:50:28 198  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
11:50:28 199  INSERT INTO DISCOUNT (ID, NAME, DESCRIPTION, FIXED_AMOUNT, PERCENT_AMOUNT, DISCOUNT_TYPE_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.NEXTVAL, 'Discount', 'Off: 0.0. P.Disc: 0.0000. P.Full: 80.0000', '80.00', '0', 1, 'OFFERMAKER', SYSDATE);
11:50:28 200  INSERT INTO DISCOUNT_PRODUCT_OFFERING (DISCOUNT_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
11:50:28 201  BEGIN
11:50:28 202  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'TimesReader' AND ROWNUM <= 1;
11:50:28 203  EXCEPTION
11:50:28 204  	WHEN NO_DATA_FOUND THEN
11:50:28 205  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'TimesReader', 'OFFERMAKER', SYSDATE);
11:50:28 206  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'TimesReader' AND ROWNUM <= 1;
11:50:28 207  	WHEN OTHERS THEN
11:50:28 208  	  RAISE;
11:50:28 209  END;
11:50:28 210  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '112', '0', 'OFFERMAKER', SYSDATE);
11:50:28 211  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
11:50:28 212  INSERT INTO OFFER_OFFER_CHAIN (OFFER_ID, OFFER_CHAIN_ID, INDEX_VALUE, NUM_RECURRENCES, CREATED_BY, CREATE_DATE, updated_by, update_date) VALUES (OFR_ID_SEQ.CURRVAL, 88815006, '0', '1', 'OFFERMAKER', SYSDATE, 'OFFERMAKER', SYSDATE);
11:50:28 213  END;
11:50:28 214  END;
11:50:28 215  /

PL/SQL procedure successfully completed.

Elapsed: 00:00:00.06
11:50:29 SQL> COMMIT;

Commit complete.

Elapsed: 00:00:00.01
11:50:29 SQL> commit;

Commit complete.

Elapsed: 00:00:00.00
11:50:29 SQL> spool off;
