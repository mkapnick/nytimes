15:09:52 SQL> @/dbbackups/ECPR/migrations/core_owner/77.1-create-edu-16-wk-gift-subs/upgrade.sql
15:09:52 SQL> WHENEVER SQLERROR EXIT SQL.SQLCODE ROLLBACK
15:09:52 SQL> SET SCAN OFF
15:09:52 SQL> SET DEFINE OFF
15:09:52 SQL> DECLARE
15:09:52   2  TMP_VAR NUMBER;
15:09:52   3  CUR_PRD_ID NUMBER;
15:09:52   4  CUR_CAPABILITY_ID NUMBER;
15:09:52   5  BEGIN
15:09:52   6  BEGIN
15:09:52   7  	SELECT 1 INTO TMP_VAR FROM OFFER_CHAIN WHERE ID = 99915001 AND ROWNUM <= 1;
15:09:52   8  	UPDATE OFFER_CHAIN SET NAME='NYTimes: Web + Smartphone App', DESCRIPTION='Unlimited access to NYTimes.com and the NYTimes smartphone app.*', PRODUCT_URI='', VENDOR_SOURCE_ID='1', BILLING_SOURCE_ID=(SELECT ID FROM BILLING_SOURCE BS WHERE BS.NAME='Sartre'), IS_SEAT_LICENSE=0, GROUP_ACCOUNT_TYPE_ID='NO',IS_ADDRESS_REQUIRED=1, OFFER_CHAIN_STATUS_ID = 1, UPDATE_DATE = SYSDATE, UPDATED_BY = 'OFFERMAKER', IS_GIFT_CERTIFICATE='1', REVOKE_ENTITLEMENTS = '0', ADOPTABILITY_WINDOW_START_DATE = to_date('15-Jul-2013 00:00:00','DD-MON-YY HH24:MI:SS'), ADOPTABILITY_WINDOW_END_DATE = to_date('01-Feb-2099 00:00:00','DD-MON-YY HH24:MI:SS'), AMAZON_APPSTORE_SKU=NULL WHERE ID = 99915001;
15:09:52   9  EXCEPTION
15:09:52  10  	WHEN NO_DATA_FOUND THEN
15:09:52  11  	  INSERT INTO OFFER_CHAIN (ID, NAME, DESCRIPTION, ADOPTABILITY_WINDOW_START_DATE, ADOPTABILITY_WINDOW_END_DATE, IS_GIFT_CERTIFICATE, PRODUCT_URI, OFFER_CHAIN_STATUS_ID, REVOKE_ENTITLEMENTS, VENDOR_SOURCE_ID, BILLING_SOURCE_ID, IS_SEAT_LICENSE, GROUP_ACCOUNT_TYPE_ID, IS_ADDRESS_REQUIRED, AMAZON_APPSTORE_SKU, CREATED_BY, CREATE_DATE, updated_by, update_date) VALUES (99915001, 'NYTimes: Web + Smartphone App', 'Unlimited access to NYTimes.com and the NYTimes smartphone app.*', to_date('15-Jul-2013 00:00:00','DD-MON-YY HH24:MI:SS'), to_date('01-Feb-2099 00:00:00','DD-MON-YY HH24:MI:SS'), '1', NULL, '1', '0', '1', (SELECT ID FROM BILLING_SOURCE BS WHERE BS.NAME='Sartre'), decode('NO','IL',1,0), 'NO', '1', '', 'OFFERMAKER', SYSDATE, 'OFFERMAKER', SYSDATE);
15:09:52  12  END;
15:09:52  13  DELETE FROM OFFER_CHAIN_ELIGIBILITY WHERE offer_chain_id = 99915001;
15:09:52  14  INSERT INTO OFFER_CHAIN_ELIGIBILITY (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (ELG_ID_SEQ.NEXTVAL, 99915001, 'IS_COMP', '0', 'OFFERMAKER', SYSDATE);
15:09:52  15  INSERT INTO OFFER_CHAIN_ELIGIBILITY (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (ELG_ID_SEQ.NEXTVAL, 99915001, 'REDEEMER_PROHIBITED_ENTITLEMENTS', 'mm,msd,mow,timesreader', 'OFFERMAKER', SYSDATE);
15:09:52  16  DELETE FROM OFFER_CHAIN_META_DATA WHERE offer_chain_id = 99915001;
15:09:52  17  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915001, 'BUNDLE_EXPLANATION', 'Bundle A - 16 Week Gift Sub - Purchase OC', 'OFFERMAKER', SYSDATE);
15:09:52  18  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915001, 'PRICE_DESCRIPTION', '4 Month Gift Subscription - $23.49 for 16 weeks - purchase', 'OFFERMAKER', SYSDATE);
15:09:52  19  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915001, 'PRICE_SHORT_DESCRIPTION', 'BNDL A / $23.49 16 wks GC purch', 'OFFERMAKER', SYSDATE);
15:09:52  20  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915001, 'OFFER_TYPE', 'Edu Digital Gift Subscription for 16 weeks', 'OFFERMAKER', SYSDATE);
15:09:52  21  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915001, 'OFFER_PRICE_DESCRIPTOR', '16 Weeks Gift Certificate', 'OFFERMAKER', SYSDATE);
15:09:52  22  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915001, 'OFFER_PRICE', '$23.49 for 16 weeks', 'OFFERMAKER', SYSDATE);
15:09:52  23  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915001, 'PROMO_PRICE_FOOTER_LABEL', '16 Weeks', 'OFFERMAKER', SYSDATE);
15:09:52  24  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915001, 'BILLING_CYCLE', 'You will be billed for a 16 week gift subscription in full.', 'OFFERMAKER', SYSDATE);
15:09:52  25  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915001, 'SUBSCRIBER_TYPE', 'Education', 'OFFERMAKER', SYSDATE);
15:09:52  26  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915001, 'ABOUT_ORDER', 'The full purchase price for gift subscriptions will be charged at the time of purchase and is non-refundable.  Redemption codes are not replaceable. Prices are in U.S. dollars and are subject to change. Other restrictions may apply.  Gift subscription period begins the day of redemption.  Redemption code expires five years after date of purchase.', 'OFFERMAKER', SYSDATE);
15:09:52  27  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915001, 'redemption offer chain id', '99915002', 'OFFERMAKER', SYSDATE);
15:09:52  28  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915001, 'OPEN_TO_ANONYMOUS', '1', 'OFFERMAKER', SYSDATE);
15:09:52  29  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915001, 'BUNDLE', 'Bundle A (Web+SP)', 'OFFERMAKER', SYSDATE);
15:09:52  30  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915001, 'ADX_BUNDLE', 'MM_EDU', 'OFFERMAKER', SYSDATE);
15:09:52  31  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915001, 'SIEBEL_CAMPAIGN_CODE', '3JKLR', 'OFFERMAKER', SYSDATE);
15:09:52  32  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915001, 'SOCIAL_DISPLAY', 'nyt-bundle', 'OFFERMAKER', SYSDATE);
15:09:52  33  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915001, 'ANNUAL_PRICE', '195.00', 'OFFERMAKER', SYSDATE);
15:09:52  34  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915001, 'UID', '50aaac1f7467b1dfe6a61ecee7de73fde84fb3e7164cff95114739b0d04472f9', 'OFFERMAKER', SYSDATE);
15:09:52  35  DELETE FROM OFFER_CHAIN_NOTIFICATION_TYPE WHERE offer_chain_id = 99915001;
15:09:52  36  BEGIN
15:09:52  37  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'SUBSCRIBE_TO_OFFER_CHAIN';
15:09:52  38  EXCEPTION
15:09:52  39  	WHEN NO_DATA_FOUND THEN
15:09:52  40  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'SUBSCRIBE_TO_OFFER_CHAIN', SYSDATE, 'OFFERMAKER');
15:09:52  41  END;
15:09:52  42  BEGIN
15:09:52  43  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-purchase';
15:09:52  44  EXCEPTION
15:09:52  45  	WHEN NO_DATA_FOUND THEN NULL;
15:09:52  46  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-gift-purchase', 'N/A');
15:09:52  47  END;
15:09:52  48  BEGIN
15:09:52  49  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'UPGRADE_SUBSCRIPTION';
15:09:52  50  EXCEPTION
15:09:52  51  	WHEN NO_DATA_FOUND THEN
15:09:52  52  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'UPGRADE_SUBSCRIPTION', SYSDATE, 'OFFERMAKER');
15:09:52  53  END;
15:09:52  54  BEGIN
15:09:52  55  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-purchase';
15:09:52  56  EXCEPTION
15:09:52  57  	WHEN NO_DATA_FOUND THEN NULL;
15:09:52  58  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-gift-purchase', 'N/A');
15:09:52  59  END;
15:09:52  60  BEGIN
15:09:52  61  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'CANCEL_SUBSCRIPTION';
15:09:52  62  EXCEPTION
15:09:52  63  	WHEN NO_DATA_FOUND THEN
15:09:52  64  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'CANCEL_SUBSCRIPTION', SYSDATE, 'OFFERMAKER');
15:09:52  65  END;
15:09:52  66  BEGIN
15:09:52  67  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-cancel';
15:09:52  68  EXCEPTION
15:09:52  69  	WHEN NO_DATA_FOUND THEN NULL;
15:09:52  70  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-cancel', 'N/A');
15:09:52  71  END;
15:09:52  72  BEGIN
15:09:52  73  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'SYSTEM_CANCEL';
15:09:52  74  EXCEPTION
15:09:52  75  	WHEN NO_DATA_FOUND THEN
15:09:52  76  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'SYSTEM_CANCEL', SYSDATE, 'OFFERMAKER');
15:09:52  77  END;
15:09:52  78  BEGIN
15:09:52  79  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-decline';
15:09:52  80  EXCEPTION
15:09:52  81  	WHEN NO_DATA_FOUND THEN NULL;
15:09:52  82  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-gift-decline', 'N/A');
15:09:52  83  END;
15:09:52  84  BEGIN
15:09:52  85  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'CREDIT_CARD_EXP';
15:09:52  86  EXCEPTION
15:09:52  87  	WHEN NO_DATA_FOUND THEN
15:09:52  88  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'CREDIT_CARD_EXP', SYSDATE, 'OFFERMAKER');
15:09:52  89  END;
15:09:52  90  BEGIN
15:09:52  91  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'card_expiration';
15:09:52  92  EXCEPTION
15:09:52  93  	WHEN NO_DATA_FOUND THEN NULL;
15:09:52  94  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'card_expiration', 'N/A');
15:09:52  95  END;
15:09:52  96  BEGIN
15:09:52  97  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_PURCHASE';
15:09:52  98  EXCEPTION
15:09:52  99  	WHEN NO_DATA_FOUND THEN
15:09:52 100  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'GC_REDEEMER_ON_PURCHASE', SYSDATE, 'OFFERMAKER');
15:09:52 101  END;
15:09:52 102  BEGIN
15:09:52 103  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-subscription';
15:09:52 104  EXCEPTION
15:09:52 105  	WHEN NO_DATA_FOUND THEN NULL;
15:09:52 106  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-gift-subscription', 'N/A');
15:09:52 107  END;
15:09:52 108  BEGIN
15:09:52 109  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_PURCHASE_30DAY';
15:09:52 110  EXCEPTION
15:09:52 111  	WHEN NO_DATA_FOUND THEN
15:09:52 112  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'GC_REDEEMER_ON_PURCHASE_30DAY', SYSDATE, 'OFFERMAKER');
15:09:52 113  END;
15:09:52 114  BEGIN
15:09:52 115  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-recipient-30days-reminder';
15:09:52 116  EXCEPTION
15:09:52 117  	WHEN NO_DATA_FOUND THEN NULL;
15:09:52 118  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-recipient-30days-reminder', 'N/A');
15:09:52 119  END;
15:09:52 120  BEGIN
15:09:52 121  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_PURCHASE_90DAY';
15:09:52 122  EXCEPTION
15:09:52 123  	WHEN NO_DATA_FOUND THEN
15:09:52 124  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'GC_REDEEMER_ON_PURCHASE_90DAY', SYSDATE, 'OFFERMAKER');
15:09:52 125  END;
15:09:52 126  BEGIN
15:09:52 127  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-recipient-90days-reminder';
15:09:52 128  EXCEPTION
15:09:52 129  	WHEN NO_DATA_FOUND THEN NULL;
15:09:52 130  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-recipient-90days-reminder', 'N/A');
15:09:52 131  END;
15:09:52 132  BEGIN
15:09:52 133  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'PURCHASE_GIFT_CERTIFICATE';
15:09:52 134  EXCEPTION
15:09:52 135  	WHEN NO_DATA_FOUND THEN
15:09:52 136  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'PURCHASE_GIFT_CERTIFICATE', SYSDATE, 'OFFERMAKER');
15:09:52 137  END;
15:09:52 138  BEGIN
15:09:52 139  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-purchase';
15:09:52 140  EXCEPTION
15:09:52 141  	WHEN NO_DATA_FOUND THEN NULL;
15:09:52 142  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-gift-purchase', 'N/A');
15:09:52 143  END;
15:09:52 144  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915001, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-purchase'), (SELECT ID FROM ACTION WHERE NAME = 'SUBSCRIBE_TO_OFFER_CHAIN'), 'OFFERMAKER', SYSDATE);
15:09:52 145  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915001, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-purchase'), (SELECT ID FROM ACTION WHERE NAME = 'UPGRADE_SUBSCRIPTION'), 'OFFERMAKER', SYSDATE);
15:09:52 146  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915001, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-cancel'), (SELECT ID FROM ACTION WHERE NAME = 'CANCEL_SUBSCRIPTION'), 'OFFERMAKER', SYSDATE);
15:09:52 147  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915001, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-decline'), (SELECT ID FROM ACTION WHERE NAME = 'SYSTEM_CANCEL'), 'OFFERMAKER', SYSDATE);
15:09:52 148  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915001, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'card_expiration'), (SELECT ID FROM ACTION WHERE NAME = 'CREDIT_CARD_EXP'), 'OFFERMAKER', SYSDATE);
15:09:52 149  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915001, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-subscription'), (SELECT ID FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_PURCHASE'), 'OFFERMAKER', SYSDATE);
15:09:52 150  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915001, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-recipient-30days-reminder'), (SELECT ID FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_PURCHASE_30DAY'), 'OFFERMAKER', SYSDATE);
15:09:52 151  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915001, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-recipient-90days-reminder'), (SELECT ID FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_PURCHASE_90DAY'), 'OFFERMAKER', SYSDATE);
15:09:52 152  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915001, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-purchase'), (SELECT ID FROM ACTION WHERE NAME = 'PURCHASE_GIFT_CERTIFICATE'), 'OFFERMAKER', SYSDATE);
15:09:52 153  BEGIN
15:09:52 154  	SELECT 1 INTO TMP_VAR FROM OFFER_OFFER_CHAIN WHERE OFFER_CHAIN_ID = 99915001 AND INDEX_VALUE = 0 AND ROWNUM <= 1;
15:09:52 155  EXCEPTION
15:09:52 156  	WHEN NO_DATA_FOUND THEN
15:09:52 157  INSERT INTO OFFER (ID, OFFER_STATUS_ID, ENTITLEMENT_DURATION, CREATED_BY, CREATE_DATE, updated_by, update_date) VALUES (OFR_ID_SEQ.NEXTVAL, 1, 'P0Y0M112DT0H0M', 'OFFERMAKER', SYSDATE, 'OFFERMAKER', SYSDATE);
15:09:52 158  BEGIN
15:09:52 159  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Web' AND ROWNUM <= 1;
15:09:52 160  EXCEPTION
15:09:52 161  	WHEN NO_DATA_FOUND THEN
15:09:52 162  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Web', 'OFFERMAKER', SYSDATE);
15:09:52 163  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Web' AND ROWNUM <= 1;
15:09:52 164  	WHEN OTHERS THEN
15:09:52 165  	  RAISE;
15:09:52 166  END;
15:09:52 167  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '2', '112', '0.357143', 'OFFERMAKER', SYSDATE);
15:09:52 168  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
15:09:52 169  INSERT INTO DISCOUNT (ID, NAME, DESCRIPTION, FIXED_AMOUNT, PERCENT_AMOUNT, DISCOUNT_TYPE_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.NEXTVAL, 'Discount', 'Off: 23.49. P.Disc: 15.6600. P.Full: 40.0000', '24.34', '0', 1, 'OFFERMAKER', SYSDATE);
15:09:52 170  INSERT INTO DISCOUNT_PRODUCT_OFFERING (DISCOUNT_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
15:09:52 171  BEGIN
15:09:52 172  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Mobile' AND ROWNUM <= 1;
15:09:52 173  EXCEPTION
15:09:52 174  	WHEN NO_DATA_FOUND THEN
15:09:52 175  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Mobile', 'OFFERMAKER', SYSDATE);
15:09:52 176  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Mobile' AND ROWNUM <= 1;
15:09:52 177  	WHEN OTHERS THEN
15:09:52 178  	  RAISE;
15:09:52 179  END;
15:09:52 180  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '112', '0', 'OFFERMAKER', SYSDATE);
15:09:52 181  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
15:09:52 182  BEGIN
15:09:52 183  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Archive Article' AND ROWNUM <= 1;
15:09:52 184  EXCEPTION
15:09:52 185  	WHEN NO_DATA_FOUND THEN
15:09:52 186  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Archive Article', 'OFFERMAKER', SYSDATE);
15:09:52 187  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Archive Article' AND ROWNUM <= 1;
15:09:52 188  	WHEN OTHERS THEN
15:09:52 189  	  RAISE;
15:09:52 190  END;
15:09:52 191  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '400', '0', 'OFFERMAKER', SYSDATE);
15:09:52 192  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
15:09:52 193  BEGIN
15:09:52 194  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'TimesMachine' AND ROWNUM <= 1;
15:09:52 195  EXCEPTION
15:09:52 196  	WHEN NO_DATA_FOUND THEN
15:09:52 197  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'TimesMachine', 'OFFERMAKER', SYSDATE);
15:09:52 198  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'TimesMachine' AND ROWNUM <= 1;
15:09:52 199  	WHEN OTHERS THEN
15:09:52 200  	  RAISE;
15:09:52 201  END;
15:09:52 202  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '112', '0', 'OFFERMAKER', SYSDATE);
15:09:52 203  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
15:09:52 204  BEGIN
15:09:52 205  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Smartphone' AND ROWNUM <= 1;
15:09:52 206  EXCEPTION
15:09:52 207  	WHEN NO_DATA_FOUND THEN
15:09:52 208  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Smartphone', 'OFFERMAKER', SYSDATE);
15:09:52 209  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Smartphone' AND ROWNUM <= 1;
15:09:52 210  	WHEN OTHERS THEN
15:09:52 211  	  RAISE;
15:09:52 212  END;
15:09:52 213  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '2', '112', '0.178571', 'OFFERMAKER', SYSDATE);
15:09:52 214  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
15:09:52 215  INSERT INTO DISCOUNT (ID, NAME, DESCRIPTION, FIXED_AMOUNT, PERCENT_AMOUNT, DISCOUNT_TYPE_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.NEXTVAL, 'Discount', 'Off: 23.49. P.Disc: 7.8300. P.Full: 20.0000', '12.17', '0', 1, 'OFFERMAKER', SYSDATE);
15:09:52 216  INSERT INTO DISCOUNT_PRODUCT_OFFERING (DISCOUNT_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
15:09:52 217  INSERT INTO OFFER_OFFER_CHAIN (OFFER_ID, OFFER_CHAIN_ID, INDEX_VALUE, NUM_RECURRENCES, CREATED_BY, CREATE_DATE, updated_by, update_date) VALUES (OFR_ID_SEQ.CURRVAL, 99915001, '0', '1', 'OFFERMAKER', SYSDATE, 'OFFERMAKER', SYSDATE);
15:09:52 218  END;
15:09:52 219  END;
15:09:52 220  /

PL/SQL procedure successfully completed.

Elapsed: 00:00:00.33
15:09:53 SQL> COMMIT;

Commit complete.

Elapsed: 00:00:00.00
15:09:53 SQL> DECLARE
15:09:53   2  TMP_VAR NUMBER;
15:09:53   3  CUR_PRD_ID NUMBER;
15:09:53   4  CUR_CAPABILITY_ID NUMBER;
15:09:53   5  BEGIN
15:09:53   6  BEGIN
15:09:53   7  	SELECT 1 INTO TMP_VAR FROM OFFER_CHAIN WHERE ID = 99915002 AND ROWNUM <= 1;
15:09:53   8  	UPDATE OFFER_CHAIN SET NAME='NYTimes: Web + Smartphone App', DESCRIPTION='Unlimited access to NYTimes.com and the NYTimes smartphone app.*', PRODUCT_URI='', VENDOR_SOURCE_ID='1', BILLING_SOURCE_ID=(SELECT ID FROM BILLING_SOURCE BS WHERE BS.NAME='Sartre'), IS_SEAT_LICENSE=0, GROUP_ACCOUNT_TYPE_ID='NO',IS_ADDRESS_REQUIRED=1, OFFER_CHAIN_STATUS_ID = 1, UPDATE_DATE = SYSDATE, UPDATED_BY = 'OFFERMAKER', IS_GIFT_CERTIFICATE='0', REVOKE_ENTITLEMENTS = '0', ADOPTABILITY_WINDOW_START_DATE = to_date('15-Jul-2013 00:00:00','DD-MON-YY HH24:MI:SS'), ADOPTABILITY_WINDOW_END_DATE = to_date('01-Feb-2099 00:00:00','DD-MON-YY HH24:MI:SS'), AMAZON_APPSTORE_SKU=NULL WHERE ID = 99915002;
15:09:53   9  EXCEPTION
15:09:53  10  	WHEN NO_DATA_FOUND THEN
15:09:53  11  	  INSERT INTO OFFER_CHAIN (ID, NAME, DESCRIPTION, ADOPTABILITY_WINDOW_START_DATE, ADOPTABILITY_WINDOW_END_DATE, IS_GIFT_CERTIFICATE, PRODUCT_URI, OFFER_CHAIN_STATUS_ID, REVOKE_ENTITLEMENTS, VENDOR_SOURCE_ID, BILLING_SOURCE_ID, IS_SEAT_LICENSE, GROUP_ACCOUNT_TYPE_ID, IS_ADDRESS_REQUIRED, AMAZON_APPSTORE_SKU, CREATED_BY, CREATE_DATE, updated_by, update_date) VALUES (99915002, 'NYTimes: Web + Smartphone App', 'Unlimited access to NYTimes.com and the NYTimes smartphone app.*', to_date('15-Jul-2013 00:00:00','DD-MON-YY HH24:MI:SS'), to_date('01-Feb-2099 00:00:00','DD-MON-YY HH24:MI:SS'), '0', NULL, '1', '0', '1', (SELECT ID FROM BILLING_SOURCE BS WHERE BS.NAME='Sartre'), decode('NO','IL',1,0), 'NO', '1', '', 'OFFERMAKER', SYSDATE, 'OFFERMAKER', SYSDATE);
15:09:53  12  END;
15:09:53  13  DELETE FROM OFFER_CHAIN_ELIGIBILITY WHERE offer_chain_id = 99915002;
15:09:53  14  INSERT INTO OFFER_CHAIN_ELIGIBILITY (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (ELG_ID_SEQ.NEXTVAL, 99915002, 'GIFT CERTIFICATE REQUIRED', '1', 'OFFERMAKER', SYSDATE);
15:09:53  15  INSERT INTO OFFER_CHAIN_ELIGIBILITY (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (ELG_ID_SEQ.NEXTVAL, 99915002, 'IS_COMP', '1', 'OFFERMAKER', SYSDATE);
15:09:53  16  INSERT INTO OFFER_CHAIN_ELIGIBILITY (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (ELG_ID_SEQ.NEXTVAL, 99915002, 'MAX_CONCURRENT_SUBS', '1', 'OFFERMAKER', SYSDATE);
15:09:53  17  DELETE FROM OFFER_CHAIN_META_DATA WHERE offer_chain_id = 99915002;
15:09:53  18  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915002, 'BUNDLE_EXPLANATION', 'Bundle A - 16 Week Gift Sub - Redeem OC', 'OFFERMAKER', SYSDATE);
15:09:53  19  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915002, 'PRICE_DESCRIPTION', '4 Month Gift Subscription - $23.49 for 16 weeks - redeem', 'OFFERMAKER', SYSDATE);
15:09:53  20  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915002, 'PRICE_SHORT_DESCRIPTION', 'BNDL A / $23.49 16 wks GC redemp', 'OFFERMAKER', SYSDATE);
15:09:53  21  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915002, 'OFFER_TYPE', 'Edu Digital Gift Subscription for 16 weeks', 'OFFERMAKER', SYSDATE);
15:09:53  22  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915002, 'PROMO_PRICE_FOOTER_LABEL', '16 Weeks', 'OFFERMAKER', SYSDATE);
15:09:53  23  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915002, 'BILLING_CYCLE', '16 week gift', 'OFFERMAKER', SYSDATE);
15:09:53  24  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915002, 'SUBSCRIBER_TYPE', 'Education', 'OFFERMAKER', SYSDATE);
15:09:53  25  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915002, 'OPEN_TO_ANONYMOUS', '1', 'OFFERMAKER', SYSDATE);
15:09:53  26  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915002, 'BUNDLE', 'Bundle A (Web+SP)', 'OFFERMAKER', SYSDATE);
15:09:53  27  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915002, 'ADX_BUNDLE', 'MM_EDU', 'OFFERMAKER', SYSDATE);
15:09:53  28  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915002, 'SIEBEL_CAMPAIGN_CODE', '3JKLR', 'OFFERMAKER', SYSDATE);
15:09:53  29  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915002, 'IS_COMP', '1', 'OFFERMAKER', SYSDATE);
15:09:53  30  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915002, 'ANNUAL_PRICE', '195.00', 'OFFERMAKER', SYSDATE);
15:09:53  31  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915002, 'UID', '14bc23cb23d31bad1cfcd88b485e5f1b82ad405b0b3d206c4409555ef1fde88d', 'OFFERMAKER', SYSDATE);
15:09:53  32  DELETE FROM OFFER_CHAIN_NOTIFICATION_TYPE WHERE offer_chain_id = 99915002;
15:09:53  33  BEGIN
15:09:53  34  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'SUBSCRIBE_TO_OFFER_CHAIN';
15:09:53  35  EXCEPTION
15:09:53  36  	WHEN NO_DATA_FOUND THEN
15:09:53  37  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'SUBSCRIBE_TO_OFFER_CHAIN', SYSDATE, 'OFFERMAKER');
15:09:53  38  END;
15:09:53  39  BEGIN
15:09:53  40  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-purchase';
15:09:53  41  EXCEPTION
15:09:53  42  	WHEN NO_DATA_FOUND THEN NULL;
15:09:53  43  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-purchase', 'N/A');
15:09:53  44  END;
15:09:53  45  BEGIN
15:09:53  46  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'UPGRADE_SUBSCRIPTION';
15:09:53  47  EXCEPTION
15:09:53  48  	WHEN NO_DATA_FOUND THEN
15:09:53  49  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'UPGRADE_SUBSCRIPTION', SYSDATE, 'OFFERMAKER');
15:09:53  50  END;
15:09:53  51  BEGIN
15:09:53  52  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-purchase';
15:09:53  53  EXCEPTION
15:09:53  54  	WHEN NO_DATA_FOUND THEN NULL;
15:09:53  55  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-purchase', 'N/A');
15:09:53  56  END;
15:09:53  57  BEGIN
15:09:53  58  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'CANCEL_SUBSCRIPTION';
15:09:53  59  EXCEPTION
15:09:53  60  	WHEN NO_DATA_FOUND THEN
15:09:53  61  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'CANCEL_SUBSCRIPTION', SYSDATE, 'OFFERMAKER');
15:09:53  62  END;
15:09:53  63  BEGIN
15:09:53  64  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-cancel';
15:09:53  65  EXCEPTION
15:09:53  66  	WHEN NO_DATA_FOUND THEN NULL;
15:09:53  67  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-cancel', 'N/A');
15:09:53  68  END;
15:09:53  69  BEGIN
15:09:53  70  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'SYSTEM_CANCEL';
15:09:53  71  EXCEPTION
15:09:53  72  	WHEN NO_DATA_FOUND THEN
15:09:53  73  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'SYSTEM_CANCEL', SYSDATE, 'OFFERMAKER');
15:09:53  74  END;
15:09:53  75  BEGIN
15:09:53  76  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-decline';
15:09:53  77  EXCEPTION
15:09:53  78  	WHEN NO_DATA_FOUND THEN NULL;
15:09:53  79  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-decline', 'N/A');
15:09:53  80  END;
15:09:53  81  BEGIN
15:09:53  82  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'CREDIT_CARD_EXP';
15:09:53  83  EXCEPTION
15:09:53  84  	WHEN NO_DATA_FOUND THEN
15:09:53  85  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'CREDIT_CARD_EXP', SYSDATE, 'OFFERMAKER');
15:09:53  86  END;
15:09:53  87  BEGIN
15:09:53  88  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'card_expiration';
15:09:53  89  EXCEPTION
15:09:53  90  	WHEN NO_DATA_FOUND THEN NULL;
15:09:53  91  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'card_expiration', 'N/A');
15:09:53  92  END;
15:09:53  93  BEGIN
15:09:53  94  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_REDEEM';
15:09:53  95  EXCEPTION
15:09:53  96  	WHEN NO_DATA_FOUND THEN
15:09:53  97  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'GC_REDEEMER_ON_REDEEM', SYSDATE, 'OFFERMAKER');
15:09:53  98  END;
15:09:53  99  BEGIN
15:09:53 100  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-sub-activation';
15:09:53 101  EXCEPTION
15:09:53 102  	WHEN NO_DATA_FOUND THEN NULL;
15:09:53 103  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-gift-sub-activation', 'N/A');
15:09:53 104  END;
15:09:53 105  BEGIN
15:09:53 106  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'CLOSE_SUBSCRIPTION';
15:09:53 107  EXCEPTION
15:09:53 108  	WHEN NO_DATA_FOUND THEN
15:09:53 109  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'CLOSE_SUBSCRIPTION', SYSDATE, 'OFFERMAKER');
15:09:53 110  END;
15:09:53 111  BEGIN
15:09:53 112  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-sub-expired-gift';
15:09:53 113  EXCEPTION
15:09:53 114  	WHEN NO_DATA_FOUND THEN NULL;
15:09:53 115  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-sub-expired-gift', 'N/A');
15:09:53 116  END;
15:09:53 117  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915002, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-purchase'), (SELECT ID FROM ACTION WHERE NAME = 'SUBSCRIBE_TO_OFFER_CHAIN'), 'OFFERMAKER', SYSDATE);
15:09:53 118  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915002, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-purchase'), (SELECT ID FROM ACTION WHERE NAME = 'UPGRADE_SUBSCRIPTION'), 'OFFERMAKER', SYSDATE);
15:09:53 119  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915002, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-cancel'), (SELECT ID FROM ACTION WHERE NAME = 'CANCEL_SUBSCRIPTION'), 'OFFERMAKER', SYSDATE);
15:09:53 120  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915002, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-decline'), (SELECT ID FROM ACTION WHERE NAME = 'SYSTEM_CANCEL'), 'OFFERMAKER', SYSDATE);
15:09:53 121  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915002, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'card_expiration'), (SELECT ID FROM ACTION WHERE NAME = 'CREDIT_CARD_EXP'), 'OFFERMAKER', SYSDATE);
15:09:53 122  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915002, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-sub-activation'), (SELECT ID FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_REDEEM'), 'OFFERMAKER', SYSDATE);
15:09:53 123  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915002, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-sub-expired-gift'), (SELECT ID FROM ACTION WHERE NAME = 'CLOSE_SUBSCRIPTION'), 'OFFERMAKER', SYSDATE);
15:09:53 124  BEGIN
15:09:53 125  	SELECT 1 INTO TMP_VAR FROM OFFER_OFFER_CHAIN WHERE OFFER_CHAIN_ID = 99915002 AND INDEX_VALUE = 0 AND ROWNUM <= 1;
15:09:53 126  EXCEPTION
15:09:53 127  	WHEN NO_DATA_FOUND THEN
15:09:53 128  INSERT INTO OFFER (ID, OFFER_STATUS_ID, ENTITLEMENT_DURATION, CREATED_BY, CREATE_DATE, updated_by, update_date) VALUES (OFR_ID_SEQ.NEXTVAL, 1, 'P0Y0M112DT0H0M', 'OFFERMAKER', SYSDATE, 'OFFERMAKER', SYSDATE);
15:09:53 129  BEGIN
15:09:53 130  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Web' AND ROWNUM <= 1;
15:09:53 131  EXCEPTION
15:09:53 132  	WHEN NO_DATA_FOUND THEN
15:09:53 133  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Web', 'OFFERMAKER', SYSDATE);
15:09:53 134  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Web' AND ROWNUM <= 1;
15:09:53 135  	WHEN OTHERS THEN
15:09:53 136  	  RAISE;
15:09:53 137  END;
15:09:53 138  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '112', '0.357143', 'OFFERMAKER', SYSDATE);
15:09:53 139  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
15:09:53 140  INSERT INTO DISCOUNT (ID, NAME, DESCRIPTION, FIXED_AMOUNT, PERCENT_AMOUNT, DISCOUNT_TYPE_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.NEXTVAL, 'Discount', 'Off: 0.0. P.Disc: 0.0000. P.Full: 40.0000', '40.00', '0', 1, 'OFFERMAKER', SYSDATE);
15:09:53 141  INSERT INTO DISCOUNT_PRODUCT_OFFERING (DISCOUNT_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
15:09:53 142  BEGIN
15:09:53 143  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Mobile' AND ROWNUM <= 1;
15:09:53 144  EXCEPTION
15:09:53 145  	WHEN NO_DATA_FOUND THEN
15:09:53 146  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Mobile', 'OFFERMAKER', SYSDATE);
15:09:53 147  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Mobile' AND ROWNUM <= 1;
15:09:53 148  	WHEN OTHERS THEN
15:09:53 149  	  RAISE;
15:09:53 150  END;
15:09:53 151  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '112', '0', 'OFFERMAKER', SYSDATE);
15:09:53 152  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
15:09:53 153  BEGIN
15:09:53 154  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Archive Article' AND ROWNUM <= 1;
15:09:53 155  EXCEPTION
15:09:53 156  	WHEN NO_DATA_FOUND THEN
15:09:53 157  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Archive Article', 'OFFERMAKER', SYSDATE);
15:09:53 158  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Archive Article' AND ROWNUM <= 1;
15:09:53 159  	WHEN OTHERS THEN
15:09:53 160  	  RAISE;
15:09:53 161  END;
15:09:53 162  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '400', '0', 'OFFERMAKER', SYSDATE);
15:09:53 163  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
15:09:53 164  BEGIN
15:09:53 165  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'TimesMachine' AND ROWNUM <= 1;
15:09:53 166  EXCEPTION
15:09:53 167  	WHEN NO_DATA_FOUND THEN
15:09:53 168  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'TimesMachine', 'OFFERMAKER', SYSDATE);
15:09:53 169  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'TimesMachine' AND ROWNUM <= 1;
15:09:53 170  	WHEN OTHERS THEN
15:09:53 171  	  RAISE;
15:09:53 172  END;
15:09:53 173  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '112', '0', 'OFFERMAKER', SYSDATE);
15:09:53 174  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
15:09:53 175  BEGIN
15:09:53 176  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Smartphone' AND ROWNUM <= 1;
15:09:53 177  EXCEPTION
15:09:53 178  	WHEN NO_DATA_FOUND THEN
15:09:53 179  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Smartphone', 'OFFERMAKER', SYSDATE);
15:09:53 180  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Smartphone' AND ROWNUM <= 1;
15:09:53 181  	WHEN OTHERS THEN
15:09:53 182  	  RAISE;
15:09:53 183  END;
15:09:53 184  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '112', '0.178571', 'OFFERMAKER', SYSDATE);
15:09:53 185  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
15:09:53 186  INSERT INTO DISCOUNT (ID, NAME, DESCRIPTION, FIXED_AMOUNT, PERCENT_AMOUNT, DISCOUNT_TYPE_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.NEXTVAL, 'Discount', 'Off: 0.0. P.Disc: 0.0000. P.Full: 20.0000', '20.00', '0', 1, 'OFFERMAKER', SYSDATE);
15:09:53 187  INSERT INTO DISCOUNT_PRODUCT_OFFERING (DISCOUNT_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
15:09:53 188  INSERT INTO OFFER_OFFER_CHAIN (OFFER_ID, OFFER_CHAIN_ID, INDEX_VALUE, NUM_RECURRENCES, CREATED_BY, CREATE_DATE, updated_by, update_date) VALUES (OFR_ID_SEQ.CURRVAL, 99915002, '0', '1', 'OFFERMAKER', SYSDATE, 'OFFERMAKER', SYSDATE);
15:09:53 189  END;
15:09:53 190  END;
15:09:53 191  /

PL/SQL procedure successfully completed.

Elapsed: 00:00:00.08
15:09:53 SQL> COMMIT;

Commit complete.

Elapsed: 00:00:00.00
15:09:53 SQL> DECLARE
15:09:53   2  TMP_VAR NUMBER;
15:09:53   3  CUR_PRD_ID NUMBER;
15:09:53   4  CUR_CAPABILITY_ID NUMBER;
15:09:53   5  BEGIN
15:09:53   6  BEGIN
15:09:53   7  	SELECT 1 INTO TMP_VAR FROM OFFER_CHAIN WHERE ID = 99915003 AND ROWNUM <= 1;
15:09:53   8  	UPDATE OFFER_CHAIN SET NAME='NYTimes: Web + Tablet App', DESCRIPTION='Unlimited access to NYTimes.com and the NYTimes tablet app.*', PRODUCT_URI='', VENDOR_SOURCE_ID='1', BILLING_SOURCE_ID=(SELECT ID FROM BILLING_SOURCE BS WHERE BS.NAME='Sartre'), IS_SEAT_LICENSE=0, GROUP_ACCOUNT_TYPE_ID='NO',IS_ADDRESS_REQUIRED=1, OFFER_CHAIN_STATUS_ID = 1, UPDATE_DATE = SYSDATE, UPDATED_BY = 'OFFERMAKER', IS_GIFT_CERTIFICATE='1', REVOKE_ENTITLEMENTS = '0', ADOPTABILITY_WINDOW_START_DATE = to_date('15-Jul-2013 00:00:00','DD-MON-YY HH24:MI:SS'), ADOPTABILITY_WINDOW_END_DATE = to_date('01-Feb-2099 00:00:00','DD-MON-YY HH24:MI:SS'), AMAZON_APPSTORE_SKU=NULL WHERE ID = 99915003;
15:09:53   9  EXCEPTION
15:09:53  10  	WHEN NO_DATA_FOUND THEN
15:09:53  11  	  INSERT INTO OFFER_CHAIN (ID, NAME, DESCRIPTION, ADOPTABILITY_WINDOW_START_DATE, ADOPTABILITY_WINDOW_END_DATE, IS_GIFT_CERTIFICATE, PRODUCT_URI, OFFER_CHAIN_STATUS_ID, REVOKE_ENTITLEMENTS, VENDOR_SOURCE_ID, BILLING_SOURCE_ID, IS_SEAT_LICENSE, GROUP_ACCOUNT_TYPE_ID, IS_ADDRESS_REQUIRED, AMAZON_APPSTORE_SKU, CREATED_BY, CREATE_DATE, updated_by, update_date) VALUES (99915003, 'NYTimes: Web + Tablet App', 'Unlimited access to NYTimes.com and the NYTimes tablet app.*', to_date('15-Jul-2013 00:00:00','DD-MON-YY HH24:MI:SS'), to_date('01-Feb-2099 00:00:00','DD-MON-YY HH24:MI:SS'), '1', NULL, '1', '0', '1', (SELECT ID FROM BILLING_SOURCE BS WHERE BS.NAME='Sartre'), decode('NO','IL',1,0), 'NO', '1', '', 'OFFERMAKER', SYSDATE, 'OFFERMAKER', SYSDATE);
15:09:53  12  END;
15:09:53  13  DELETE FROM OFFER_CHAIN_ELIGIBILITY WHERE offer_chain_id = 99915003;
15:09:53  14  INSERT INTO OFFER_CHAIN_ELIGIBILITY (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (ELG_ID_SEQ.NEXTVAL, 99915003, 'IS_COMP', '0', 'OFFERMAKER', SYSDATE);
15:09:53  15  INSERT INTO OFFER_CHAIN_ELIGIBILITY (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (ELG_ID_SEQ.NEXTVAL, 99915003, 'REDEEMER_PROHIBITED_ENTITLEMENTS', 'mm,mtd,mow,timesreader', 'OFFERMAKER', SYSDATE);
15:09:53  16  DELETE FROM OFFER_CHAIN_META_DATA WHERE offer_chain_id = 99915003;
15:09:53  17  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915003, 'BUNDLE_EXPLANATION', 'Bundle B - 16 Week Gift Sub - Purchase OC', 'OFFERMAKER', SYSDATE);
15:09:53  18  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915003, 'PRICE_DESCRIPTION', '4 Month Gift Subscription - $30.99 for 16 weeks - purchase', 'OFFERMAKER', SYSDATE);
15:09:53  19  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915003, 'PRICE_SHORT_DESCRIPTION', 'BNDL B / $30.99 16 wks GC purch', 'OFFERMAKER', SYSDATE);
15:09:53  20  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915003, 'OFFER_TYPE', 'Edu Digital Gift Subscription for 16 weeks', 'OFFERMAKER', SYSDATE);
15:09:53  21  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915003, 'OFFER_PRICE_DESCRIPTOR', '16 Weeks Gift Certificate', 'OFFERMAKER', SYSDATE);
15:09:53  22  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915003, 'OFFER_PRICE', '$30.99 for 16 weeks', 'OFFERMAKER', SYSDATE);
15:09:53  23  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915003, 'PROMO_PRICE_FOOTER_LABEL', '16 Weeks', 'OFFERMAKER', SYSDATE);
15:09:53  24  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915003, 'BILLING_CYCLE', 'You will be billed for a 16 week gift subscription in full.', 'OFFERMAKER', SYSDATE);
15:09:53  25  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915003, 'SUBSCRIBER_TYPE', 'Education', 'OFFERMAKER', SYSDATE);
15:09:53  26  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915003, 'ABOUT_ORDER', 'The full purchase price for gift subscriptions will be charged at the time of purchase and is non-refundable.  Redemption codes are not replaceable. Prices are in U.S. dollars and are subject to change. Other restrictions may apply.  Gift subscription period begins the day of redemption.  Redemption code expires five years after date of purchase.', 'OFFERMAKER', SYSDATE);
15:09:53  27  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915003, 'redemption offer chain id', '99915004', 'OFFERMAKER', SYSDATE);
15:09:53  28  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915003, 'OPEN_TO_ANONYMOUS', '1', 'OFFERMAKER', SYSDATE);
15:09:53  29  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915003, 'BUNDLE', 'Bundle B (Web+Tab)', 'OFFERMAKER', SYSDATE);
15:09:53  30  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915003, 'ADX_BUNDLE', 'MM_EDU', 'OFFERMAKER', SYSDATE);
15:09:53  31  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915003, 'SIEBEL_CAMPAIGN_CODE', '3JKLR', 'OFFERMAKER', SYSDATE);
15:09:53  32  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915003, 'SOCIAL_DISPLAY', 'nyt-bundle', 'OFFERMAKER', SYSDATE);
15:09:53  33  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915003, 'ANNUAL_PRICE', '260.00', 'OFFERMAKER', SYSDATE);
15:09:53  34  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915003, 'UID', '423a55b587bc0e6c9e57aafccca9aa9a2a0f3c71fee1a99ed0e7de16b27064da', 'OFFERMAKER', SYSDATE);
15:09:53  35  DELETE FROM OFFER_CHAIN_NOTIFICATION_TYPE WHERE offer_chain_id = 99915003;
15:09:53  36  BEGIN
15:09:53  37  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'SUBSCRIBE_TO_OFFER_CHAIN';
15:09:53  38  EXCEPTION
15:09:53  39  	WHEN NO_DATA_FOUND THEN
15:09:53  40  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'SUBSCRIBE_TO_OFFER_CHAIN', SYSDATE, 'OFFERMAKER');
15:09:53  41  END;
15:09:53  42  BEGIN
15:09:53  43  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-purchase';
15:09:53  44  EXCEPTION
15:09:53  45  	WHEN NO_DATA_FOUND THEN NULL;
15:09:53  46  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-gift-purchase', 'N/A');
15:09:53  47  END;
15:09:53  48  BEGIN
15:09:53  49  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'UPGRADE_SUBSCRIPTION';
15:09:53  50  EXCEPTION
15:09:53  51  	WHEN NO_DATA_FOUND THEN
15:09:53  52  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'UPGRADE_SUBSCRIPTION', SYSDATE, 'OFFERMAKER');
15:09:53  53  END;
15:09:53  54  BEGIN
15:09:53  55  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-purchase';
15:09:53  56  EXCEPTION
15:09:53  57  	WHEN NO_DATA_FOUND THEN NULL;
15:09:53  58  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-gift-purchase', 'N/A');
15:09:53  59  END;
15:09:53  60  BEGIN
15:09:53  61  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'CANCEL_SUBSCRIPTION';
15:09:53  62  EXCEPTION
15:09:53  63  	WHEN NO_DATA_FOUND THEN
15:09:53  64  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'CANCEL_SUBSCRIPTION', SYSDATE, 'OFFERMAKER');
15:09:53  65  END;
15:09:53  66  BEGIN
15:09:53  67  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-cancel';
15:09:53  68  EXCEPTION
15:09:53  69  	WHEN NO_DATA_FOUND THEN NULL;
15:09:53  70  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-cancel', 'N/A');
15:09:53  71  END;
15:09:53  72  BEGIN
15:09:53  73  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'SYSTEM_CANCEL';
15:09:53  74  EXCEPTION
15:09:53  75  	WHEN NO_DATA_FOUND THEN
15:09:53  76  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'SYSTEM_CANCEL', SYSDATE, 'OFFERMAKER');
15:09:53  77  END;
15:09:53  78  BEGIN
15:09:53  79  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-decline';
15:09:53  80  EXCEPTION
15:09:53  81  	WHEN NO_DATA_FOUND THEN NULL;
15:09:53  82  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-gift-decline', 'N/A');
15:09:53  83  END;
15:09:53  84  BEGIN
15:09:53  85  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'CREDIT_CARD_EXP';
15:09:53  86  EXCEPTION
15:09:53  87  	WHEN NO_DATA_FOUND THEN
15:09:53  88  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'CREDIT_CARD_EXP', SYSDATE, 'OFFERMAKER');
15:09:53  89  END;
15:09:53  90  BEGIN
15:09:53  91  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'card_expiration';
15:09:53  92  EXCEPTION
15:09:53  93  	WHEN NO_DATA_FOUND THEN NULL;
15:09:53  94  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'card_expiration', 'N/A');
15:09:53  95  END;
15:09:53  96  BEGIN
15:09:53  97  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_PURCHASE';
15:09:53  98  EXCEPTION
15:09:53  99  	WHEN NO_DATA_FOUND THEN
15:09:53 100  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'GC_REDEEMER_ON_PURCHASE', SYSDATE, 'OFFERMAKER');
15:09:53 101  END;
15:09:53 102  BEGIN
15:09:53 103  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-subscription';
15:09:53 104  EXCEPTION
15:09:53 105  	WHEN NO_DATA_FOUND THEN NULL;
15:09:53 106  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-gift-subscription', 'N/A');
15:09:53 107  END;
15:09:53 108  BEGIN
15:09:53 109  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_PURCHASE_30DAY';
15:09:53 110  EXCEPTION
15:09:53 111  	WHEN NO_DATA_FOUND THEN
15:09:53 112  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'GC_REDEEMER_ON_PURCHASE_30DAY', SYSDATE, 'OFFERMAKER');
15:09:53 113  END;
15:09:53 114  BEGIN
15:09:53 115  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-recipient-30days-reminder';
15:09:53 116  EXCEPTION
15:09:53 117  	WHEN NO_DATA_FOUND THEN NULL;
15:09:53 118  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-recipient-30days-reminder', 'N/A');
15:09:53 119  END;
15:09:53 120  BEGIN
15:09:53 121  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_PURCHASE_90DAY';
15:09:53 122  EXCEPTION
15:09:53 123  	WHEN NO_DATA_FOUND THEN
15:09:53 124  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'GC_REDEEMER_ON_PURCHASE_90DAY', SYSDATE, 'OFFERMAKER');
15:09:53 125  END;
15:09:53 126  BEGIN
15:09:53 127  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-recipient-90days-reminder';
15:09:53 128  EXCEPTION
15:09:53 129  	WHEN NO_DATA_FOUND THEN NULL;
15:09:53 130  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-recipient-90days-reminder', 'N/A');
15:09:53 131  END;
15:09:53 132  BEGIN
15:09:53 133  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'PURCHASE_GIFT_CERTIFICATE';
15:09:53 134  EXCEPTION
15:09:53 135  	WHEN NO_DATA_FOUND THEN
15:09:53 136  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'PURCHASE_GIFT_CERTIFICATE', SYSDATE, 'OFFERMAKER');
15:09:53 137  END;
15:09:53 138  BEGIN
15:09:53 139  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-purchase';
15:09:53 140  EXCEPTION
15:09:53 141  	WHEN NO_DATA_FOUND THEN NULL;
15:09:53 142  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-gift-purchase', 'N/A');
15:09:53 143  END;
15:09:53 144  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915003, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-purchase'), (SELECT ID FROM ACTION WHERE NAME = 'SUBSCRIBE_TO_OFFER_CHAIN'), 'OFFERMAKER', SYSDATE);
15:09:53 145  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915003, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-purchase'), (SELECT ID FROM ACTION WHERE NAME = 'UPGRADE_SUBSCRIPTION'), 'OFFERMAKER', SYSDATE);
15:09:53 146  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915003, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-cancel'), (SELECT ID FROM ACTION WHERE NAME = 'CANCEL_SUBSCRIPTION'), 'OFFERMAKER', SYSDATE);
15:09:53 147  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915003, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-decline'), (SELECT ID FROM ACTION WHERE NAME = 'SYSTEM_CANCEL'), 'OFFERMAKER', SYSDATE);
15:09:53 148  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915003, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'card_expiration'), (SELECT ID FROM ACTION WHERE NAME = 'CREDIT_CARD_EXP'), 'OFFERMAKER', SYSDATE);
15:09:53 149  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915003, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-subscription'), (SELECT ID FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_PURCHASE'), 'OFFERMAKER', SYSDATE);
15:09:53 150  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915003, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-recipient-30days-reminder'), (SELECT ID FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_PURCHASE_30DAY'), 'OFFERMAKER', SYSDATE);
15:09:53 151  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915003, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-recipient-90days-reminder'), (SELECT ID FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_PURCHASE_90DAY'), 'OFFERMAKER', SYSDATE);
15:09:53 152  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915003, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-purchase'), (SELECT ID FROM ACTION WHERE NAME = 'PURCHASE_GIFT_CERTIFICATE'), 'OFFERMAKER', SYSDATE);
15:09:53 153  BEGIN
15:09:53 154  	SELECT 1 INTO TMP_VAR FROM OFFER_OFFER_CHAIN WHERE OFFER_CHAIN_ID = 99915003 AND INDEX_VALUE = 0 AND ROWNUM <= 1;
15:09:53 155  EXCEPTION
15:09:53 156  	WHEN NO_DATA_FOUND THEN
15:09:53 157  INSERT INTO OFFER (ID, OFFER_STATUS_ID, ENTITLEMENT_DURATION, CREATED_BY, CREATE_DATE, updated_by, update_date) VALUES (OFR_ID_SEQ.NEXTVAL, 1, 'P0Y0M112DT0H0M', 'OFFERMAKER', SYSDATE, 'OFFERMAKER', SYSDATE);
15:09:53 158  BEGIN
15:09:53 159  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Web' AND ROWNUM <= 1;
15:09:53 160  EXCEPTION
15:09:53 161  	WHEN NO_DATA_FOUND THEN
15:09:53 162  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Web', 'OFFERMAKER', SYSDATE);
15:09:53 163  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Web' AND ROWNUM <= 1;
15:09:53 164  	WHEN OTHERS THEN
15:09:53 165  	  RAISE;
15:09:53 166  END;
15:09:53 167  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '2', '112', '0.357143', 'OFFERMAKER', SYSDATE);
15:09:53 168  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
15:09:53 169  INSERT INTO DISCOUNT (ID, NAME, DESCRIPTION, FIXED_AMOUNT, PERCENT_AMOUNT, DISCOUNT_TYPE_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.NEXTVAL, 'Discount', 'Off: 30.99. P.Disc: 15.4900. P.Full: 40.0000', '24.5100', '0', 1, 'OFFERMAKER', SYSDATE);
15:09:53 170  INSERT INTO DISCOUNT_PRODUCT_OFFERING (DISCOUNT_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
15:09:53 171  BEGIN
15:09:53 172  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Mobile' AND ROWNUM <= 1;
15:09:53 173  EXCEPTION
15:09:53 174  	WHEN NO_DATA_FOUND THEN
15:09:53 175  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Mobile', 'OFFERMAKER', SYSDATE);
15:09:53 176  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Mobile' AND ROWNUM <= 1;
15:09:53 177  	WHEN OTHERS THEN
15:09:53 178  	  RAISE;
15:09:53 179  END;
15:09:53 180  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '112', '0', 'OFFERMAKER', SYSDATE);
15:09:53 181  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
15:09:53 182  BEGIN
15:09:53 183  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Archive Article' AND ROWNUM <= 1;
15:09:53 184  EXCEPTION
15:09:53 185  	WHEN NO_DATA_FOUND THEN
15:09:53 186  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Archive Article', 'OFFERMAKER', SYSDATE);
15:09:53 187  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Archive Article' AND ROWNUM <= 1;
15:09:53 188  	WHEN OTHERS THEN
15:09:53 189  	  RAISE;
15:09:53 190  END;
15:09:53 191  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '400', '0', 'OFFERMAKER', SYSDATE);
15:09:53 192  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
15:09:53 193  BEGIN
15:09:53 194  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'TimesMachine' AND ROWNUM <= 1;
15:09:53 195  EXCEPTION
15:09:53 196  	WHEN NO_DATA_FOUND THEN
15:09:53 197  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'TimesMachine', 'OFFERMAKER', SYSDATE);
15:09:53 198  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'TimesMachine' AND ROWNUM <= 1;
15:09:53 199  	WHEN OTHERS THEN
15:09:53 200  	  RAISE;
15:09:53 201  END;
15:09:53 202  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '112', '0', 'OFFERMAKER', SYSDATE);
15:09:53 203  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
15:09:53 204  BEGIN
15:09:53 205  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Tablet' AND ROWNUM <= 1;
15:09:53 206  EXCEPTION
15:09:53 207  	WHEN NO_DATA_FOUND THEN
15:09:53 208  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Tablet', 'OFFERMAKER', SYSDATE);
15:09:53 209  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Tablet' AND ROWNUM <= 1;
15:09:53 210  	WHEN OTHERS THEN
15:09:53 211  	  RAISE;
15:09:53 212  END;
15:09:53 213  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '2', '112', '0.357143', 'OFFERMAKER', SYSDATE);
15:09:53 214  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
15:09:53 215  INSERT INTO DISCOUNT (ID, NAME, DESCRIPTION, FIXED_AMOUNT, PERCENT_AMOUNT, DISCOUNT_TYPE_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.NEXTVAL, 'Discount', 'Off: 30.99. P.Disc: 15.5000. P.Full: 40.0000', '24.50', '0', 1, 'OFFERMAKER', SYSDATE);
15:09:53 216  INSERT INTO DISCOUNT_PRODUCT_OFFERING (DISCOUNT_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
15:09:53 217  BEGIN
15:09:53 218  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'TimesReader' AND ROWNUM <= 1;
15:09:53 219  EXCEPTION
15:09:53 220  	WHEN NO_DATA_FOUND THEN
15:09:53 221  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'TimesReader', 'OFFERMAKER', SYSDATE);
15:09:53 222  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'TimesReader' AND ROWNUM <= 1;
15:09:53 223  	WHEN OTHERS THEN
15:09:53 224  	  RAISE;
15:09:53 225  END;
15:09:53 226  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '112', '0', 'OFFERMAKER', SYSDATE);
15:09:53 227  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
15:09:53 228  INSERT INTO OFFER_OFFER_CHAIN (OFFER_ID, OFFER_CHAIN_ID, INDEX_VALUE, NUM_RECURRENCES, CREATED_BY, CREATE_DATE, updated_by, update_date) VALUES (OFR_ID_SEQ.CURRVAL, 99915003, '0', '1', 'OFFERMAKER', SYSDATE, 'OFFERMAKER', SYSDATE);
15:09:53 229  END;
15:09:53 230  END;
15:09:53 231  /

PL/SQL procedure successfully completed.

Elapsed: 00:00:00.11
15:09:53 SQL> COMMIT;

Commit complete.

Elapsed: 00:00:00.00
15:09:53 SQL> DECLARE
15:09:53   2  TMP_VAR NUMBER;
15:09:53   3  CUR_PRD_ID NUMBER;
15:09:53   4  CUR_CAPABILITY_ID NUMBER;
15:09:53   5  BEGIN
15:09:53   6  BEGIN
15:09:53   7  	SELECT 1 INTO TMP_VAR FROM OFFER_CHAIN WHERE ID = 99915004 AND ROWNUM <= 1;
15:09:53   8  	UPDATE OFFER_CHAIN SET NAME='NYTimes: Web + Tablet App', DESCRIPTION='Unlimited access to NYTimes.com and the NYTimes tablet app.*', PRODUCT_URI='', VENDOR_SOURCE_ID='1', BILLING_SOURCE_ID=(SELECT ID FROM BILLING_SOURCE BS WHERE BS.NAME='Sartre'), IS_SEAT_LICENSE=0, GROUP_ACCOUNT_TYPE_ID='NO',IS_ADDRESS_REQUIRED=1, OFFER_CHAIN_STATUS_ID = 1, UPDATE_DATE = SYSDATE, UPDATED_BY = 'OFFERMAKER', IS_GIFT_CERTIFICATE='0', REVOKE_ENTITLEMENTS = '0', ADOPTABILITY_WINDOW_START_DATE = to_date('15-Jul-2013 00:00:00','DD-MON-YY HH24:MI:SS'), ADOPTABILITY_WINDOW_END_DATE = to_date('01-Feb-2099 00:00:00','DD-MON-YY HH24:MI:SS'), AMAZON_APPSTORE_SKU=NULL WHERE ID = 99915004;
15:09:53   9  EXCEPTION
15:09:53  10  	WHEN NO_DATA_FOUND THEN
15:09:53  11  	  INSERT INTO OFFER_CHAIN (ID, NAME, DESCRIPTION, ADOPTABILITY_WINDOW_START_DATE, ADOPTABILITY_WINDOW_END_DATE, IS_GIFT_CERTIFICATE, PRODUCT_URI, OFFER_CHAIN_STATUS_ID, REVOKE_ENTITLEMENTS, VENDOR_SOURCE_ID, BILLING_SOURCE_ID, IS_SEAT_LICENSE, GROUP_ACCOUNT_TYPE_ID, IS_ADDRESS_REQUIRED, AMAZON_APPSTORE_SKU, CREATED_BY, CREATE_DATE, updated_by, update_date) VALUES (99915004, 'NYTimes: Web + Tablet App', 'Unlimited access to NYTimes.com and the NYTimes tablet app.*', to_date('15-Jul-2013 00:00:00','DD-MON-YY HH24:MI:SS'), to_date('01-Feb-2099 00:00:00','DD-MON-YY HH24:MI:SS'), '0', NULL, '1', '0', '1', (SELECT ID FROM BILLING_SOURCE BS WHERE BS.NAME='Sartre'), decode('NO','IL',1,0), 'NO', '1', '', 'OFFERMAKER', SYSDATE, 'OFFERMAKER', SYSDATE);
15:09:53  12  END;
15:09:53  13  DELETE FROM OFFER_CHAIN_ELIGIBILITY WHERE offer_chain_id = 99915004;
15:09:53  14  INSERT INTO OFFER_CHAIN_ELIGIBILITY (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (ELG_ID_SEQ.NEXTVAL, 99915004, 'GIFT CERTIFICATE REQUIRED', '1', 'OFFERMAKER', SYSDATE);
15:09:53  15  INSERT INTO OFFER_CHAIN_ELIGIBILITY (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (ELG_ID_SEQ.NEXTVAL, 99915004, 'IS_COMP', '1', 'OFFERMAKER', SYSDATE);
15:09:53  16  INSERT INTO OFFER_CHAIN_ELIGIBILITY (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (ELG_ID_SEQ.NEXTVAL, 99915004, 'MAX_CONCURRENT_SUBS', '1', 'OFFERMAKER', SYSDATE);
15:09:53  17  DELETE FROM OFFER_CHAIN_META_DATA WHERE offer_chain_id = 99915004;
15:09:53  18  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915004, 'BUNDLE_EXPLANATION', 'Bundle B - 16 Week Gift Sub - Redeem OC', 'OFFERMAKER', SYSDATE);
15:09:53  19  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915004, 'PRICE_DESCRIPTION', '4 Month Gift Subscription - $30.99 for 16 weeks - redeem', 'OFFERMAKER', SYSDATE);
15:09:53  20  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915004, 'PRICE_SHORT_DESCRIPTION', 'BNDL B / $30.99 16 wks GC redemp', 'OFFERMAKER', SYSDATE);
15:09:53  21  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915004, 'OFFER_TYPE', 'Edu Digital Gift Subscription for 16 weeks', 'OFFERMAKER', SYSDATE);
15:09:53  22  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915004, 'PROMO_PRICE_FOOTER_LABEL', '16 Weeks', 'OFFERMAKER', SYSDATE);
15:09:53  23  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915004, 'BILLING_CYCLE', '16 week gift', 'OFFERMAKER', SYSDATE);
15:09:53  24  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915004, 'SUBSCRIBER_TYPE', 'Education', 'OFFERMAKER', SYSDATE);
15:09:53  25  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915004, 'OPEN_TO_ANONYMOUS', '1', 'OFFERMAKER', SYSDATE);
15:09:53  26  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915004, 'BUNDLE', 'Bundle B (Web+Tab)', 'OFFERMAKER', SYSDATE);
15:09:53  27  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915004, 'ADX_BUNDLE', 'MM_EDU', 'OFFERMAKER', SYSDATE);
15:09:53  28  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915004, 'SIEBEL_CAMPAIGN_CODE', '3JKLR', 'OFFERMAKER', SYSDATE);
15:09:53  29  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915004, 'IS_COMP', '1', 'OFFERMAKER', SYSDATE);
15:09:53  30  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915004, 'ANNUAL_PRICE', '260.00', 'OFFERMAKER', SYSDATE);
15:09:53  31  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915004, 'UID', '73c6a1bc01effc92c053dfe224034f0202aa30f16f2935f39f836a0af58cd37c', 'OFFERMAKER', SYSDATE);
15:09:53  32  DELETE FROM OFFER_CHAIN_NOTIFICATION_TYPE WHERE offer_chain_id = 99915004;
15:09:53  33  BEGIN
15:09:53  34  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'SUBSCRIBE_TO_OFFER_CHAIN';
15:09:53  35  EXCEPTION
15:09:53  36  	WHEN NO_DATA_FOUND THEN
15:09:53  37  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'SUBSCRIBE_TO_OFFER_CHAIN', SYSDATE, 'OFFERMAKER');
15:09:53  38  END;
15:09:53  39  BEGIN
15:09:53  40  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-purchase';
15:09:53  41  EXCEPTION
15:09:53  42  	WHEN NO_DATA_FOUND THEN NULL;
15:09:53  43  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-purchase', 'N/A');
15:09:53  44  END;
15:09:53  45  BEGIN
15:09:53  46  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'UPGRADE_SUBSCRIPTION';
15:09:53  47  EXCEPTION
15:09:53  48  	WHEN NO_DATA_FOUND THEN
15:09:53  49  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'UPGRADE_SUBSCRIPTION', SYSDATE, 'OFFERMAKER');
15:09:53  50  END;
15:09:53  51  BEGIN
15:09:53  52  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-purchase';
15:09:53  53  EXCEPTION
15:09:53  54  	WHEN NO_DATA_FOUND THEN NULL;
15:09:53  55  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-purchase', 'N/A');
15:09:53  56  END;
15:09:53  57  BEGIN
15:09:53  58  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'CANCEL_SUBSCRIPTION';
15:09:53  59  EXCEPTION
15:09:53  60  	WHEN NO_DATA_FOUND THEN
15:09:53  61  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'CANCEL_SUBSCRIPTION', SYSDATE, 'OFFERMAKER');
15:09:53  62  END;
15:09:53  63  BEGIN
15:09:53  64  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-cancel';
15:09:53  65  EXCEPTION
15:09:53  66  	WHEN NO_DATA_FOUND THEN NULL;
15:09:53  67  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-cancel', 'N/A');
15:09:53  68  END;
15:09:53  69  BEGIN
15:09:53  70  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'SYSTEM_CANCEL';
15:09:53  71  EXCEPTION
15:09:53  72  	WHEN NO_DATA_FOUND THEN
15:09:53  73  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'SYSTEM_CANCEL', SYSDATE, 'OFFERMAKER');
15:09:53  74  END;
15:09:53  75  BEGIN
15:09:53  76  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-decline';
15:09:53  77  EXCEPTION
15:09:53  78  	WHEN NO_DATA_FOUND THEN NULL;
15:09:53  79  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-decline', 'N/A');
15:09:53  80  END;
15:09:53  81  BEGIN
15:09:53  82  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'CREDIT_CARD_EXP';
15:09:53  83  EXCEPTION
15:09:53  84  	WHEN NO_DATA_FOUND THEN
15:09:53  85  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'CREDIT_CARD_EXP', SYSDATE, 'OFFERMAKER');
15:09:53  86  END;
15:09:53  87  BEGIN
15:09:53  88  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'card_expiration';
15:09:53  89  EXCEPTION
15:09:53  90  	WHEN NO_DATA_FOUND THEN NULL;
15:09:53  91  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'card_expiration', 'N/A');
15:09:53  92  END;
15:09:53  93  BEGIN
15:09:53  94  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_REDEEM';
15:09:53  95  EXCEPTION
15:09:53  96  	WHEN NO_DATA_FOUND THEN
15:09:53  97  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'GC_REDEEMER_ON_REDEEM', SYSDATE, 'OFFERMAKER');
15:09:53  98  END;
15:09:53  99  BEGIN
15:09:53 100  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-sub-activation';
15:09:53 101  EXCEPTION
15:09:53 102  	WHEN NO_DATA_FOUND THEN NULL;
15:09:53 103  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-gift-sub-activation', 'N/A');
15:09:53 104  END;
15:09:53 105  BEGIN
15:09:53 106  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'CLOSE_SUBSCRIPTION';
15:09:53 107  EXCEPTION
15:09:53 108  	WHEN NO_DATA_FOUND THEN
15:09:53 109  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'CLOSE_SUBSCRIPTION', SYSDATE, 'OFFERMAKER');
15:09:53 110  END;
15:09:53 111  BEGIN
15:09:53 112  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-sub-expired-gift';
15:09:53 113  EXCEPTION
15:09:53 114  	WHEN NO_DATA_FOUND THEN NULL;
15:09:53 115  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-sub-expired-gift', 'N/A');
15:09:53 116  END;
15:09:53 117  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915004, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-purchase'), (SELECT ID FROM ACTION WHERE NAME = 'SUBSCRIBE_TO_OFFER_CHAIN'), 'OFFERMAKER', SYSDATE);
15:09:53 118  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915004, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-purchase'), (SELECT ID FROM ACTION WHERE NAME = 'UPGRADE_SUBSCRIPTION'), 'OFFERMAKER', SYSDATE);
15:09:53 119  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915004, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-cancel'), (SELECT ID FROM ACTION WHERE NAME = 'CANCEL_SUBSCRIPTION'), 'OFFERMAKER', SYSDATE);
15:09:53 120  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915004, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-decline'), (SELECT ID FROM ACTION WHERE NAME = 'SYSTEM_CANCEL'), 'OFFERMAKER', SYSDATE);
15:09:53 121  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915004, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'card_expiration'), (SELECT ID FROM ACTION WHERE NAME = 'CREDIT_CARD_EXP'), 'OFFERMAKER', SYSDATE);
15:09:53 122  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915004, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-sub-activation'), (SELECT ID FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_REDEEM'), 'OFFERMAKER', SYSDATE);
15:09:53 123  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915004, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-sub-expired-gift'), (SELECT ID FROM ACTION WHERE NAME = 'CLOSE_SUBSCRIPTION'), 'OFFERMAKER', SYSDATE);
15:09:53 124  BEGIN
15:09:53 125  	SELECT 1 INTO TMP_VAR FROM OFFER_OFFER_CHAIN WHERE OFFER_CHAIN_ID = 99915004 AND INDEX_VALUE = 0 AND ROWNUM <= 1;
15:09:53 126  EXCEPTION
15:09:53 127  	WHEN NO_DATA_FOUND THEN
15:09:53 128  INSERT INTO OFFER (ID, OFFER_STATUS_ID, ENTITLEMENT_DURATION, CREATED_BY, CREATE_DATE, updated_by, update_date) VALUES (OFR_ID_SEQ.NEXTVAL, 1, 'P0Y0M112DT0H0M', 'OFFERMAKER', SYSDATE, 'OFFERMAKER', SYSDATE);
15:09:53 129  BEGIN
15:09:53 130  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Web' AND ROWNUM <= 1;
15:09:53 131  EXCEPTION
15:09:53 132  	WHEN NO_DATA_FOUND THEN
15:09:53 133  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Web', 'OFFERMAKER', SYSDATE);
15:09:53 134  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Web' AND ROWNUM <= 1;
15:09:53 135  	WHEN OTHERS THEN
15:09:53 136  	  RAISE;
15:09:53 137  END;
15:09:53 138  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '112', '0.357143', 'OFFERMAKER', SYSDATE);
15:09:53 139  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
15:09:53 140  INSERT INTO DISCOUNT (ID, NAME, DESCRIPTION, FIXED_AMOUNT, PERCENT_AMOUNT, DISCOUNT_TYPE_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.NEXTVAL, 'Discount', 'Off: 0.0. P.Disc: 0.0000. P.Full: 40.0000', '40.00', '0', 1, 'OFFERMAKER', SYSDATE);
15:09:53 141  INSERT INTO DISCOUNT_PRODUCT_OFFERING (DISCOUNT_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
15:09:53 142  BEGIN
15:09:53 143  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Mobile' AND ROWNUM <= 1;
15:09:53 144  EXCEPTION
15:09:53 145  	WHEN NO_DATA_FOUND THEN
15:09:53 146  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Mobile', 'OFFERMAKER', SYSDATE);
15:09:53 147  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Mobile' AND ROWNUM <= 1;
15:09:53 148  	WHEN OTHERS THEN
15:09:53 149  	  RAISE;
15:09:53 150  END;
15:09:53 151  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '112', '0', 'OFFERMAKER', SYSDATE);
15:09:53 152  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
15:09:53 153  BEGIN
15:09:53 154  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Archive Article' AND ROWNUM <= 1;
15:09:53 155  EXCEPTION
15:09:53 156  	WHEN NO_DATA_FOUND THEN
15:09:53 157  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Archive Article', 'OFFERMAKER', SYSDATE);
15:09:53 158  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Archive Article' AND ROWNUM <= 1;
15:09:53 159  	WHEN OTHERS THEN
15:09:53 160  	  RAISE;
15:09:53 161  END;
15:09:53 162  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '400', '0', 'OFFERMAKER', SYSDATE);
15:09:53 163  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
15:09:53 164  BEGIN
15:09:53 165  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'TimesMachine' AND ROWNUM <= 1;
15:09:53 166  EXCEPTION
15:09:53 167  	WHEN NO_DATA_FOUND THEN
15:09:53 168  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'TimesMachine', 'OFFERMAKER', SYSDATE);
15:09:53 169  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'TimesMachine' AND ROWNUM <= 1;
15:09:53 170  	WHEN OTHERS THEN
15:09:53 171  	  RAISE;
15:09:53 172  END;
15:09:53 173  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '112', '0', 'OFFERMAKER', SYSDATE);
15:09:53 174  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
15:09:53 175  BEGIN
15:09:53 176  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Tablet' AND ROWNUM <= 1;
15:09:53 177  EXCEPTION
15:09:53 178  	WHEN NO_DATA_FOUND THEN
15:09:53 179  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Tablet', 'OFFERMAKER', SYSDATE);
15:09:53 180  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Tablet' AND ROWNUM <= 1;
15:09:53 181  	WHEN OTHERS THEN
15:09:53 182  	  RAISE;
15:09:53 183  END;
15:09:53 184  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '112', '0.357143', 'OFFERMAKER', SYSDATE);
15:09:53 185  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
15:09:53 186  INSERT INTO DISCOUNT (ID, NAME, DESCRIPTION, FIXED_AMOUNT, PERCENT_AMOUNT, DISCOUNT_TYPE_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.NEXTVAL, 'Discount', 'Off: 0.0. P.Disc: 0.0000. P.Full: 40.0000', '40.00', '0', 1, 'OFFERMAKER', SYSDATE);
15:09:53 187  INSERT INTO DISCOUNT_PRODUCT_OFFERING (DISCOUNT_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
15:09:53 188  BEGIN
15:09:53 189  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'TimesReader' AND ROWNUM <= 1;
15:09:53 190  EXCEPTION
15:09:53 191  	WHEN NO_DATA_FOUND THEN
15:09:53 192  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'TimesReader', 'OFFERMAKER', SYSDATE);
15:09:53 193  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'TimesReader' AND ROWNUM <= 1;
15:09:53 194  	WHEN OTHERS THEN
15:09:53 195  	  RAISE;
15:09:53 196  END;
15:09:53 197  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '112', '0', 'OFFERMAKER', SYSDATE);
15:09:53 198  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
15:09:53 199  INSERT INTO OFFER_OFFER_CHAIN (OFFER_ID, OFFER_CHAIN_ID, INDEX_VALUE, NUM_RECURRENCES, CREATED_BY, CREATE_DATE, updated_by, update_date) VALUES (OFR_ID_SEQ.CURRVAL, 99915004, '0', '1', 'OFFERMAKER', SYSDATE, 'OFFERMAKER', SYSDATE);
15:09:53 200  END;
15:09:53 201  END;
15:09:53 202  /

PL/SQL procedure successfully completed.

Elapsed: 00:00:00.08
15:09:53 SQL> COMMIT;

Commit complete.

Elapsed: 00:00:00.00
15:09:53 SQL> DECLARE
15:09:53   2  TMP_VAR NUMBER;
15:09:53   3  CUR_PRD_ID NUMBER;
15:09:53   4  CUR_CAPABILITY_ID NUMBER;
15:09:53   5  BEGIN
15:09:53   6  BEGIN
15:09:53   7  	SELECT 1 INTO TMP_VAR FROM OFFER_CHAIN WHERE ID = 99915005 AND ROWNUM <= 1;
15:09:53   8  	UPDATE OFFER_CHAIN SET NAME='All Digital Access', DESCRIPTION='Unlimited access to NYTimes.com, and the NYTimes smartphone and tablet apps.*', PRODUCT_URI='', VENDOR_SOURCE_ID='1', BILLING_SOURCE_ID=(SELECT ID FROM BILLING_SOURCE BS WHERE BS.NAME='Sartre'), IS_SEAT_LICENSE=0, GROUP_ACCOUNT_TYPE_ID='NO',IS_ADDRESS_REQUIRED=1, OFFER_CHAIN_STATUS_ID = 1, UPDATE_DATE = SYSDATE, UPDATED_BY = 'OFFERMAKER', IS_GIFT_CERTIFICATE='1', REVOKE_ENTITLEMENTS = '0', ADOPTABILITY_WINDOW_START_DATE = to_date('15-Jul-2013 00:00:00','DD-MON-YY HH24:MI:SS'), ADOPTABILITY_WINDOW_END_DATE = to_date('01-Feb-2099 00:00:00','DD-MON-YY HH24:MI:SS'), AMAZON_APPSTORE_SKU=NULL WHERE ID = 99915005;
15:09:53   9  EXCEPTION
15:09:53  10  	WHEN NO_DATA_FOUND THEN
15:09:53  11  	  INSERT INTO OFFER_CHAIN (ID, NAME, DESCRIPTION, ADOPTABILITY_WINDOW_START_DATE, ADOPTABILITY_WINDOW_END_DATE, IS_GIFT_CERTIFICATE, PRODUCT_URI, OFFER_CHAIN_STATUS_ID, REVOKE_ENTITLEMENTS, VENDOR_SOURCE_ID, BILLING_SOURCE_ID, IS_SEAT_LICENSE, GROUP_ACCOUNT_TYPE_ID, IS_ADDRESS_REQUIRED, AMAZON_APPSTORE_SKU, CREATED_BY, CREATE_DATE, updated_by, update_date) VALUES (99915005, 'All Digital Access', 'Unlimited access to NYTimes.com, and the NYTimes smartphone and tablet apps.*', to_date('15-Jul-2013 00:00:00','DD-MON-YY HH24:MI:SS'), to_date('01-Feb-2099 00:00:00','DD-MON-YY HH24:MI:SS'), '1', NULL, '1', '0', '1', (SELECT ID FROM BILLING_SOURCE BS WHERE BS.NAME='Sartre'), decode('NO','IL',1,0), 'NO', '1', '', 'OFFERMAKER', SYSDATE, 'OFFERMAKER', SYSDATE);
15:09:53  12  END;
15:09:53  13  DELETE FROM OFFER_CHAIN_ELIGIBILITY WHERE offer_chain_id = 99915005;
15:09:53  14  INSERT INTO OFFER_CHAIN_ELIGIBILITY (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (ELG_ID_SEQ.NEXTVAL, 99915005, 'IS_COMP', '0', 'OFFERMAKER', SYSDATE);
15:09:53  15  INSERT INTO OFFER_CHAIN_ELIGIBILITY (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (ELG_ID_SEQ.NEXTVAL, 99915005, 'REDEEMER_PROHIBITED_ENTITLEMENTS', 'mm,msd,mtd,mow,timesreader', 'OFFERMAKER', SYSDATE);
15:09:53  16  DELETE FROM OFFER_CHAIN_META_DATA WHERE offer_chain_id = 99915005;
15:09:53  17  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915005, 'BUNDLE_EXPLANATION', 'Bundle D - 16 Week Gift Sub - Purchase OC', 'OFFERMAKER', SYSDATE);
15:09:53  18  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915005, 'PRICE_DESCRIPTION', '4 Month Gift Subscription - $53.49 for 16 weeks - purchase', 'OFFERMAKER', SYSDATE);
15:09:53  19  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915005, 'PRICE_SHORT_DESCRIPTION', 'BNDL D / $53.49 16 wks GC purch', 'OFFERMAKER', SYSDATE);
15:09:53  20  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915005, 'OFFER_TYPE', 'Edu Digital Gift Subscription for 16 weeks', 'OFFERMAKER', SYSDATE);
15:09:53  21  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915005, 'OFFER_PRICE_DESCRIPTOR', '16 Weeks Gift Certificate', 'OFFERMAKER', SYSDATE);
15:09:53  22  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915005, 'OFFER_PRICE', '$53.49 for 16 weeks', 'OFFERMAKER', SYSDATE);
15:09:53  23  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915005, 'PROMO_PRICE_FOOTER_LABEL', '16 Weeks', 'OFFERMAKER', SYSDATE);
15:09:53  24  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915005, 'BILLING_CYCLE', 'You will be billed for a 16 week gift subscription in full.', 'OFFERMAKER', SYSDATE);
15:09:53  25  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915005, 'SUBSCRIBER_TYPE', 'Education', 'OFFERMAKER', SYSDATE);
15:09:53  26  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915005, 'ABOUT_ORDER', 'The full purchase price for gift subscriptions will be charged at the time of purchase and is non-refundable.  Redemption codes are not replaceable. Prices are in U.S. dollars and are subject to change. Other restrictions may apply.  Gift subscription period begins the day of redemption.  Redemption code expires five years after date of purchase.', 'OFFERMAKER', SYSDATE);
15:09:53  27  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915005, 'redemption offer chain id', '99915006', 'OFFERMAKER', SYSDATE);
15:09:53  28  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915005, 'OPEN_TO_ANONYMOUS', '1', 'OFFERMAKER', SYSDATE);
15:09:53  29  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915005, 'BUNDLE', 'Bundle D (Digital All Access)', 'OFFERMAKER', SYSDATE);
15:09:53  30  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915005, 'ADX_BUNDLE', 'MM_EDU', 'OFFERMAKER', SYSDATE);
15:09:53  31  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915005, 'SIEBEL_CAMPAIGN_CODE', '3JKLR', 'OFFERMAKER', SYSDATE);
15:09:53  32  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915005, 'SOCIAL_DISPLAY', 'nyt-bundle', 'OFFERMAKER', SYSDATE);
15:09:53  33  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915005, 'ANNUAL_PRICE', '455.00', 'OFFERMAKER', SYSDATE);
15:09:53  34  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915005, 'UID', 'c93db0a7a4b828587dfe9eb85fd8ac443c1395c4bfda0d12d1135b6bb481430a', 'OFFERMAKER', SYSDATE);
15:09:53  35  DELETE FROM OFFER_CHAIN_NOTIFICATION_TYPE WHERE offer_chain_id = 99915005;
15:09:53  36  BEGIN
15:09:53  37  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'SUBSCRIBE_TO_OFFER_CHAIN';
15:09:53  38  EXCEPTION
15:09:53  39  	WHEN NO_DATA_FOUND THEN
15:09:53  40  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'SUBSCRIBE_TO_OFFER_CHAIN', SYSDATE, 'OFFERMAKER');
15:09:53  41  END;
15:09:53  42  BEGIN
15:09:53  43  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-purchase';
15:09:53  44  EXCEPTION
15:09:53  45  	WHEN NO_DATA_FOUND THEN NULL;
15:09:53  46  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-gift-purchase', 'N/A');
15:09:53  47  END;
15:09:53  48  BEGIN
15:09:53  49  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'UPGRADE_SUBSCRIPTION';
15:09:53  50  EXCEPTION
15:09:53  51  	WHEN NO_DATA_FOUND THEN
15:09:53  52  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'UPGRADE_SUBSCRIPTION', SYSDATE, 'OFFERMAKER');
15:09:53  53  END;
15:09:53  54  BEGIN
15:09:53  55  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-purchase';
15:09:53  56  EXCEPTION
15:09:53  57  	WHEN NO_DATA_FOUND THEN NULL;
15:09:53  58  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-gift-purchase', 'N/A');
15:09:53  59  END;
15:09:53  60  BEGIN
15:09:53  61  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'CANCEL_SUBSCRIPTION';
15:09:53  62  EXCEPTION
15:09:53  63  	WHEN NO_DATA_FOUND THEN
15:09:53  64  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'CANCEL_SUBSCRIPTION', SYSDATE, 'OFFERMAKER');
15:09:53  65  END;
15:09:53  66  BEGIN
15:09:53  67  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-cancel';
15:09:53  68  EXCEPTION
15:09:53  69  	WHEN NO_DATA_FOUND THEN NULL;
15:09:53  70  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-cancel', 'N/A');
15:09:53  71  END;
15:09:53  72  BEGIN
15:09:53  73  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'SYSTEM_CANCEL';
15:09:53  74  EXCEPTION
15:09:53  75  	WHEN NO_DATA_FOUND THEN
15:09:53  76  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'SYSTEM_CANCEL', SYSDATE, 'OFFERMAKER');
15:09:53  77  END;
15:09:53  78  BEGIN
15:09:53  79  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-decline';
15:09:53  80  EXCEPTION
15:09:53  81  	WHEN NO_DATA_FOUND THEN NULL;
15:09:53  82  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-gift-decline', 'N/A');
15:09:53  83  END;
15:09:53  84  BEGIN
15:09:53  85  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'CREDIT_CARD_EXP';
15:09:53  86  EXCEPTION
15:09:53  87  	WHEN NO_DATA_FOUND THEN
15:09:53  88  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'CREDIT_CARD_EXP', SYSDATE, 'OFFERMAKER');
15:09:53  89  END;
15:09:53  90  BEGIN
15:09:53  91  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'card_expiration';
15:09:53  92  EXCEPTION
15:09:53  93  	WHEN NO_DATA_FOUND THEN NULL;
15:09:53  94  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'card_expiration', 'N/A');
15:09:53  95  END;
15:09:53  96  BEGIN
15:09:53  97  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_PURCHASE';
15:09:53  98  EXCEPTION
15:09:53  99  	WHEN NO_DATA_FOUND THEN
15:09:53 100  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'GC_REDEEMER_ON_PURCHASE', SYSDATE, 'OFFERMAKER');
15:09:53 101  END;
15:09:53 102  BEGIN
15:09:53 103  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-subscription';
15:09:53 104  EXCEPTION
15:09:53 105  	WHEN NO_DATA_FOUND THEN NULL;
15:09:53 106  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-gift-subscription', 'N/A');
15:09:53 107  END;
15:09:53 108  BEGIN
15:09:53 109  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_PURCHASE_30DAY';
15:09:53 110  EXCEPTION
15:09:53 111  	WHEN NO_DATA_FOUND THEN
15:09:53 112  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'GC_REDEEMER_ON_PURCHASE_30DAY', SYSDATE, 'OFFERMAKER');
15:09:53 113  END;
15:09:53 114  BEGIN
15:09:53 115  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-recipient-30days-reminder';
15:09:53 116  EXCEPTION
15:09:53 117  	WHEN NO_DATA_FOUND THEN NULL;
15:09:53 118  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-recipient-30days-reminder', 'N/A');
15:09:53 119  END;
15:09:53 120  BEGIN
15:09:53 121  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_PURCHASE_90DAY';
15:09:53 122  EXCEPTION
15:09:53 123  	WHEN NO_DATA_FOUND THEN
15:09:53 124  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'GC_REDEEMER_ON_PURCHASE_90DAY', SYSDATE, 'OFFERMAKER');
15:09:53 125  END;
15:09:53 126  BEGIN
15:09:53 127  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-recipient-90days-reminder';
15:09:53 128  EXCEPTION
15:09:53 129  	WHEN NO_DATA_FOUND THEN NULL;
15:09:53 130  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-recipient-90days-reminder', 'N/A');
15:09:53 131  END;
15:09:53 132  BEGIN
15:09:53 133  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'PURCHASE_GIFT_CERTIFICATE';
15:09:53 134  EXCEPTION
15:09:53 135  	WHEN NO_DATA_FOUND THEN
15:09:53 136  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'PURCHASE_GIFT_CERTIFICATE', SYSDATE, 'OFFERMAKER');
15:09:53 137  END;
15:09:53 138  BEGIN
15:09:53 139  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-purchase';
15:09:53 140  EXCEPTION
15:09:53 141  	WHEN NO_DATA_FOUND THEN NULL;
15:09:53 142  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-gift-purchase', 'N/A');
15:09:53 143  END;
15:09:53 144  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915005, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-purchase'), (SELECT ID FROM ACTION WHERE NAME = 'SUBSCRIBE_TO_OFFER_CHAIN'), 'OFFERMAKER', SYSDATE);
15:09:53 145  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915005, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-purchase'), (SELECT ID FROM ACTION WHERE NAME = 'UPGRADE_SUBSCRIPTION'), 'OFFERMAKER', SYSDATE);
15:09:53 146  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915005, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-cancel'), (SELECT ID FROM ACTION WHERE NAME = 'CANCEL_SUBSCRIPTION'), 'OFFERMAKER', SYSDATE);
15:09:53 147  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915005, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-decline'), (SELECT ID FROM ACTION WHERE NAME = 'SYSTEM_CANCEL'), 'OFFERMAKER', SYSDATE);
15:09:53 148  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915005, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'card_expiration'), (SELECT ID FROM ACTION WHERE NAME = 'CREDIT_CARD_EXP'), 'OFFERMAKER', SYSDATE);
15:09:53 149  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915005, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-subscription'), (SELECT ID FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_PURCHASE'), 'OFFERMAKER', SYSDATE);
15:09:53 150  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915005, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-recipient-30days-reminder'), (SELECT ID FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_PURCHASE_30DAY'), 'OFFERMAKER', SYSDATE);
15:09:53 151  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915005, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-recipient-90days-reminder'), (SELECT ID FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_PURCHASE_90DAY'), 'OFFERMAKER', SYSDATE);
15:09:53 152  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915005, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-purchase'), (SELECT ID FROM ACTION WHERE NAME = 'PURCHASE_GIFT_CERTIFICATE'), 'OFFERMAKER', SYSDATE);
15:09:53 153  BEGIN
15:09:53 154  	SELECT 1 INTO TMP_VAR FROM OFFER_OFFER_CHAIN WHERE OFFER_CHAIN_ID = 99915005 AND INDEX_VALUE = 0 AND ROWNUM <= 1;
15:09:53 155  EXCEPTION
15:09:53 156  	WHEN NO_DATA_FOUND THEN
15:09:53 157  INSERT INTO OFFER (ID, OFFER_STATUS_ID, ENTITLEMENT_DURATION, CREATED_BY, CREATE_DATE, updated_by, update_date) VALUES (OFR_ID_SEQ.NEXTVAL, 1, 'P0Y0M112DT0H0M', 'OFFERMAKER', SYSDATE, 'OFFERMAKER', SYSDATE);
15:09:53 158  BEGIN
15:09:53 159  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Web' AND ROWNUM <= 1;
15:09:53 160  EXCEPTION
15:09:53 161  	WHEN NO_DATA_FOUND THEN
15:09:53 162  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Web', 'OFFERMAKER', SYSDATE);
15:09:53 163  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Web' AND ROWNUM <= 1;
15:09:53 164  	WHEN OTHERS THEN
15:09:53 165  	  RAISE;
15:09:53 166  END;
15:09:53 167  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '2', '112', '0.357143', 'OFFERMAKER', SYSDATE);
15:09:53 168  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
15:09:53 169  INSERT INTO DISCOUNT (ID, NAME, DESCRIPTION, FIXED_AMOUNT, PERCENT_AMOUNT, DISCOUNT_TYPE_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.NEXTVAL, 'Discount', 'Off: 53.49. P.Disc: 15.2800. P.Full: 40.0000', '24.72', '0', 1, 'OFFERMAKER', SYSDATE);
15:09:53 170  INSERT INTO DISCOUNT_PRODUCT_OFFERING (DISCOUNT_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
15:09:53 171  BEGIN
15:09:53 172  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Mobile' AND ROWNUM <= 1;
15:09:53 173  EXCEPTION
15:09:53 174  	WHEN NO_DATA_FOUND THEN
15:09:53 175  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Mobile', 'OFFERMAKER', SYSDATE);
15:09:53 176  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Mobile' AND ROWNUM <= 1;
15:09:53 177  	WHEN OTHERS THEN
15:09:53 178  	  RAISE;
15:09:53 179  END;
15:09:53 180  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '112', '0', 'OFFERMAKER', SYSDATE);
15:09:53 181  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
15:09:53 182  BEGIN
15:09:53 183  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Archive Article' AND ROWNUM <= 1;
15:09:53 184  EXCEPTION
15:09:53 185  	WHEN NO_DATA_FOUND THEN
15:09:53 186  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Archive Article', 'OFFERMAKER', SYSDATE);
15:09:53 187  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Archive Article' AND ROWNUM <= 1;
15:09:53 188  	WHEN OTHERS THEN
15:09:53 189  	  RAISE;
15:09:53 190  END;
15:09:53 191  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '400', '0', 'OFFERMAKER', SYSDATE);
15:09:53 192  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
15:09:53 193  BEGIN
15:09:53 194  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'TimesMachine' AND ROWNUM <= 1;
15:09:53 195  EXCEPTION
15:09:53 196  	WHEN NO_DATA_FOUND THEN
15:09:53 197  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'TimesMachine', 'OFFERMAKER', SYSDATE);
15:09:53 198  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'TimesMachine' AND ROWNUM <= 1;
15:09:53 199  	WHEN OTHERS THEN
15:09:53 200  	  RAISE;
15:09:53 201  END;
15:09:53 202  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '112', '0', 'OFFERMAKER', SYSDATE);
15:09:53 203  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
15:09:53 204  BEGIN
15:09:53 205  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Smartphone' AND ROWNUM <= 1;
15:09:53 206  EXCEPTION
15:09:53 207  	WHEN NO_DATA_FOUND THEN
15:09:53 208  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Smartphone', 'OFFERMAKER', SYSDATE);
15:09:53 209  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Smartphone' AND ROWNUM <= 1;
15:09:53 210  	WHEN OTHERS THEN
15:09:53 211  	  RAISE;
15:09:53 212  END;
15:09:53 213  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '2', '112', '0.178571', 'OFFERMAKER', SYSDATE);
15:09:53 214  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
15:09:53 215  INSERT INTO DISCOUNT (ID, NAME, DESCRIPTION, FIXED_AMOUNT, PERCENT_AMOUNT, DISCOUNT_TYPE_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.NEXTVAL, 'Discount', 'Off: 53.49. P.Disc: 7.6400. P.Full: 20.0000', '12.36', '0', 1, 'OFFERMAKER', SYSDATE);
15:09:53 216  INSERT INTO DISCOUNT_PRODUCT_OFFERING (DISCOUNT_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
15:09:53 217  BEGIN
15:09:53 218  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Tablet' AND ROWNUM <= 1;
15:09:53 219  EXCEPTION
15:09:53 220  	WHEN NO_DATA_FOUND THEN
15:09:53 221  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Tablet', 'OFFERMAKER', SYSDATE);
15:09:53 222  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Tablet' AND ROWNUM <= 1;
15:09:53 223  	WHEN OTHERS THEN
15:09:53 224  	  RAISE;
15:09:53 225  END;
15:09:53 226  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '2', '112', '0.714286', 'OFFERMAKER', SYSDATE);
15:09:53 227  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
15:09:53 228  INSERT INTO DISCOUNT (ID, NAME, DESCRIPTION, FIXED_AMOUNT, PERCENT_AMOUNT, DISCOUNT_TYPE_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.NEXTVAL, 'Discount', 'Off: 53.49. P.Disc: 30.5700. P.Full: 80.0000', '49.43', '0', 1, 'OFFERMAKER', SYSDATE);
15:09:53 229  INSERT INTO DISCOUNT_PRODUCT_OFFERING (DISCOUNT_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
15:09:53 230  BEGIN
15:09:53 231  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'TimesReader' AND ROWNUM <= 1;
15:09:53 232  EXCEPTION
15:09:53 233  	WHEN NO_DATA_FOUND THEN
15:09:53 234  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'TimesReader', 'OFFERMAKER', SYSDATE);
15:09:53 235  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'TimesReader' AND ROWNUM <= 1;
15:09:53 236  	WHEN OTHERS THEN
15:09:53 237  	  RAISE;
15:09:53 238  END;
15:09:53 239  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '112', '0', 'OFFERMAKER', SYSDATE);
15:09:53 240  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
15:09:53 241  INSERT INTO OFFER_OFFER_CHAIN (OFFER_ID, OFFER_CHAIN_ID, INDEX_VALUE, NUM_RECURRENCES, CREATED_BY, CREATE_DATE, updated_by, update_date) VALUES (OFR_ID_SEQ.CURRVAL, 99915005, '0', '1', 'OFFERMAKER', SYSDATE, 'OFFERMAKER', SYSDATE);
15:09:53 242  END;
15:09:53 243  END;
15:09:53 244  /

PL/SQL procedure successfully completed.

Elapsed: 00:00:00.09
15:09:53 SQL> COMMIT;

Commit complete.

Elapsed: 00:00:00.00
15:09:53 SQL> DECLARE
15:09:53   2  TMP_VAR NUMBER;
15:09:53   3  CUR_PRD_ID NUMBER;
15:09:53   4  CUR_CAPABILITY_ID NUMBER;
15:09:53   5  BEGIN
15:09:53   6  BEGIN
15:09:53   7  	SELECT 1 INTO TMP_VAR FROM OFFER_CHAIN WHERE ID = 99915006 AND ROWNUM <= 1;
15:09:53   8  	UPDATE OFFER_CHAIN SET NAME='All Digital Access', DESCRIPTION='Unlimited access to NYTimes.com, and the NYTimes smartphone and tablet apps.*', PRODUCT_URI='', VENDOR_SOURCE_ID='1', BILLING_SOURCE_ID=(SELECT ID FROM BILLING_SOURCE BS WHERE BS.NAME='Sartre'), IS_SEAT_LICENSE=0, GROUP_ACCOUNT_TYPE_ID='NO',IS_ADDRESS_REQUIRED=1, OFFER_CHAIN_STATUS_ID = 1, UPDATE_DATE = SYSDATE, UPDATED_BY = 'OFFERMAKER', IS_GIFT_CERTIFICATE='0', REVOKE_ENTITLEMENTS = '0', ADOPTABILITY_WINDOW_START_DATE = to_date('15-Jul-2013 00:00:00','DD-MON-YY HH24:MI:SS'), ADOPTABILITY_WINDOW_END_DATE = to_date('01-Feb-2099 00:00:00','DD-MON-YY HH24:MI:SS'), AMAZON_APPSTORE_SKU=NULL WHERE ID = 99915006;
15:09:53   9  EXCEPTION
15:09:53  10  	WHEN NO_DATA_FOUND THEN
15:09:53  11  	  INSERT INTO OFFER_CHAIN (ID, NAME, DESCRIPTION, ADOPTABILITY_WINDOW_START_DATE, ADOPTABILITY_WINDOW_END_DATE, IS_GIFT_CERTIFICATE, PRODUCT_URI, OFFER_CHAIN_STATUS_ID, REVOKE_ENTITLEMENTS, VENDOR_SOURCE_ID, BILLING_SOURCE_ID, IS_SEAT_LICENSE, GROUP_ACCOUNT_TYPE_ID, IS_ADDRESS_REQUIRED, AMAZON_APPSTORE_SKU, CREATED_BY, CREATE_DATE, updated_by, update_date) VALUES (99915006, 'All Digital Access', 'Unlimited access to NYTimes.com, and the NYTimes smartphone and tablet apps.*', to_date('15-Jul-2013 00:00:00','DD-MON-YY HH24:MI:SS'), to_date('01-Feb-2099 00:00:00','DD-MON-YY HH24:MI:SS'), '0', NULL, '1', '0', '1', (SELECT ID FROM BILLING_SOURCE BS WHERE BS.NAME='Sartre'), decode('NO','IL',1,0), 'NO', '1', '', 'OFFERMAKER', SYSDATE, 'OFFERMAKER', SYSDATE);
15:09:53  12  END;
15:09:53  13  DELETE FROM OFFER_CHAIN_ELIGIBILITY WHERE offer_chain_id = 99915006;
15:09:53  14  INSERT INTO OFFER_CHAIN_ELIGIBILITY (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (ELG_ID_SEQ.NEXTVAL, 99915006, 'GIFT CERTIFICATE REQUIRED', '1', 'OFFERMAKER', SYSDATE);
15:09:53  15  INSERT INTO OFFER_CHAIN_ELIGIBILITY (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (ELG_ID_SEQ.NEXTVAL, 99915006, 'IS_COMP', '1', 'OFFERMAKER', SYSDATE);
15:09:53  16  INSERT INTO OFFER_CHAIN_ELIGIBILITY (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (ELG_ID_SEQ.NEXTVAL, 99915006, 'MAX_CONCURRENT_SUBS', '1', 'OFFERMAKER', SYSDATE);
15:09:53  17  DELETE FROM OFFER_CHAIN_META_DATA WHERE offer_chain_id = 99915006;
15:09:53  18  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915006, 'BUNDLE_EXPLANATION', 'Bundle D - 16 Week Gift Sub - Redeem OC', 'OFFERMAKER', SYSDATE);
15:09:53  19  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915006, 'PRICE_DESCRIPTION', '4 Month Gift Subscription - $53.49 for 16 weeks - redeem', 'OFFERMAKER', SYSDATE);
15:09:53  20  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915006, 'PRICE_SHORT_DESCRIPTION', 'BNDL D / $53.49 16 wks GC redemp', 'OFFERMAKER', SYSDATE);
15:09:53  21  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915006, 'OFFER_TYPE', 'Edu Digital Gift Subscription for 16 weeks', 'OFFERMAKER', SYSDATE);
15:09:53  22  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915006, 'PROMO_PRICE_FOOTER_LABEL', '16 Weeks', 'OFFERMAKER', SYSDATE);
15:09:53  23  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915006, 'BILLING_CYCLE', '16 week gift', 'OFFERMAKER', SYSDATE);
15:09:53  24  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915006, 'SUBSCRIBER_TYPE', 'Education', 'OFFERMAKER', SYSDATE);
15:09:53  25  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915006, 'OPEN_TO_ANONYMOUS', '1', 'OFFERMAKER', SYSDATE);
15:09:53  26  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915006, 'BUNDLE', 'Bundle D (Digital All Access)', 'OFFERMAKER', SYSDATE);
15:09:53  27  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915006, 'ADX_BUNDLE', 'MM_EDU', 'OFFERMAKER', SYSDATE);
15:09:53  28  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915006, 'SIEBEL_CAMPAIGN_CODE', '3JKLR', 'OFFERMAKER', SYSDATE);
15:09:53  29  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915006, 'IS_COMP', '1', 'OFFERMAKER', SYSDATE);
15:09:53  30  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915006, 'ANNUAL_PRICE', '455.00', 'OFFERMAKER', SYSDATE);
15:09:53  31  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915006, 'UID', 'd0dd21a0f4e93ffece8848ee2804b3aa261808b83acde1bfe5c1fe25068b7619', 'OFFERMAKER', SYSDATE);
15:09:53  32  DELETE FROM OFFER_CHAIN_NOTIFICATION_TYPE WHERE offer_chain_id = 99915006;
15:09:53  33  BEGIN
15:09:53  34  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'SUBSCRIBE_TO_OFFER_CHAIN';
15:09:53  35  EXCEPTION
15:09:53  36  	WHEN NO_DATA_FOUND THEN
15:09:53  37  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'SUBSCRIBE_TO_OFFER_CHAIN', SYSDATE, 'OFFERMAKER');
15:09:53  38  END;
15:09:53  39  BEGIN
15:09:53  40  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-purchase';
15:09:53  41  EXCEPTION
15:09:53  42  	WHEN NO_DATA_FOUND THEN NULL;
15:09:53  43  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-purchase', 'N/A');
15:09:53  44  END;
15:09:53  45  BEGIN
15:09:53  46  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'UPGRADE_SUBSCRIPTION';
15:09:53  47  EXCEPTION
15:09:53  48  	WHEN NO_DATA_FOUND THEN
15:09:53  49  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'UPGRADE_SUBSCRIPTION', SYSDATE, 'OFFERMAKER');
15:09:53  50  END;
15:09:53  51  BEGIN
15:09:53  52  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-purchase';
15:09:53  53  EXCEPTION
15:09:53  54  	WHEN NO_DATA_FOUND THEN NULL;
15:09:53  55  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-purchase', 'N/A');
15:09:53  56  END;
15:09:53  57  BEGIN
15:09:53  58  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'CANCEL_SUBSCRIPTION';
15:09:53  59  EXCEPTION
15:09:53  60  	WHEN NO_DATA_FOUND THEN
15:09:53  61  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'CANCEL_SUBSCRIPTION', SYSDATE, 'OFFERMAKER');
15:09:53  62  END;
15:09:53  63  BEGIN
15:09:53  64  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-cancel';
15:09:53  65  EXCEPTION
15:09:53  66  	WHEN NO_DATA_FOUND THEN NULL;
15:09:53  67  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-cancel', 'N/A');
15:09:53  68  END;
15:09:53  69  BEGIN
15:09:53  70  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'SYSTEM_CANCEL';
15:09:53  71  EXCEPTION
15:09:53  72  	WHEN NO_DATA_FOUND THEN
15:09:53  73  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'SYSTEM_CANCEL', SYSDATE, 'OFFERMAKER');
15:09:53  74  END;
15:09:53  75  BEGIN
15:09:53  76  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-decline';
15:09:53  77  EXCEPTION
15:09:53  78  	WHEN NO_DATA_FOUND THEN NULL;
15:09:53  79  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-decline', 'N/A');
15:09:53  80  END;
15:09:53  81  BEGIN
15:09:53  82  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'CREDIT_CARD_EXP';
15:09:53  83  EXCEPTION
15:09:53  84  	WHEN NO_DATA_FOUND THEN
15:09:53  85  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'CREDIT_CARD_EXP', SYSDATE, 'OFFERMAKER');
15:09:53  86  END;
15:09:53  87  BEGIN
15:09:53  88  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'card_expiration';
15:09:53  89  EXCEPTION
15:09:53  90  	WHEN NO_DATA_FOUND THEN NULL;
15:09:53  91  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'card_expiration', 'N/A');
15:09:53  92  END;
15:09:53  93  BEGIN
15:09:53  94  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_REDEEM';
15:09:53  95  EXCEPTION
15:09:53  96  	WHEN NO_DATA_FOUND THEN
15:09:53  97  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'GC_REDEEMER_ON_REDEEM', SYSDATE, 'OFFERMAKER');
15:09:53  98  END;
15:09:53  99  BEGIN
15:09:53 100  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-sub-activation';
15:09:53 101  EXCEPTION
15:09:53 102  	WHEN NO_DATA_FOUND THEN NULL;
15:09:53 103  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-gift-sub-activation', 'N/A');
15:09:53 104  END;
15:09:53 105  BEGIN
15:09:53 106  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'CLOSE_SUBSCRIPTION';
15:09:53 107  EXCEPTION
15:09:53 108  	WHEN NO_DATA_FOUND THEN
15:09:53 109  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'CLOSE_SUBSCRIPTION', SYSDATE, 'OFFERMAKER');
15:09:53 110  END;
15:09:53 111  BEGIN
15:09:53 112  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-sub-expired-gift';
15:09:53 113  EXCEPTION
15:09:53 114  	WHEN NO_DATA_FOUND THEN NULL;
15:09:53 115  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-sub-expired-gift', 'N/A');
15:09:53 116  END;
15:09:53 117  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915006, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-purchase'), (SELECT ID FROM ACTION WHERE NAME = 'SUBSCRIBE_TO_OFFER_CHAIN'), 'OFFERMAKER', SYSDATE);
15:09:53 118  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915006, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-purchase'), (SELECT ID FROM ACTION WHERE NAME = 'UPGRADE_SUBSCRIPTION'), 'OFFERMAKER', SYSDATE);
15:09:53 119  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915006, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-cancel'), (SELECT ID FROM ACTION WHERE NAME = 'CANCEL_SUBSCRIPTION'), 'OFFERMAKER', SYSDATE);
15:09:53 120  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915006, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-decline'), (SELECT ID FROM ACTION WHERE NAME = 'SYSTEM_CANCEL'), 'OFFERMAKER', SYSDATE);
15:09:53 121  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915006, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'card_expiration'), (SELECT ID FROM ACTION WHERE NAME = 'CREDIT_CARD_EXP'), 'OFFERMAKER', SYSDATE);
15:09:53 122  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915006, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-sub-activation'), (SELECT ID FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_REDEEM'), 'OFFERMAKER', SYSDATE);
15:09:53 123  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915006, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-sub-expired-gift'), (SELECT ID FROM ACTION WHERE NAME = 'CLOSE_SUBSCRIPTION'), 'OFFERMAKER', SYSDATE);
15:09:53 124  BEGIN
15:09:53 125  	SELECT 1 INTO TMP_VAR FROM OFFER_OFFER_CHAIN WHERE OFFER_CHAIN_ID = 99915006 AND INDEX_VALUE = 0 AND ROWNUM <= 1;
15:09:53 126  EXCEPTION
15:09:53 127  	WHEN NO_DATA_FOUND THEN
15:09:53 128  INSERT INTO OFFER (ID, OFFER_STATUS_ID, ENTITLEMENT_DURATION, CREATED_BY, CREATE_DATE, updated_by, update_date) VALUES (OFR_ID_SEQ.NEXTVAL, 1, 'P0Y0M112DT0H0M', 'OFFERMAKER', SYSDATE, 'OFFERMAKER', SYSDATE);
15:09:53 129  BEGIN
15:09:53 130  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Web' AND ROWNUM <= 1;
15:09:53 131  EXCEPTION
15:09:53 132  	WHEN NO_DATA_FOUND THEN
15:09:53 133  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Web', 'OFFERMAKER', SYSDATE);
15:09:53 134  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Web' AND ROWNUM <= 1;
15:09:53 135  	WHEN OTHERS THEN
15:09:53 136  	  RAISE;
15:09:53 137  END;
15:09:53 138  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '112', '0.357143', 'OFFERMAKER', SYSDATE);
15:09:53 139  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
15:09:53 140  INSERT INTO DISCOUNT (ID, NAME, DESCRIPTION, FIXED_AMOUNT, PERCENT_AMOUNT, DISCOUNT_TYPE_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.NEXTVAL, 'Discount', 'Off: 0.0. P.Disc: 0.0000. P.Full: 40.0000', '40.00', '0', 1, 'OFFERMAKER', SYSDATE);
15:09:53 141  INSERT INTO DISCOUNT_PRODUCT_OFFERING (DISCOUNT_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
15:09:53 142  BEGIN
15:09:53 143  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Mobile' AND ROWNUM <= 1;
15:09:53 144  EXCEPTION
15:09:53 145  	WHEN NO_DATA_FOUND THEN
15:09:53 146  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Mobile', 'OFFERMAKER', SYSDATE);
15:09:53 147  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Mobile' AND ROWNUM <= 1;
15:09:53 148  	WHEN OTHERS THEN
15:09:53 149  	  RAISE;
15:09:53 150  END;
15:09:53 151  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '112', '0', 'OFFERMAKER', SYSDATE);
15:09:53 152  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
15:09:53 153  BEGIN
15:09:53 154  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Archive Article' AND ROWNUM <= 1;
15:09:53 155  EXCEPTION
15:09:53 156  	WHEN NO_DATA_FOUND THEN
15:09:53 157  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Archive Article', 'OFFERMAKER', SYSDATE);
15:09:53 158  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Archive Article' AND ROWNUM <= 1;
15:09:53 159  	WHEN OTHERS THEN
15:09:53 160  	  RAISE;
15:09:53 161  END;
15:09:53 162  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '400', '0', 'OFFERMAKER', SYSDATE);
15:09:53 163  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
15:09:53 164  BEGIN
15:09:53 165  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'TimesMachine' AND ROWNUM <= 1;
15:09:53 166  EXCEPTION
15:09:53 167  	WHEN NO_DATA_FOUND THEN
15:09:53 168  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'TimesMachine', 'OFFERMAKER', SYSDATE);
15:09:53 169  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'TimesMachine' AND ROWNUM <= 1;
15:09:53 170  	WHEN OTHERS THEN
15:09:53 171  	  RAISE;
15:09:53 172  END;
15:09:53 173  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '112', '0', 'OFFERMAKER', SYSDATE);
15:09:53 174  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
15:09:53 175  BEGIN
15:09:53 176  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Smartphone' AND ROWNUM <= 1;
15:09:53 177  EXCEPTION
15:09:53 178  	WHEN NO_DATA_FOUND THEN
15:09:53 179  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Smartphone', 'OFFERMAKER', SYSDATE);
15:09:53 180  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Smartphone' AND ROWNUM <= 1;
15:09:53 181  	WHEN OTHERS THEN
15:09:53 182  	  RAISE;
15:09:53 183  END;
15:09:53 184  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '112', '0.178571', 'OFFERMAKER', SYSDATE);
15:09:53 185  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
15:09:53 186  INSERT INTO DISCOUNT (ID, NAME, DESCRIPTION, FIXED_AMOUNT, PERCENT_AMOUNT, DISCOUNT_TYPE_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.NEXTVAL, 'Discount', 'Off: 0.0. P.Disc: 0.0000. P.Full: 20.0000', '20.00', '0', 1, 'OFFERMAKER', SYSDATE);
15:09:53 187  INSERT INTO DISCOUNT_PRODUCT_OFFERING (DISCOUNT_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
15:09:53 188  BEGIN
15:09:53 189  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Tablet' AND ROWNUM <= 1;
15:09:53 190  EXCEPTION
15:09:53 191  	WHEN NO_DATA_FOUND THEN
15:09:53 192  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Tablet', 'OFFERMAKER', SYSDATE);
15:09:53 193  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Tablet' AND ROWNUM <= 1;
15:09:53 194  	WHEN OTHERS THEN
15:09:53 195  	  RAISE;
15:09:53 196  END;
15:09:53 197  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '112', '0.714286', 'OFFERMAKER', SYSDATE);
15:09:53 198  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
15:09:53 199  INSERT INTO DISCOUNT (ID, NAME, DESCRIPTION, FIXED_AMOUNT, PERCENT_AMOUNT, DISCOUNT_TYPE_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.NEXTVAL, 'Discount', 'Off: 0.0. P.Disc: 0.0000. P.Full: 80.0000', '80.00', '0', 1, 'OFFERMAKER', SYSDATE);
15:09:53 200  INSERT INTO DISCOUNT_PRODUCT_OFFERING (DISCOUNT_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
15:09:53 201  BEGIN
15:09:53 202  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'TimesReader' AND ROWNUM <= 1;
15:09:53 203  EXCEPTION
15:09:53 204  	WHEN NO_DATA_FOUND THEN
15:09:53 205  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'TimesReader', 'OFFERMAKER', SYSDATE);
15:09:53 206  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'TimesReader' AND ROWNUM <= 1;
15:09:53 207  	WHEN OTHERS THEN
15:09:53 208  	  RAISE;
15:09:53 209  END;
15:09:53 210  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '112', '0', 'OFFERMAKER', SYSDATE);
15:09:53 211  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
15:09:53 212  INSERT INTO OFFER_OFFER_CHAIN (OFFER_ID, OFFER_CHAIN_ID, INDEX_VALUE, NUM_RECURRENCES, CREATED_BY, CREATE_DATE, updated_by, update_date) VALUES (OFR_ID_SEQ.CURRVAL, 99915006, '0', '1', 'OFFERMAKER', SYSDATE, 'OFFERMAKER', SYSDATE);
15:09:53 213  END;
15:09:53 214  END;
15:09:53 215  /

PL/SQL procedure successfully completed.

Elapsed: 00:00:00.17
15:09:53 SQL> COMMIT;

Commit complete.

Elapsed: 00:00:00.00
15:09:53 SQL> commit;

Commit complete.

Elapsed: 00:00:00.00
15:09:53 SQL> spool off;


Subject: Nomad upgrade completed successfully: ECPR@rac01.prd.ewr1.nytimes.com
From: Nomad for Oracle <nytd_oracledba@nytimes.com>
To: nytd_ecommerce@nytimes.com
Cc: nytd_oracledba@nytimes.com

Nomad upgrade operation completed successfully without errors. 
        
        Details
        -------
        DB Hostname: rac01.prd.ewr1.nytimes.com
        DB Role: PRIMARY
        SID: ECPR
        Schema: core_owner
        Migration: 77.1-create-edu-16-wk-gift-subs
        SVN Revision: 13606
        Duration: 1 sec.
        DBA: apathrose
        