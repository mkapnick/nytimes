14:43:09 SQL> @/dbbackups/ECST/migrations/core_owner/77.1-create-edu-16-wk-gift-subs/upgrade.sql
14:43:09 SQL> WHENEVER SQLERROR EXIT SQL.SQLCODE ROLLBACK
14:43:09 SQL> SET SCAN OFF
14:43:09 SQL> SET DEFINE OFF
14:43:09 SQL> DECLARE
14:43:09   2  TMP_VAR NUMBER;
14:43:09   3  CUR_PRD_ID NUMBER;
14:43:09   4  CUR_CAPABILITY_ID NUMBER;
14:43:09   5  BEGIN
14:43:09   6  BEGIN
14:43:09   7  	SELECT 1 INTO TMP_VAR FROM OFFER_CHAIN WHERE ID = 99915001 AND ROWNUM <= 1;
14:43:09   8  	UPDATE OFFER_CHAIN SET NAME='NYTimes: Web + Smartphone App', DESCRIPTION='Unlimited access to NYTimes.com and the NYTimes smartphone app.*', PRODUCT_URI='', VENDOR_SOURCE_ID='1', BILLING_SOURCE_ID=(SELECT ID FROM BILLING_SOURCE BS WHERE BS.NAME='Sartre'), IS_SEAT_LICENSE=0, GROUP_ACCOUNT_TYPE_ID='NO',IS_ADDRESS_REQUIRED=1, OFFER_CHAIN_STATUS_ID = 1, UPDATE_DATE = SYSDATE, UPDATED_BY = 'OFFERMAKER', IS_GIFT_CERTIFICATE='1', REVOKE_ENTITLEMENTS = '0', ADOPTABILITY_WINDOW_START_DATE = to_date('15-Jul-2013 00:00:00','DD-MON-YY HH24:MI:SS'), ADOPTABILITY_WINDOW_END_DATE = to_date('01-Feb-2099 00:00:00','DD-MON-YY HH24:MI:SS'), AMAZON_APPSTORE_SKU=NULL WHERE ID = 99915001;
14:43:09   9  EXCEPTION
14:43:09  10  	WHEN NO_DATA_FOUND THEN
14:43:09  11  	  INSERT INTO OFFER_CHAIN (ID, NAME, DESCRIPTION, ADOPTABILITY_WINDOW_START_DATE, ADOPTABILITY_WINDOW_END_DATE, IS_GIFT_CERTIFICATE, PRODUCT_URI, OFFER_CHAIN_STATUS_ID, REVOKE_ENTITLEMENTS, VENDOR_SOURCE_ID, BILLING_SOURCE_ID, IS_SEAT_LICENSE, GROUP_ACCOUNT_TYPE_ID, IS_ADDRESS_REQUIRED, AMAZON_APPSTORE_SKU, CREATED_BY, CREATE_DATE, updated_by, update_date) VALUES (99915001, 'NYTimes: Web + Smartphone App', 'Unlimited access to NYTimes.com and the NYTimes smartphone app.*', to_date('15-Jul-2013 00:00:00','DD-MON-YY HH24:MI:SS'), to_date('01-Feb-2099 00:00:00','DD-MON-YY HH24:MI:SS'), '1', NULL, '1', '0', '1', (SELECT ID FROM BILLING_SOURCE BS WHERE BS.NAME='Sartre'), decode('NO','IL',1,0), 'NO', '1', '', 'OFFERMAKER', SYSDATE, 'OFFERMAKER', SYSDATE);
14:43:09  12  END;
14:43:09  13  DELETE FROM OFFER_CHAIN_ELIGIBILITY WHERE offer_chain_id = 99915001;
14:43:09  14  INSERT INTO OFFER_CHAIN_ELIGIBILITY (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (ELG_ID_SEQ.NEXTVAL, 99915001, 'IS_COMP', '0', 'OFFERMAKER', SYSDATE);
14:43:09  15  INSERT INTO OFFER_CHAIN_ELIGIBILITY (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (ELG_ID_SEQ.NEXTVAL, 99915001, 'REDEEMER_PROHIBITED_ENTITLEMENTS', 'mm,msd,mow,timesreader', 'OFFERMAKER', SYSDATE);
14:43:09  16  DELETE FROM OFFER_CHAIN_META_DATA WHERE offer_chain_id = 99915001;
14:43:09  17  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915001, 'BUNDLE_EXPLANATION', 'Bundle A - 16 Week Gift Sub - Purchase OC', 'OFFERMAKER', SYSDATE);
14:43:09  18  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915001, 'PRICE_DESCRIPTION', '4 Month Gift Subscription - $23.49 for 16 weeks - purchase', 'OFFERMAKER', SYSDATE);
14:43:09  19  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915001, 'PRICE_SHORT_DESCRIPTION', 'BNDL A / $23.49 16 wks GC purch', 'OFFERMAKER', SYSDATE);
14:43:09  20  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915001, 'OFFER_TYPE', 'Edu Digital Gift Subscription for 16 weeks', 'OFFERMAKER', SYSDATE);
14:43:09  21  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915001, 'OFFER_PRICE_DESCRIPTOR', '16 Weeks Gift Certificate', 'OFFERMAKER', SYSDATE);
14:43:09  22  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915001, 'OFFER_PRICE', '$23.49 for 16 weeks', 'OFFERMAKER', SYSDATE);
14:43:09  23  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915001, 'PROMO_PRICE_FOOTER_LABEL', '16 Weeks', 'OFFERMAKER', SYSDATE);
14:43:09  24  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915001, 'BILLING_CYCLE', 'You will be billed for a 16 week gift subscription in full.', 'OFFERMAKER', SYSDATE);
14:43:09  25  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915001, 'SUBSCRIBER_TYPE', 'Education', 'OFFERMAKER', SYSDATE);
14:43:09  26  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915001, 'ABOUT_ORDER', 'The full purchase price for gift subscriptions will be charged at the time of purchase and is non-refundable.  Redemption codes are not replaceable. Prices are in U.S. dollars and are subject to change. Other restrictions may apply.  Gift subscription period begins the day of redemption.  Redemption code expires five years after date of purchase.', 'OFFERMAKER', SYSDATE);
14:43:09  27  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915001, 'redemption offer chain id', '99915002', 'OFFERMAKER', SYSDATE);
14:43:09  28  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915001, 'OPEN_TO_ANONYMOUS', '1', 'OFFERMAKER', SYSDATE);
14:43:09  29  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915001, 'BUNDLE', 'Bundle A (Web+SP)', 'OFFERMAKER', SYSDATE);
14:43:09  30  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915001, 'ADX_BUNDLE', 'MM_EDU', 'OFFERMAKER', SYSDATE);
14:43:09  31  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915001, 'SIEBEL_CAMPAIGN_CODE', '3JKLR', 'OFFERMAKER', SYSDATE);
14:43:09  32  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915001, 'SOCIAL_DISPLAY', 'nyt-bundle', 'OFFERMAKER', SYSDATE);
14:43:09  33  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915001, 'ANNUAL_PRICE', '195.00', 'OFFERMAKER', SYSDATE);
14:43:09  34  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915001, 'UID', '50aaac1f7467b1dfe6a61ecee7de73fde84fb3e7164cff95114739b0d04472f9', 'OFFERMAKER', SYSDATE);
14:43:09  35  DELETE FROM OFFER_CHAIN_NOTIFICATION_TYPE WHERE offer_chain_id = 99915001;
14:43:09  36  BEGIN
14:43:09  37  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'SUBSCRIBE_TO_OFFER_CHAIN';
14:43:09  38  EXCEPTION
14:43:09  39  	WHEN NO_DATA_FOUND THEN
14:43:09  40  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'SUBSCRIBE_TO_OFFER_CHAIN', SYSDATE, 'OFFERMAKER');
14:43:09  41  END;
14:43:09  42  BEGIN
14:43:09  43  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-purchase';
14:43:09  44  EXCEPTION
14:43:09  45  	WHEN NO_DATA_FOUND THEN NULL;
14:43:09  46  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-gift-purchase', 'N/A');
14:43:09  47  END;
14:43:09  48  BEGIN
14:43:09  49  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'UPGRADE_SUBSCRIPTION';
14:43:09  50  EXCEPTION
14:43:09  51  	WHEN NO_DATA_FOUND THEN
14:43:09  52  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'UPGRADE_SUBSCRIPTION', SYSDATE, 'OFFERMAKER');
14:43:09  53  END;
14:43:09  54  BEGIN
14:43:09  55  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-purchase';
14:43:09  56  EXCEPTION
14:43:09  57  	WHEN NO_DATA_FOUND THEN NULL;
14:43:09  58  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-gift-purchase', 'N/A');
14:43:09  59  END;
14:43:09  60  BEGIN
14:43:09  61  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'CANCEL_SUBSCRIPTION';
14:43:09  62  EXCEPTION
14:43:09  63  	WHEN NO_DATA_FOUND THEN
14:43:09  64  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'CANCEL_SUBSCRIPTION', SYSDATE, 'OFFERMAKER');
14:43:09  65  END;
14:43:09  66  BEGIN
14:43:09  67  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-cancel';
14:43:09  68  EXCEPTION
14:43:09  69  	WHEN NO_DATA_FOUND THEN NULL;
14:43:09  70  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-cancel', 'N/A');
14:43:09  71  END;
14:43:09  72  BEGIN
14:43:09  73  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'SYSTEM_CANCEL';
14:43:09  74  EXCEPTION
14:43:09  75  	WHEN NO_DATA_FOUND THEN
14:43:09  76  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'SYSTEM_CANCEL', SYSDATE, 'OFFERMAKER');
14:43:09  77  END;
14:43:09  78  BEGIN
14:43:09  79  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-decline';
14:43:09  80  EXCEPTION
14:43:09  81  	WHEN NO_DATA_FOUND THEN NULL;
14:43:09  82  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-gift-decline', 'N/A');
14:43:09  83  END;
14:43:09  84  BEGIN
14:43:09  85  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'CREDIT_CARD_EXP';
14:43:09  86  EXCEPTION
14:43:09  87  	WHEN NO_DATA_FOUND THEN
14:43:09  88  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'CREDIT_CARD_EXP', SYSDATE, 'OFFERMAKER');
14:43:09  89  END;
14:43:09  90  BEGIN
14:43:09  91  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'card_expiration';
14:43:09  92  EXCEPTION
14:43:09  93  	WHEN NO_DATA_FOUND THEN NULL;
14:43:09  94  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'card_expiration', 'N/A');
14:43:09  95  END;
14:43:09  96  BEGIN
14:43:09  97  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_PURCHASE';
14:43:09  98  EXCEPTION
14:43:09  99  	WHEN NO_DATA_FOUND THEN
14:43:09 100  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'GC_REDEEMER_ON_PURCHASE', SYSDATE, 'OFFERMAKER');
14:43:09 101  END;
14:43:09 102  BEGIN
14:43:09 103  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-subscription';
14:43:09 104  EXCEPTION
14:43:09 105  	WHEN NO_DATA_FOUND THEN NULL;
14:43:09 106  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-gift-subscription', 'N/A');
14:43:09 107  END;
14:43:09 108  BEGIN
14:43:09 109  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_PURCHASE_30DAY';
14:43:09 110  EXCEPTION
14:43:09 111  	WHEN NO_DATA_FOUND THEN
14:43:09 112  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'GC_REDEEMER_ON_PURCHASE_30DAY', SYSDATE, 'OFFERMAKER');
14:43:09 113  END;
14:43:09 114  BEGIN
14:43:09 115  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-recipient-30days-reminder';
14:43:09 116  EXCEPTION
14:43:09 117  	WHEN NO_DATA_FOUND THEN NULL;
14:43:09 118  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-recipient-30days-reminder', 'N/A');
14:43:09 119  END;
14:43:09 120  BEGIN
14:43:09 121  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_PURCHASE_90DAY';
14:43:09 122  EXCEPTION
14:43:09 123  	WHEN NO_DATA_FOUND THEN
14:43:09 124  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'GC_REDEEMER_ON_PURCHASE_90DAY', SYSDATE, 'OFFERMAKER');
14:43:09 125  END;
14:43:09 126  BEGIN
14:43:09 127  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-recipient-90days-reminder';
14:43:09 128  EXCEPTION
14:43:09 129  	WHEN NO_DATA_FOUND THEN NULL;
14:43:09 130  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-recipient-90days-reminder', 'N/A');
14:43:09 131  END;
14:43:09 132  BEGIN
14:43:09 133  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'PURCHASE_GIFT_CERTIFICATE';
14:43:09 134  EXCEPTION
14:43:09 135  	WHEN NO_DATA_FOUND THEN
14:43:09 136  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'PURCHASE_GIFT_CERTIFICATE', SYSDATE, 'OFFERMAKER');
14:43:09 137  END;
14:43:09 138  BEGIN
14:43:09 139  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-purchase';
14:43:09 140  EXCEPTION
14:43:09 141  	WHEN NO_DATA_FOUND THEN NULL;
14:43:09 142  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-gift-purchase', 'N/A');
14:43:09 143  END;
14:43:09 144  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915001, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-purchase'), (SELECT ID FROM ACTION WHERE NAME = 'SUBSCRIBE_TO_OFFER_CHAIN'), 'OFFERMAKER', SYSDATE);
14:43:09 145  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915001, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-purchase'), (SELECT ID FROM ACTION WHERE NAME = 'UPGRADE_SUBSCRIPTION'), 'OFFERMAKER', SYSDATE);
14:43:09 146  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915001, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-cancel'), (SELECT ID FROM ACTION WHERE NAME = 'CANCEL_SUBSCRIPTION'), 'OFFERMAKER', SYSDATE);
14:43:09 147  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915001, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-decline'), (SELECT ID FROM ACTION WHERE NAME = 'SYSTEM_CANCEL'), 'OFFERMAKER', SYSDATE);
14:43:09 148  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915001, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'card_expiration'), (SELECT ID FROM ACTION WHERE NAME = 'CREDIT_CARD_EXP'), 'OFFERMAKER', SYSDATE);
14:43:09 149  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915001, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-subscription'), (SELECT ID FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_PURCHASE'), 'OFFERMAKER', SYSDATE);
14:43:09 150  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915001, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-recipient-30days-reminder'), (SELECT ID FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_PURCHASE_30DAY'), 'OFFERMAKER', SYSDATE);
14:43:09 151  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915001, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-recipient-90days-reminder'), (SELECT ID FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_PURCHASE_90DAY'), 'OFFERMAKER', SYSDATE);
14:43:09 152  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915001, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-purchase'), (SELECT ID FROM ACTION WHERE NAME = 'PURCHASE_GIFT_CERTIFICATE'), 'OFFERMAKER', SYSDATE);
14:43:09 153  BEGIN
14:43:09 154  	SELECT 1 INTO TMP_VAR FROM OFFER_OFFER_CHAIN WHERE OFFER_CHAIN_ID = 99915001 AND INDEX_VALUE = 0 AND ROWNUM <= 1;
14:43:09 155  EXCEPTION
14:43:09 156  	WHEN NO_DATA_FOUND THEN
14:43:09 157  INSERT INTO OFFER (ID, OFFER_STATUS_ID, ENTITLEMENT_DURATION, CREATED_BY, CREATE_DATE, updated_by, update_date) VALUES (OFR_ID_SEQ.NEXTVAL, 1, 'P0Y0M112DT0H0M', 'OFFERMAKER', SYSDATE, 'OFFERMAKER', SYSDATE);
14:43:09 158  BEGIN
14:43:09 159  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Web' AND ROWNUM <= 1;
14:43:09 160  EXCEPTION
14:43:09 161  	WHEN NO_DATA_FOUND THEN
14:43:09 162  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Web', 'OFFERMAKER', SYSDATE);
14:43:09 163  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Web' AND ROWNUM <= 1;
14:43:09 164  	WHEN OTHERS THEN
14:43:09 165  	  RAISE;
14:43:09 166  END;
14:43:09 167  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '2', '112', '0.357143', 'OFFERMAKER', SYSDATE);
14:43:09 168  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
14:43:09 169  INSERT INTO DISCOUNT (ID, NAME, DESCRIPTION, FIXED_AMOUNT, PERCENT_AMOUNT, DISCOUNT_TYPE_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.NEXTVAL, 'Discount', 'Off: 23.49. P.Disc: 15.6600. P.Full: 40.0000', '24.34', '0', 1, 'OFFERMAKER', SYSDATE);
14:43:09 170  INSERT INTO DISCOUNT_PRODUCT_OFFERING (DISCOUNT_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
14:43:09 171  BEGIN
14:43:09 172  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Mobile' AND ROWNUM <= 1;
14:43:09 173  EXCEPTION
14:43:09 174  	WHEN NO_DATA_FOUND THEN
14:43:09 175  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Mobile', 'OFFERMAKER', SYSDATE);
14:43:09 176  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Mobile' AND ROWNUM <= 1;
14:43:09 177  	WHEN OTHERS THEN
14:43:09 178  	  RAISE;
14:43:09 179  END;
14:43:09 180  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '112', '0', 'OFFERMAKER', SYSDATE);
14:43:09 181  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
14:43:09 182  BEGIN
14:43:09 183  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Archive Article' AND ROWNUM <= 1;
14:43:09 184  EXCEPTION
14:43:09 185  	WHEN NO_DATA_FOUND THEN
14:43:09 186  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Archive Article', 'OFFERMAKER', SYSDATE);
14:43:09 187  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Archive Article' AND ROWNUM <= 1;
14:43:09 188  	WHEN OTHERS THEN
14:43:09 189  	  RAISE;
14:43:09 190  END;
14:43:09 191  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '400', '0', 'OFFERMAKER', SYSDATE);
14:43:09 192  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
14:43:09 193  BEGIN
14:43:09 194  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'TimesMachine' AND ROWNUM <= 1;
14:43:09 195  EXCEPTION
14:43:09 196  	WHEN NO_DATA_FOUND THEN
14:43:09 197  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'TimesMachine', 'OFFERMAKER', SYSDATE);
14:43:09 198  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'TimesMachine' AND ROWNUM <= 1;
14:43:09 199  	WHEN OTHERS THEN
14:43:09 200  	  RAISE;
14:43:09 201  END;
14:43:09 202  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '112', '0', 'OFFERMAKER', SYSDATE);
14:43:09 203  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
14:43:09 204  BEGIN
14:43:09 205  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Smartphone' AND ROWNUM <= 1;
14:43:09 206  EXCEPTION
14:43:09 207  	WHEN NO_DATA_FOUND THEN
14:43:09 208  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Smartphone', 'OFFERMAKER', SYSDATE);
14:43:09 209  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Smartphone' AND ROWNUM <= 1;
14:43:09 210  	WHEN OTHERS THEN
14:43:09 211  	  RAISE;
14:43:09 212  END;
14:43:09 213  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '2', '112', '0.178571', 'OFFERMAKER', SYSDATE);
14:43:09 214  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
14:43:09 215  INSERT INTO DISCOUNT (ID, NAME, DESCRIPTION, FIXED_AMOUNT, PERCENT_AMOUNT, DISCOUNT_TYPE_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.NEXTVAL, 'Discount', 'Off: 23.49. P.Disc: 7.8300. P.Full: 20.0000', '12.17', '0', 1, 'OFFERMAKER', SYSDATE);
14:43:09 216  INSERT INTO DISCOUNT_PRODUCT_OFFERING (DISCOUNT_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
14:43:09 217  INSERT INTO OFFER_OFFER_CHAIN (OFFER_ID, OFFER_CHAIN_ID, INDEX_VALUE, NUM_RECURRENCES, CREATED_BY, CREATE_DATE, updated_by, update_date) VALUES (OFR_ID_SEQ.CURRVAL, 99915001, '0', '1', 'OFFERMAKER', SYSDATE, 'OFFERMAKER', SYSDATE);
14:43:09 218  END;
14:43:09 219  END;
14:43:09 220  /

PL/SQL procedure successfully completed.

Elapsed: 00:00:00.47
14:43:09 SQL> COMMIT;

Commit complete.

Elapsed: 00:00:00.00
14:43:09 SQL> DECLARE
14:43:09   2  TMP_VAR NUMBER;
14:43:09   3  CUR_PRD_ID NUMBER;
14:43:09   4  CUR_CAPABILITY_ID NUMBER;
14:43:09   5  BEGIN
14:43:09   6  BEGIN
14:43:09   7  	SELECT 1 INTO TMP_VAR FROM OFFER_CHAIN WHERE ID = 99915002 AND ROWNUM <= 1;
14:43:09   8  	UPDATE OFFER_CHAIN SET NAME='NYTimes: Web + Smartphone App', DESCRIPTION='Unlimited access to NYTimes.com and the NYTimes smartphone app.*', PRODUCT_URI='', VENDOR_SOURCE_ID='1', BILLING_SOURCE_ID=(SELECT ID FROM BILLING_SOURCE BS WHERE BS.NAME='Sartre'), IS_SEAT_LICENSE=0, GROUP_ACCOUNT_TYPE_ID='NO',IS_ADDRESS_REQUIRED=1, OFFER_CHAIN_STATUS_ID = 1, UPDATE_DATE = SYSDATE, UPDATED_BY = 'OFFERMAKER', IS_GIFT_CERTIFICATE='0', REVOKE_ENTITLEMENTS = '0', ADOPTABILITY_WINDOW_START_DATE = to_date('15-Jul-2013 00:00:00','DD-MON-YY HH24:MI:SS'), ADOPTABILITY_WINDOW_END_DATE = to_date('01-Feb-2099 00:00:00','DD-MON-YY HH24:MI:SS'), AMAZON_APPSTORE_SKU=NULL WHERE ID = 99915002;
14:43:09   9  EXCEPTION
14:43:09  10  	WHEN NO_DATA_FOUND THEN
14:43:09  11  	  INSERT INTO OFFER_CHAIN (ID, NAME, DESCRIPTION, ADOPTABILITY_WINDOW_START_DATE, ADOPTABILITY_WINDOW_END_DATE, IS_GIFT_CERTIFICATE, PRODUCT_URI, OFFER_CHAIN_STATUS_ID, REVOKE_ENTITLEMENTS, VENDOR_SOURCE_ID, BILLING_SOURCE_ID, IS_SEAT_LICENSE, GROUP_ACCOUNT_TYPE_ID, IS_ADDRESS_REQUIRED, AMAZON_APPSTORE_SKU, CREATED_BY, CREATE_DATE, updated_by, update_date) VALUES (99915002, 'NYTimes: Web + Smartphone App', 'Unlimited access to NYTimes.com and the NYTimes smartphone app.*', to_date('15-Jul-2013 00:00:00','DD-MON-YY HH24:MI:SS'), to_date('01-Feb-2099 00:00:00','DD-MON-YY HH24:MI:SS'), '0', NULL, '1', '0', '1', (SELECT ID FROM BILLING_SOURCE BS WHERE BS.NAME='Sartre'), decode('NO','IL',1,0), 'NO', '1', '', 'OFFERMAKER', SYSDATE, 'OFFERMAKER', SYSDATE);
14:43:09  12  END;
14:43:09  13  DELETE FROM OFFER_CHAIN_ELIGIBILITY WHERE offer_chain_id = 99915002;
14:43:09  14  INSERT INTO OFFER_CHAIN_ELIGIBILITY (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (ELG_ID_SEQ.NEXTVAL, 99915002, 'GIFT CERTIFICATE REQUIRED', '1', 'OFFERMAKER', SYSDATE);
14:43:09  15  INSERT INTO OFFER_CHAIN_ELIGIBILITY (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (ELG_ID_SEQ.NEXTVAL, 99915002, 'IS_COMP', '1', 'OFFERMAKER', SYSDATE);
14:43:09  16  INSERT INTO OFFER_CHAIN_ELIGIBILITY (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (ELG_ID_SEQ.NEXTVAL, 99915002, 'MAX_CONCURRENT_SUBS', '1', 'OFFERMAKER', SYSDATE);
14:43:09  17  DELETE FROM OFFER_CHAIN_META_DATA WHERE offer_chain_id = 99915002;
14:43:09  18  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915002, 'BUNDLE_EXPLANATION', 'Bundle A - 16 Week Gift Sub - Redeem OC', 'OFFERMAKER', SYSDATE);
14:43:09  19  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915002, 'PRICE_DESCRIPTION', '4 Month Gift Subscription - $23.49 for 16 weeks - redeem', 'OFFERMAKER', SYSDATE);
14:43:09  20  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915002, 'PRICE_SHORT_DESCRIPTION', 'BNDL A / $23.49 16 wks GC redemp', 'OFFERMAKER', SYSDATE);
14:43:09  21  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915002, 'OFFER_TYPE', 'Edu Digital Gift Subscription for 16 weeks', 'OFFERMAKER', SYSDATE);
14:43:09  22  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915002, 'PROMO_PRICE_FOOTER_LABEL', '16 Weeks', 'OFFERMAKER', SYSDATE);
14:43:09  23  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915002, 'BILLING_CYCLE', '16 week gift', 'OFFERMAKER', SYSDATE);
14:43:09  24  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915002, 'SUBSCRIBER_TYPE', 'Education', 'OFFERMAKER', SYSDATE);
14:43:09  25  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915002, 'OPEN_TO_ANONYMOUS', '1', 'OFFERMAKER', SYSDATE);
14:43:09  26  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915002, 'BUNDLE', 'Bundle A (Web+SP)', 'OFFERMAKER', SYSDATE);
14:43:09  27  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915002, 'ADX_BUNDLE', 'MM_EDU', 'OFFERMAKER', SYSDATE);
14:43:09  28  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915002, 'SIEBEL_CAMPAIGN_CODE', '3JKLR', 'OFFERMAKER', SYSDATE);
14:43:09  29  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915002, 'IS_COMP', '1', 'OFFERMAKER', SYSDATE);
14:43:09  30  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915002, 'ANNUAL_PRICE', '195.00', 'OFFERMAKER', SYSDATE);
14:43:09  31  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915002, 'UID', '14bc23cb23d31bad1cfcd88b485e5f1b82ad405b0b3d206c4409555ef1fde88d', 'OFFERMAKER', SYSDATE);
14:43:09  32  DELETE FROM OFFER_CHAIN_NOTIFICATION_TYPE WHERE offer_chain_id = 99915002;
14:43:09  33  BEGIN
14:43:09  34  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'SUBSCRIBE_TO_OFFER_CHAIN';
14:43:09  35  EXCEPTION
14:43:09  36  	WHEN NO_DATA_FOUND THEN
14:43:09  37  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'SUBSCRIBE_TO_OFFER_CHAIN', SYSDATE, 'OFFERMAKER');
14:43:09  38  END;
14:43:09  39  BEGIN
14:43:09  40  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-purchase';
14:43:09  41  EXCEPTION
14:43:09  42  	WHEN NO_DATA_FOUND THEN NULL;
14:43:09  43  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-purchase', 'N/A');
14:43:09  44  END;
14:43:09  45  BEGIN
14:43:09  46  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'UPGRADE_SUBSCRIPTION';
14:43:09  47  EXCEPTION
14:43:09  48  	WHEN NO_DATA_FOUND THEN
14:43:09  49  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'UPGRADE_SUBSCRIPTION', SYSDATE, 'OFFERMAKER');
14:43:09  50  END;
14:43:09  51  BEGIN
14:43:09  52  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-purchase';
14:43:09  53  EXCEPTION
14:43:09  54  	WHEN NO_DATA_FOUND THEN NULL;
14:43:09  55  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-purchase', 'N/A');
14:43:09  56  END;
14:43:09  57  BEGIN
14:43:09  58  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'CANCEL_SUBSCRIPTION';
14:43:09  59  EXCEPTION
14:43:09  60  	WHEN NO_DATA_FOUND THEN
14:43:09  61  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'CANCEL_SUBSCRIPTION', SYSDATE, 'OFFERMAKER');
14:43:09  62  END;
14:43:09  63  BEGIN
14:43:09  64  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-cancel';
14:43:09  65  EXCEPTION
14:43:09  66  	WHEN NO_DATA_FOUND THEN NULL;
14:43:09  67  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-cancel', 'N/A');
14:43:09  68  END;
14:43:09  69  BEGIN
14:43:09  70  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'SYSTEM_CANCEL';
14:43:09  71  EXCEPTION
14:43:09  72  	WHEN NO_DATA_FOUND THEN
14:43:09  73  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'SYSTEM_CANCEL', SYSDATE, 'OFFERMAKER');
14:43:09  74  END;
14:43:09  75  BEGIN
14:43:09  76  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-decline';
14:43:09  77  EXCEPTION
14:43:09  78  	WHEN NO_DATA_FOUND THEN NULL;
14:43:09  79  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-decline', 'N/A');
14:43:09  80  END;
14:43:09  81  BEGIN
14:43:09  82  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'CREDIT_CARD_EXP';
14:43:09  83  EXCEPTION
14:43:09  84  	WHEN NO_DATA_FOUND THEN
14:43:09  85  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'CREDIT_CARD_EXP', SYSDATE, 'OFFERMAKER');
14:43:09  86  END;
14:43:09  87  BEGIN
14:43:09  88  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'card_expiration';
14:43:09  89  EXCEPTION
14:43:09  90  	WHEN NO_DATA_FOUND THEN NULL;
14:43:09  91  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'card_expiration', 'N/A');
14:43:09  92  END;
14:43:09  93  BEGIN
14:43:09  94  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_REDEEM';
14:43:09  95  EXCEPTION
14:43:09  96  	WHEN NO_DATA_FOUND THEN
14:43:09  97  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'GC_REDEEMER_ON_REDEEM', SYSDATE, 'OFFERMAKER');
14:43:09  98  END;
14:43:09  99  BEGIN
14:43:09 100  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-sub-activation';
14:43:09 101  EXCEPTION
14:43:09 102  	WHEN NO_DATA_FOUND THEN NULL;
14:43:09 103  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-gift-sub-activation', 'N/A');
14:43:09 104  END;
14:43:09 105  BEGIN
14:43:09 106  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'CLOSE_SUBSCRIPTION';
14:43:09 107  EXCEPTION
14:43:09 108  	WHEN NO_DATA_FOUND THEN
14:43:09 109  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'CLOSE_SUBSCRIPTION', SYSDATE, 'OFFERMAKER');
14:43:09 110  END;
14:43:09 111  BEGIN
14:43:09 112  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-sub-expired-gift';
14:43:09 113  EXCEPTION
14:43:09 114  	WHEN NO_DATA_FOUND THEN NULL;
14:43:09 115  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-sub-expired-gift', 'N/A');
14:43:09 116  END;
14:43:09 117  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915002, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-purchase'), (SELECT ID FROM ACTION WHERE NAME = 'SUBSCRIBE_TO_OFFER_CHAIN'), 'OFFERMAKER', SYSDATE);
14:43:09 118  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915002, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-purchase'), (SELECT ID FROM ACTION WHERE NAME = 'UPGRADE_SUBSCRIPTION'), 'OFFERMAKER', SYSDATE);
14:43:09 119  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915002, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-cancel'), (SELECT ID FROM ACTION WHERE NAME = 'CANCEL_SUBSCRIPTION'), 'OFFERMAKER', SYSDATE);
14:43:09 120  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915002, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-decline'), (SELECT ID FROM ACTION WHERE NAME = 'SYSTEM_CANCEL'), 'OFFERMAKER', SYSDATE);
14:43:09 121  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915002, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'card_expiration'), (SELECT ID FROM ACTION WHERE NAME = 'CREDIT_CARD_EXP'), 'OFFERMAKER', SYSDATE);
14:43:09 122  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915002, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-sub-activation'), (SELECT ID FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_REDEEM'), 'OFFERMAKER', SYSDATE);
14:43:09 123  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915002, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-sub-expired-gift'), (SELECT ID FROM ACTION WHERE NAME = 'CLOSE_SUBSCRIPTION'), 'OFFERMAKER', SYSDATE);
14:43:09 124  BEGIN
14:43:09 125  	SELECT 1 INTO TMP_VAR FROM OFFER_OFFER_CHAIN WHERE OFFER_CHAIN_ID = 99915002 AND INDEX_VALUE = 0 AND ROWNUM <= 1;
14:43:09 126  EXCEPTION
14:43:09 127  	WHEN NO_DATA_FOUND THEN
14:43:09 128  INSERT INTO OFFER (ID, OFFER_STATUS_ID, ENTITLEMENT_DURATION, CREATED_BY, CREATE_DATE, updated_by, update_date) VALUES (OFR_ID_SEQ.NEXTVAL, 1, 'P0Y0M112DT0H0M', 'OFFERMAKER', SYSDATE, 'OFFERMAKER', SYSDATE);
14:43:09 129  BEGIN
14:43:09 130  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Web' AND ROWNUM <= 1;
14:43:09 131  EXCEPTION
14:43:09 132  	WHEN NO_DATA_FOUND THEN
14:43:09 133  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Web', 'OFFERMAKER', SYSDATE);
14:43:09 134  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Web' AND ROWNUM <= 1;
14:43:09 135  	WHEN OTHERS THEN
14:43:09 136  	  RAISE;
14:43:09 137  END;
14:43:09 138  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '112', '0.357143', 'OFFERMAKER', SYSDATE);
14:43:09 139  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
14:43:09 140  INSERT INTO DISCOUNT (ID, NAME, DESCRIPTION, FIXED_AMOUNT, PERCENT_AMOUNT, DISCOUNT_TYPE_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.NEXTVAL, 'Discount', 'Off: 0.0. P.Disc: 0.0000. P.Full: 40.0000', '40.00', '0', 1, 'OFFERMAKER', SYSDATE);
14:43:09 141  INSERT INTO DISCOUNT_PRODUCT_OFFERING (DISCOUNT_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
14:43:09 142  BEGIN
14:43:09 143  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Mobile' AND ROWNUM <= 1;
14:43:09 144  EXCEPTION
14:43:09 145  	WHEN NO_DATA_FOUND THEN
14:43:09 146  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Mobile', 'OFFERMAKER', SYSDATE);
14:43:09 147  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Mobile' AND ROWNUM <= 1;
14:43:09 148  	WHEN OTHERS THEN
14:43:09 149  	  RAISE;
14:43:09 150  END;
14:43:09 151  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '112', '0', 'OFFERMAKER', SYSDATE);
14:43:09 152  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
14:43:09 153  BEGIN
14:43:09 154  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Archive Article' AND ROWNUM <= 1;
14:43:09 155  EXCEPTION
14:43:09 156  	WHEN NO_DATA_FOUND THEN
14:43:09 157  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Archive Article', 'OFFERMAKER', SYSDATE);
14:43:09 158  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Archive Article' AND ROWNUM <= 1;
14:43:09 159  	WHEN OTHERS THEN
14:43:09 160  	  RAISE;
14:43:09 161  END;
14:43:09 162  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '400', '0', 'OFFERMAKER', SYSDATE);
14:43:09 163  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
14:43:09 164  BEGIN
14:43:09 165  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'TimesMachine' AND ROWNUM <= 1;
14:43:09 166  EXCEPTION
14:43:09 167  	WHEN NO_DATA_FOUND THEN
14:43:09 168  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'TimesMachine', 'OFFERMAKER', SYSDATE);
14:43:09 169  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'TimesMachine' AND ROWNUM <= 1;
14:43:09 170  	WHEN OTHERS THEN
14:43:09 171  	  RAISE;
14:43:09 172  END;
14:43:09 173  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '112', '0', 'OFFERMAKER', SYSDATE);
14:43:09 174  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
14:43:09 175  BEGIN
14:43:09 176  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Smartphone' AND ROWNUM <= 1;
14:43:09 177  EXCEPTION
14:43:09 178  	WHEN NO_DATA_FOUND THEN
14:43:09 179  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Smartphone', 'OFFERMAKER', SYSDATE);
14:43:09 180  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Smartphone' AND ROWNUM <= 1;
14:43:09 181  	WHEN OTHERS THEN
14:43:09 182  	  RAISE;
14:43:09 183  END;
14:43:09 184  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '112', '0.178571', 'OFFERMAKER', SYSDATE);
14:43:09 185  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
14:43:09 186  INSERT INTO DISCOUNT (ID, NAME, DESCRIPTION, FIXED_AMOUNT, PERCENT_AMOUNT, DISCOUNT_TYPE_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.NEXTVAL, 'Discount', 'Off: 0.0. P.Disc: 0.0000. P.Full: 20.0000', '20.00', '0', 1, 'OFFERMAKER', SYSDATE);
14:43:09 187  INSERT INTO DISCOUNT_PRODUCT_OFFERING (DISCOUNT_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
14:43:09 188  INSERT INTO OFFER_OFFER_CHAIN (OFFER_ID, OFFER_CHAIN_ID, INDEX_VALUE, NUM_RECURRENCES, CREATED_BY, CREATE_DATE, updated_by, update_date) VALUES (OFR_ID_SEQ.CURRVAL, 99915002, '0', '1', 'OFFERMAKER', SYSDATE, 'OFFERMAKER', SYSDATE);
14:43:09 189  END;
14:43:09 190  END;
14:43:09 191  /

PL/SQL procedure successfully completed.

Elapsed: 00:00:00.10
14:43:09 SQL> COMMIT;

Commit complete.

Elapsed: 00:00:00.00
14:43:09 SQL> DECLARE
14:43:09   2  TMP_VAR NUMBER;
14:43:09   3  CUR_PRD_ID NUMBER;
14:43:09   4  CUR_CAPABILITY_ID NUMBER;
14:43:09   5  BEGIN
14:43:09   6  BEGIN
14:43:09   7  	SELECT 1 INTO TMP_VAR FROM OFFER_CHAIN WHERE ID = 99915003 AND ROWNUM <= 1;
14:43:09   8  	UPDATE OFFER_CHAIN SET NAME='NYTimes: Web + Tablet App', DESCRIPTION='Unlimited access to NYTimes.com and the NYTimes tablet app.*', PRODUCT_URI='', VENDOR_SOURCE_ID='1', BILLING_SOURCE_ID=(SELECT ID FROM BILLING_SOURCE BS WHERE BS.NAME='Sartre'), IS_SEAT_LICENSE=0, GROUP_ACCOUNT_TYPE_ID='NO',IS_ADDRESS_REQUIRED=1, OFFER_CHAIN_STATUS_ID = 1, UPDATE_DATE = SYSDATE, UPDATED_BY = 'OFFERMAKER', IS_GIFT_CERTIFICATE='1', REVOKE_ENTITLEMENTS = '0', ADOPTABILITY_WINDOW_START_DATE = to_date('15-Jul-2013 00:00:00','DD-MON-YY HH24:MI:SS'), ADOPTABILITY_WINDOW_END_DATE = to_date('01-Feb-2099 00:00:00','DD-MON-YY HH24:MI:SS'), AMAZON_APPSTORE_SKU=NULL WHERE ID = 99915003;
14:43:09   9  EXCEPTION
14:43:09  10  	WHEN NO_DATA_FOUND THEN
14:43:09  11  	  INSERT INTO OFFER_CHAIN (ID, NAME, DESCRIPTION, ADOPTABILITY_WINDOW_START_DATE, ADOPTABILITY_WINDOW_END_DATE, IS_GIFT_CERTIFICATE, PRODUCT_URI, OFFER_CHAIN_STATUS_ID, REVOKE_ENTITLEMENTS, VENDOR_SOURCE_ID, BILLING_SOURCE_ID, IS_SEAT_LICENSE, GROUP_ACCOUNT_TYPE_ID, IS_ADDRESS_REQUIRED, AMAZON_APPSTORE_SKU, CREATED_BY, CREATE_DATE, updated_by, update_date) VALUES (99915003, 'NYTimes: Web + Tablet App', 'Unlimited access to NYTimes.com and the NYTimes tablet app.*', to_date('15-Jul-2013 00:00:00','DD-MON-YY HH24:MI:SS'), to_date('01-Feb-2099 00:00:00','DD-MON-YY HH24:MI:SS'), '1', NULL, '1', '0', '1', (SELECT ID FROM BILLING_SOURCE BS WHERE BS.NAME='Sartre'), decode('NO','IL',1,0), 'NO', '1', '', 'OFFERMAKER', SYSDATE, 'OFFERMAKER', SYSDATE);
14:43:09  12  END;
14:43:09  13  DELETE FROM OFFER_CHAIN_ELIGIBILITY WHERE offer_chain_id = 99915003;
14:43:09  14  INSERT INTO OFFER_CHAIN_ELIGIBILITY (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (ELG_ID_SEQ.NEXTVAL, 99915003, 'IS_COMP', '0', 'OFFERMAKER', SYSDATE);
14:43:09  15  INSERT INTO OFFER_CHAIN_ELIGIBILITY (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (ELG_ID_SEQ.NEXTVAL, 99915003, 'REDEEMER_PROHIBITED_ENTITLEMENTS', 'mm,mtd,mow,timesreader', 'OFFERMAKER', SYSDATE);
14:43:09  16  DELETE FROM OFFER_CHAIN_META_DATA WHERE offer_chain_id = 99915003;
14:43:09  17  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915003, 'BUNDLE_EXPLANATION', 'Bundle B - 16 Week Gift Sub - Purchase OC', 'OFFERMAKER', SYSDATE);
14:43:09  18  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915003, 'PRICE_DESCRIPTION', '4 Month Gift Subscription - $30.99 for 16 weeks - purchase', 'OFFERMAKER', SYSDATE);
14:43:09  19  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915003, 'PRICE_SHORT_DESCRIPTION', 'BNDL B / $30.99 16 wks GC purch', 'OFFERMAKER', SYSDATE);
14:43:09  20  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915003, 'OFFER_TYPE', 'Edu Digital Gift Subscription for 16 weeks', 'OFFERMAKER', SYSDATE);
14:43:09  21  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915003, 'OFFER_PRICE_DESCRIPTOR', '16 Weeks Gift Certificate', 'OFFERMAKER', SYSDATE);
14:43:09  22  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915003, 'OFFER_PRICE', '$30.99 for 16 weeks', 'OFFERMAKER', SYSDATE);
14:43:09  23  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915003, 'PROMO_PRICE_FOOTER_LABEL', '16 Weeks', 'OFFERMAKER', SYSDATE);
14:43:09  24  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915003, 'BILLING_CYCLE', 'You will be billed for a 16 week gift subscription in full.', 'OFFERMAKER', SYSDATE);
14:43:09  25  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915003, 'SUBSCRIBER_TYPE', 'Education', 'OFFERMAKER', SYSDATE);
14:43:09  26  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915003, 'ABOUT_ORDER', 'The full purchase price for gift subscriptions will be charged at the time of purchase and is non-refundable.  Redemption codes are not replaceable. Prices are in U.S. dollars and are subject to change. Other restrictions may apply.  Gift subscription period begins the day of redemption.  Redemption code expires five years after date of purchase.', 'OFFERMAKER', SYSDATE);
14:43:09  27  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915003, 'redemption offer chain id', '99915004', 'OFFERMAKER', SYSDATE);
14:43:09  28  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915003, 'OPEN_TO_ANONYMOUS', '1', 'OFFERMAKER', SYSDATE);
14:43:09  29  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915003, 'BUNDLE', 'Bundle B (Web+Tab)', 'OFFERMAKER', SYSDATE);
14:43:09  30  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915003, 'ADX_BUNDLE', 'MM_EDU', 'OFFERMAKER', SYSDATE);
14:43:09  31  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915003, 'SIEBEL_CAMPAIGN_CODE', '3JKLR', 'OFFERMAKER', SYSDATE);
14:43:09  32  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915003, 'SOCIAL_DISPLAY', 'nyt-bundle', 'OFFERMAKER', SYSDATE);
14:43:09  33  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915003, 'ANNUAL_PRICE', '260.00', 'OFFERMAKER', SYSDATE);
14:43:09  34  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915003, 'UID', '423a55b587bc0e6c9e57aafccca9aa9a2a0f3c71fee1a99ed0e7de16b27064da', 'OFFERMAKER', SYSDATE);
14:43:09  35  DELETE FROM OFFER_CHAIN_NOTIFICATION_TYPE WHERE offer_chain_id = 99915003;
14:43:09  36  BEGIN
14:43:09  37  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'SUBSCRIBE_TO_OFFER_CHAIN';
14:43:09  38  EXCEPTION
14:43:09  39  	WHEN NO_DATA_FOUND THEN
14:43:09  40  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'SUBSCRIBE_TO_OFFER_CHAIN', SYSDATE, 'OFFERMAKER');
14:43:09  41  END;
14:43:09  42  BEGIN
14:43:09  43  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-purchase';
14:43:09  44  EXCEPTION
14:43:09  45  	WHEN NO_DATA_FOUND THEN NULL;
14:43:09  46  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-gift-purchase', 'N/A');
14:43:09  47  END;
14:43:09  48  BEGIN
14:43:09  49  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'UPGRADE_SUBSCRIPTION';
14:43:09  50  EXCEPTION
14:43:09  51  	WHEN NO_DATA_FOUND THEN
14:43:09  52  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'UPGRADE_SUBSCRIPTION', SYSDATE, 'OFFERMAKER');
14:43:09  53  END;
14:43:09  54  BEGIN
14:43:09  55  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-purchase';
14:43:09  56  EXCEPTION
14:43:09  57  	WHEN NO_DATA_FOUND THEN NULL;
14:43:09  58  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-gift-purchase', 'N/A');
14:43:09  59  END;
14:43:09  60  BEGIN
14:43:09  61  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'CANCEL_SUBSCRIPTION';
14:43:09  62  EXCEPTION
14:43:09  63  	WHEN NO_DATA_FOUND THEN
14:43:09  64  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'CANCEL_SUBSCRIPTION', SYSDATE, 'OFFERMAKER');
14:43:09  65  END;
14:43:09  66  BEGIN
14:43:09  67  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-cancel';
14:43:09  68  EXCEPTION
14:43:09  69  	WHEN NO_DATA_FOUND THEN NULL;
14:43:09  70  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-cancel', 'N/A');
14:43:09  71  END;
14:43:09  72  BEGIN
14:43:09  73  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'SYSTEM_CANCEL';
14:43:09  74  EXCEPTION
14:43:09  75  	WHEN NO_DATA_FOUND THEN
14:43:09  76  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'SYSTEM_CANCEL', SYSDATE, 'OFFERMAKER');
14:43:09  77  END;
14:43:09  78  BEGIN
14:43:09  79  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-decline';
14:43:09  80  EXCEPTION
14:43:09  81  	WHEN NO_DATA_FOUND THEN NULL;
14:43:09  82  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-gift-decline', 'N/A');
14:43:09  83  END;
14:43:09  84  BEGIN
14:43:09  85  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'CREDIT_CARD_EXP';
14:43:09  86  EXCEPTION
14:43:09  87  	WHEN NO_DATA_FOUND THEN
14:43:09  88  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'CREDIT_CARD_EXP', SYSDATE, 'OFFERMAKER');
14:43:09  89  END;
14:43:09  90  BEGIN
14:43:09  91  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'card_expiration';
14:43:09  92  EXCEPTION
14:43:09  93  	WHEN NO_DATA_FOUND THEN NULL;
14:43:09  94  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'card_expiration', 'N/A');
14:43:09  95  END;
14:43:09  96  BEGIN
14:43:09  97  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_PURCHASE';
14:43:09  98  EXCEPTION
14:43:09  99  	WHEN NO_DATA_FOUND THEN
14:43:09 100  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'GC_REDEEMER_ON_PURCHASE', SYSDATE, 'OFFERMAKER');
14:43:09 101  END;
14:43:09 102  BEGIN
14:43:09 103  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-subscription';
14:43:09 104  EXCEPTION
14:43:09 105  	WHEN NO_DATA_FOUND THEN NULL;
14:43:09 106  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-gift-subscription', 'N/A');
14:43:09 107  END;
14:43:09 108  BEGIN
14:43:09 109  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_PURCHASE_30DAY';
14:43:09 110  EXCEPTION
14:43:09 111  	WHEN NO_DATA_FOUND THEN
14:43:09 112  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'GC_REDEEMER_ON_PURCHASE_30DAY', SYSDATE, 'OFFERMAKER');
14:43:09 113  END;
14:43:09 114  BEGIN
14:43:09 115  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-recipient-30days-reminder';
14:43:09 116  EXCEPTION
14:43:09 117  	WHEN NO_DATA_FOUND THEN NULL;
14:43:09 118  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-recipient-30days-reminder', 'N/A');
14:43:09 119  END;
14:43:09 120  BEGIN
14:43:09 121  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_PURCHASE_90DAY';
14:43:09 122  EXCEPTION
14:43:09 123  	WHEN NO_DATA_FOUND THEN
14:43:09 124  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'GC_REDEEMER_ON_PURCHASE_90DAY', SYSDATE, 'OFFERMAKER');
14:43:09 125  END;
14:43:09 126  BEGIN
14:43:09 127  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-recipient-90days-reminder';
14:43:09 128  EXCEPTION
14:43:09 129  	WHEN NO_DATA_FOUND THEN NULL;
14:43:09 130  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-recipient-90days-reminder', 'N/A');
14:43:09 131  END;
14:43:09 132  BEGIN
14:43:09 133  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'PURCHASE_GIFT_CERTIFICATE';
14:43:09 134  EXCEPTION
14:43:09 135  	WHEN NO_DATA_FOUND THEN
14:43:09 136  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'PURCHASE_GIFT_CERTIFICATE', SYSDATE, 'OFFERMAKER');
14:43:09 137  END;
14:43:09 138  BEGIN
14:43:09 139  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-purchase';
14:43:09 140  EXCEPTION
14:43:09 141  	WHEN NO_DATA_FOUND THEN NULL;
14:43:09 142  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-gift-purchase', 'N/A');
14:43:09 143  END;
14:43:09 144  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915003, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-purchase'), (SELECT ID FROM ACTION WHERE NAME = 'SUBSCRIBE_TO_OFFER_CHAIN'), 'OFFERMAKER', SYSDATE);
14:43:09 145  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915003, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-purchase'), (SELECT ID FROM ACTION WHERE NAME = 'UPGRADE_SUBSCRIPTION'), 'OFFERMAKER', SYSDATE);
14:43:09 146  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915003, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-cancel'), (SELECT ID FROM ACTION WHERE NAME = 'CANCEL_SUBSCRIPTION'), 'OFFERMAKER', SYSDATE);
14:43:09 147  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915003, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-decline'), (SELECT ID FROM ACTION WHERE NAME = 'SYSTEM_CANCEL'), 'OFFERMAKER', SYSDATE);
14:43:09 148  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915003, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'card_expiration'), (SELECT ID FROM ACTION WHERE NAME = 'CREDIT_CARD_EXP'), 'OFFERMAKER', SYSDATE);
14:43:09 149  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915003, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-subscription'), (SELECT ID FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_PURCHASE'), 'OFFERMAKER', SYSDATE);
14:43:09 150  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915003, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-recipient-30days-reminder'), (SELECT ID FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_PURCHASE_30DAY'), 'OFFERMAKER', SYSDATE);
14:43:09 151  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915003, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-recipient-90days-reminder'), (SELECT ID FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_PURCHASE_90DAY'), 'OFFERMAKER', SYSDATE);
14:43:09 152  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915003, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-purchase'), (SELECT ID FROM ACTION WHERE NAME = 'PURCHASE_GIFT_CERTIFICATE'), 'OFFERMAKER', SYSDATE);
14:43:09 153  BEGIN
14:43:09 154  	SELECT 1 INTO TMP_VAR FROM OFFER_OFFER_CHAIN WHERE OFFER_CHAIN_ID = 99915003 AND INDEX_VALUE = 0 AND ROWNUM <= 1;
14:43:09 155  EXCEPTION
14:43:09 156  	WHEN NO_DATA_FOUND THEN
14:43:09 157  INSERT INTO OFFER (ID, OFFER_STATUS_ID, ENTITLEMENT_DURATION, CREATED_BY, CREATE_DATE, updated_by, update_date) VALUES (OFR_ID_SEQ.NEXTVAL, 1, 'P0Y0M112DT0H0M', 'OFFERMAKER', SYSDATE, 'OFFERMAKER', SYSDATE);
14:43:09 158  BEGIN
14:43:09 159  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Web' AND ROWNUM <= 1;
14:43:09 160  EXCEPTION
14:43:09 161  	WHEN NO_DATA_FOUND THEN
14:43:09 162  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Web', 'OFFERMAKER', SYSDATE);
14:43:09 163  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Web' AND ROWNUM <= 1;
14:43:09 164  	WHEN OTHERS THEN
14:43:09 165  	  RAISE;
14:43:09 166  END;
14:43:09 167  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '2', '112', '0.357143', 'OFFERMAKER', SYSDATE);
14:43:09 168  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
14:43:09 169  INSERT INTO DISCOUNT (ID, NAME, DESCRIPTION, FIXED_AMOUNT, PERCENT_AMOUNT, DISCOUNT_TYPE_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.NEXTVAL, 'Discount', 'Off: 30.99. P.Disc: 15.4900. P.Full: 40.0000', '24.5100', '0', 1, 'OFFERMAKER', SYSDATE);
14:43:09 170  INSERT INTO DISCOUNT_PRODUCT_OFFERING (DISCOUNT_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
14:43:09 171  BEGIN
14:43:09 172  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Mobile' AND ROWNUM <= 1;
14:43:09 173  EXCEPTION
14:43:09 174  	WHEN NO_DATA_FOUND THEN
14:43:09 175  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Mobile', 'OFFERMAKER', SYSDATE);
14:43:09 176  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Mobile' AND ROWNUM <= 1;
14:43:09 177  	WHEN OTHERS THEN
14:43:09 178  	  RAISE;
14:43:09 179  END;
14:43:09 180  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '112', '0', 'OFFERMAKER', SYSDATE);
14:43:09 181  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
14:43:09 182  BEGIN
14:43:09 183  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Archive Article' AND ROWNUM <= 1;
14:43:09 184  EXCEPTION
14:43:09 185  	WHEN NO_DATA_FOUND THEN
14:43:09 186  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Archive Article', 'OFFERMAKER', SYSDATE);
14:43:09 187  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Archive Article' AND ROWNUM <= 1;
14:43:09 188  	WHEN OTHERS THEN
14:43:09 189  	  RAISE;
14:43:09 190  END;
14:43:09 191  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '400', '0', 'OFFERMAKER', SYSDATE);
14:43:09 192  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
14:43:09 193  BEGIN
14:43:09 194  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'TimesMachine' AND ROWNUM <= 1;
14:43:09 195  EXCEPTION
14:43:09 196  	WHEN NO_DATA_FOUND THEN
14:43:09 197  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'TimesMachine', 'OFFERMAKER', SYSDATE);
14:43:09 198  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'TimesMachine' AND ROWNUM <= 1;
14:43:09 199  	WHEN OTHERS THEN
14:43:09 200  	  RAISE;
14:43:09 201  END;
14:43:09 202  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '112', '0', 'OFFERMAKER', SYSDATE);
14:43:09 203  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
14:43:09 204  BEGIN
14:43:09 205  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Tablet' AND ROWNUM <= 1;
14:43:09 206  EXCEPTION
14:43:09 207  	WHEN NO_DATA_FOUND THEN
14:43:09 208  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Tablet', 'OFFERMAKER', SYSDATE);
14:43:09 209  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Tablet' AND ROWNUM <= 1;
14:43:09 210  	WHEN OTHERS THEN
14:43:09 211  	  RAISE;
14:43:09 212  END;
14:43:09 213  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '2', '112', '0.357143', 'OFFERMAKER', SYSDATE);
14:43:09 214  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
14:43:09 215  INSERT INTO DISCOUNT (ID, NAME, DESCRIPTION, FIXED_AMOUNT, PERCENT_AMOUNT, DISCOUNT_TYPE_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.NEXTVAL, 'Discount', 'Off: 30.99. P.Disc: 15.5000. P.Full: 40.0000', '24.50', '0', 1, 'OFFERMAKER', SYSDATE);
14:43:09 216  INSERT INTO DISCOUNT_PRODUCT_OFFERING (DISCOUNT_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
14:43:09 217  BEGIN
14:43:09 218  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'TimesReader' AND ROWNUM <= 1;
14:43:09 219  EXCEPTION
14:43:09 220  	WHEN NO_DATA_FOUND THEN
14:43:09 221  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'TimesReader', 'OFFERMAKER', SYSDATE);
14:43:09 222  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'TimesReader' AND ROWNUM <= 1;
14:43:09 223  	WHEN OTHERS THEN
14:43:09 224  	  RAISE;
14:43:09 225  END;
14:43:09 226  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '112', '0', 'OFFERMAKER', SYSDATE);
14:43:09 227  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
14:43:09 228  INSERT INTO OFFER_OFFER_CHAIN (OFFER_ID, OFFER_CHAIN_ID, INDEX_VALUE, NUM_RECURRENCES, CREATED_BY, CREATE_DATE, updated_by, update_date) VALUES (OFR_ID_SEQ.CURRVAL, 99915003, '0', '1', 'OFFERMAKER', SYSDATE, 'OFFERMAKER', SYSDATE);
14:43:09 229  END;
14:43:09 230  END;
14:43:09 231  /

PL/SQL procedure successfully completed.

Elapsed: 00:00:00.10
14:43:09 SQL> COMMIT;

Commit complete.

Elapsed: 00:00:00.00
14:43:09 SQL> DECLARE
14:43:09   2  TMP_VAR NUMBER;
14:43:09   3  CUR_PRD_ID NUMBER;
14:43:09   4  CUR_CAPABILITY_ID NUMBER;
14:43:09   5  BEGIN
14:43:09   6  BEGIN
14:43:09   7  	SELECT 1 INTO TMP_VAR FROM OFFER_CHAIN WHERE ID = 99915004 AND ROWNUM <= 1;
14:43:09   8  	UPDATE OFFER_CHAIN SET NAME='NYTimes: Web + Tablet App', DESCRIPTION='Unlimited access to NYTimes.com and the NYTimes tablet app.*', PRODUCT_URI='', VENDOR_SOURCE_ID='1', BILLING_SOURCE_ID=(SELECT ID FROM BILLING_SOURCE BS WHERE BS.NAME='Sartre'), IS_SEAT_LICENSE=0, GROUP_ACCOUNT_TYPE_ID='NO',IS_ADDRESS_REQUIRED=1, OFFER_CHAIN_STATUS_ID = 1, UPDATE_DATE = SYSDATE, UPDATED_BY = 'OFFERMAKER', IS_GIFT_CERTIFICATE='0', REVOKE_ENTITLEMENTS = '0', ADOPTABILITY_WINDOW_START_DATE = to_date('15-Jul-2013 00:00:00','DD-MON-YY HH24:MI:SS'), ADOPTABILITY_WINDOW_END_DATE = to_date('01-Feb-2099 00:00:00','DD-MON-YY HH24:MI:SS'), AMAZON_APPSTORE_SKU=NULL WHERE ID = 99915004;
14:43:09   9  EXCEPTION
14:43:09  10  	WHEN NO_DATA_FOUND THEN
14:43:09  11  	  INSERT INTO OFFER_CHAIN (ID, NAME, DESCRIPTION, ADOPTABILITY_WINDOW_START_DATE, ADOPTABILITY_WINDOW_END_DATE, IS_GIFT_CERTIFICATE, PRODUCT_URI, OFFER_CHAIN_STATUS_ID, REVOKE_ENTITLEMENTS, VENDOR_SOURCE_ID, BILLING_SOURCE_ID, IS_SEAT_LICENSE, GROUP_ACCOUNT_TYPE_ID, IS_ADDRESS_REQUIRED, AMAZON_APPSTORE_SKU, CREATED_BY, CREATE_DATE, updated_by, update_date) VALUES (99915004, 'NYTimes: Web + Tablet App', 'Unlimited access to NYTimes.com and the NYTimes tablet app.*', to_date('15-Jul-2013 00:00:00','DD-MON-YY HH24:MI:SS'), to_date('01-Feb-2099 00:00:00','DD-MON-YY HH24:MI:SS'), '0', NULL, '1', '0', '1', (SELECT ID FROM BILLING_SOURCE BS WHERE BS.NAME='Sartre'), decode('NO','IL',1,0), 'NO', '1', '', 'OFFERMAKER', SYSDATE, 'OFFERMAKER', SYSDATE);
14:43:09  12  END;
14:43:09  13  DELETE FROM OFFER_CHAIN_ELIGIBILITY WHERE offer_chain_id = 99915004;
14:43:09  14  INSERT INTO OFFER_CHAIN_ELIGIBILITY (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (ELG_ID_SEQ.NEXTVAL, 99915004, 'GIFT CERTIFICATE REQUIRED', '1', 'OFFERMAKER', SYSDATE);
14:43:09  15  INSERT INTO OFFER_CHAIN_ELIGIBILITY (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (ELG_ID_SEQ.NEXTVAL, 99915004, 'IS_COMP', '1', 'OFFERMAKER', SYSDATE);
14:43:09  16  INSERT INTO OFFER_CHAIN_ELIGIBILITY (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (ELG_ID_SEQ.NEXTVAL, 99915004, 'MAX_CONCURRENT_SUBS', '1', 'OFFERMAKER', SYSDATE);
14:43:09  17  DELETE FROM OFFER_CHAIN_META_DATA WHERE offer_chain_id = 99915004;
14:43:09  18  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915004, 'BUNDLE_EXPLANATION', 'Bundle B - 16 Week Gift Sub - Redeem OC', 'OFFERMAKER', SYSDATE);
14:43:09  19  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915004, 'PRICE_DESCRIPTION', '4 Month Gift Subscription - $30.99 for 16 weeks - redeem', 'OFFERMAKER', SYSDATE);
14:43:09  20  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915004, 'PRICE_SHORT_DESCRIPTION', 'BNDL B / $30.99 16 wks GC redemp', 'OFFERMAKER', SYSDATE);
14:43:09  21  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915004, 'OFFER_TYPE', 'Edu Digital Gift Subscription for 16 weeks', 'OFFERMAKER', SYSDATE);
14:43:09  22  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915004, 'PROMO_PRICE_FOOTER_LABEL', '16 Weeks', 'OFFERMAKER', SYSDATE);
14:43:09  23  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915004, 'BILLING_CYCLE', '16 week gift', 'OFFERMAKER', SYSDATE);
14:43:09  24  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915004, 'SUBSCRIBER_TYPE', 'Education', 'OFFERMAKER', SYSDATE);
14:43:09  25  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915004, 'OPEN_TO_ANONYMOUS', '1', 'OFFERMAKER', SYSDATE);
14:43:09  26  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915004, 'BUNDLE', 'Bundle B (Web+Tab)', 'OFFERMAKER', SYSDATE);
14:43:09  27  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915004, 'ADX_BUNDLE', 'MM_EDU', 'OFFERMAKER', SYSDATE);
14:43:09  28  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915004, 'SIEBEL_CAMPAIGN_CODE', '3JKLR', 'OFFERMAKER', SYSDATE);
14:43:09  29  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915004, 'IS_COMP', '1', 'OFFERMAKER', SYSDATE);
14:43:09  30  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915004, 'ANNUAL_PRICE', '260.00', 'OFFERMAKER', SYSDATE);
14:43:09  31  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915004, 'UID', '73c6a1bc01effc92c053dfe224034f0202aa30f16f2935f39f836a0af58cd37c', 'OFFERMAKER', SYSDATE);
14:43:09  32  DELETE FROM OFFER_CHAIN_NOTIFICATION_TYPE WHERE offer_chain_id = 99915004;
14:43:09  33  BEGIN
14:43:09  34  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'SUBSCRIBE_TO_OFFER_CHAIN';
14:43:09  35  EXCEPTION
14:43:09  36  	WHEN NO_DATA_FOUND THEN
14:43:09  37  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'SUBSCRIBE_TO_OFFER_CHAIN', SYSDATE, 'OFFERMAKER');
14:43:09  38  END;
14:43:09  39  BEGIN
14:43:09  40  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-purchase';
14:43:09  41  EXCEPTION
14:43:09  42  	WHEN NO_DATA_FOUND THEN NULL;
14:43:09  43  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-purchase', 'N/A');
14:43:09  44  END;
14:43:09  45  BEGIN
14:43:09  46  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'UPGRADE_SUBSCRIPTION';
14:43:09  47  EXCEPTION
14:43:09  48  	WHEN NO_DATA_FOUND THEN
14:43:09  49  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'UPGRADE_SUBSCRIPTION', SYSDATE, 'OFFERMAKER');
14:43:09  50  END;
14:43:09  51  BEGIN
14:43:09  52  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-purchase';
14:43:09  53  EXCEPTION
14:43:09  54  	WHEN NO_DATA_FOUND THEN NULL;
14:43:09  55  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-purchase', 'N/A');
14:43:09  56  END;
14:43:09  57  BEGIN
14:43:09  58  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'CANCEL_SUBSCRIPTION';
14:43:09  59  EXCEPTION
14:43:09  60  	WHEN NO_DATA_FOUND THEN
14:43:09  61  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'CANCEL_SUBSCRIPTION', SYSDATE, 'OFFERMAKER');
14:43:09  62  END;
14:43:09  63  BEGIN
14:43:09  64  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-cancel';
14:43:09  65  EXCEPTION
14:43:09  66  	WHEN NO_DATA_FOUND THEN NULL;
14:43:09  67  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-cancel', 'N/A');
14:43:09  68  END;
14:43:09  69  BEGIN
14:43:09  70  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'SYSTEM_CANCEL';
14:43:09  71  EXCEPTION
14:43:09  72  	WHEN NO_DATA_FOUND THEN
14:43:09  73  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'SYSTEM_CANCEL', SYSDATE, 'OFFERMAKER');
14:43:09  74  END;
14:43:09  75  BEGIN
14:43:09  76  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-decline';
14:43:09  77  EXCEPTION
14:43:09  78  	WHEN NO_DATA_FOUND THEN NULL;
14:43:09  79  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-decline', 'N/A');
14:43:09  80  END;
14:43:09  81  BEGIN
14:43:09  82  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'CREDIT_CARD_EXP';
14:43:09  83  EXCEPTION
14:43:09  84  	WHEN NO_DATA_FOUND THEN
14:43:09  85  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'CREDIT_CARD_EXP', SYSDATE, 'OFFERMAKER');
14:43:09  86  END;
14:43:09  87  BEGIN
14:43:09  88  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'card_expiration';
14:43:09  89  EXCEPTION
14:43:09  90  	WHEN NO_DATA_FOUND THEN NULL;
14:43:09  91  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'card_expiration', 'N/A');
14:43:09  92  END;
14:43:09  93  BEGIN
14:43:09  94  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_REDEEM';
14:43:09  95  EXCEPTION
14:43:09  96  	WHEN NO_DATA_FOUND THEN
14:43:09  97  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'GC_REDEEMER_ON_REDEEM', SYSDATE, 'OFFERMAKER');
14:43:09  98  END;
14:43:09  99  BEGIN
14:43:09 100  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-sub-activation';
14:43:09 101  EXCEPTION
14:43:09 102  	WHEN NO_DATA_FOUND THEN NULL;
14:43:09 103  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-gift-sub-activation', 'N/A');
14:43:09 104  END;
14:43:09 105  BEGIN
14:43:09 106  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'CLOSE_SUBSCRIPTION';
14:43:09 107  EXCEPTION
14:43:09 108  	WHEN NO_DATA_FOUND THEN
14:43:09 109  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'CLOSE_SUBSCRIPTION', SYSDATE, 'OFFERMAKER');
14:43:09 110  END;
14:43:09 111  BEGIN
14:43:09 112  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-sub-expired-gift';
14:43:09 113  EXCEPTION
14:43:09 114  	WHEN NO_DATA_FOUND THEN NULL;
14:43:09 115  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-sub-expired-gift', 'N/A');
14:43:09 116  END;
14:43:09 117  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915004, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-purchase'), (SELECT ID FROM ACTION WHERE NAME = 'SUBSCRIBE_TO_OFFER_CHAIN'), 'OFFERMAKER', SYSDATE);
14:43:09 118  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915004, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-purchase'), (SELECT ID FROM ACTION WHERE NAME = 'UPGRADE_SUBSCRIPTION'), 'OFFERMAKER', SYSDATE);
14:43:09 119  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915004, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-cancel'), (SELECT ID FROM ACTION WHERE NAME = 'CANCEL_SUBSCRIPTION'), 'OFFERMAKER', SYSDATE);
14:43:09 120  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915004, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-decline'), (SELECT ID FROM ACTION WHERE NAME = 'SYSTEM_CANCEL'), 'OFFERMAKER', SYSDATE);
14:43:09 121  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915004, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'card_expiration'), (SELECT ID FROM ACTION WHERE NAME = 'CREDIT_CARD_EXP'), 'OFFERMAKER', SYSDATE);
14:43:09 122  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915004, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-sub-activation'), (SELECT ID FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_REDEEM'), 'OFFERMAKER', SYSDATE);
14:43:09 123  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915004, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-sub-expired-gift'), (SELECT ID FROM ACTION WHERE NAME = 'CLOSE_SUBSCRIPTION'), 'OFFERMAKER', SYSDATE);
14:43:09 124  BEGIN
14:43:09 125  	SELECT 1 INTO TMP_VAR FROM OFFER_OFFER_CHAIN WHERE OFFER_CHAIN_ID = 99915004 AND INDEX_VALUE = 0 AND ROWNUM <= 1;
14:43:09 126  EXCEPTION
14:43:09 127  	WHEN NO_DATA_FOUND THEN
14:43:09 128  INSERT INTO OFFER (ID, OFFER_STATUS_ID, ENTITLEMENT_DURATION, CREATED_BY, CREATE_DATE, updated_by, update_date) VALUES (OFR_ID_SEQ.NEXTVAL, 1, 'P0Y0M112DT0H0M', 'OFFERMAKER', SYSDATE, 'OFFERMAKER', SYSDATE);
14:43:09 129  BEGIN
14:43:09 130  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Web' AND ROWNUM <= 1;
14:43:09 131  EXCEPTION
14:43:09 132  	WHEN NO_DATA_FOUND THEN
14:43:09 133  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Web', 'OFFERMAKER', SYSDATE);
14:43:09 134  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Web' AND ROWNUM <= 1;
14:43:09 135  	WHEN OTHERS THEN
14:43:09 136  	  RAISE;
14:43:09 137  END;
14:43:09 138  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '112', '0.357143', 'OFFERMAKER', SYSDATE);
14:43:09 139  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
14:43:09 140  INSERT INTO DISCOUNT (ID, NAME, DESCRIPTION, FIXED_AMOUNT, PERCENT_AMOUNT, DISCOUNT_TYPE_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.NEXTVAL, 'Discount', 'Off: 0.0. P.Disc: 0.0000. P.Full: 40.0000', '40.00', '0', 1, 'OFFERMAKER', SYSDATE);
14:43:09 141  INSERT INTO DISCOUNT_PRODUCT_OFFERING (DISCOUNT_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
14:43:09 142  BEGIN
14:43:09 143  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Mobile' AND ROWNUM <= 1;
14:43:09 144  EXCEPTION
14:43:09 145  	WHEN NO_DATA_FOUND THEN
14:43:09 146  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Mobile', 'OFFERMAKER', SYSDATE);
14:43:09 147  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Mobile' AND ROWNUM <= 1;
14:43:09 148  	WHEN OTHERS THEN
14:43:09 149  	  RAISE;
14:43:09 150  END;
14:43:09 151  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '112', '0', 'OFFERMAKER', SYSDATE);
14:43:09 152  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
14:43:09 153  BEGIN
14:43:09 154  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Archive Article' AND ROWNUM <= 1;
14:43:09 155  EXCEPTION
14:43:09 156  	WHEN NO_DATA_FOUND THEN
14:43:09 157  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Archive Article', 'OFFERMAKER', SYSDATE);
14:43:09 158  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Archive Article' AND ROWNUM <= 1;
14:43:09 159  	WHEN OTHERS THEN
14:43:09 160  	  RAISE;
14:43:09 161  END;
14:43:09 162  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '400', '0', 'OFFERMAKER', SYSDATE);
14:43:09 163  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
14:43:09 164  BEGIN
14:43:09 165  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'TimesMachine' AND ROWNUM <= 1;
14:43:09 166  EXCEPTION
14:43:09 167  	WHEN NO_DATA_FOUND THEN
14:43:09 168  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'TimesMachine', 'OFFERMAKER', SYSDATE);
14:43:09 169  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'TimesMachine' AND ROWNUM <= 1;
14:43:09 170  	WHEN OTHERS THEN
14:43:09 171  	  RAISE;
14:43:09 172  END;
14:43:09 173  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '112', '0', 'OFFERMAKER', SYSDATE);
14:43:09 174  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
14:43:09 175  BEGIN
14:43:09 176  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Tablet' AND ROWNUM <= 1;
14:43:09 177  EXCEPTION
14:43:09 178  	WHEN NO_DATA_FOUND THEN
14:43:09 179  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Tablet', 'OFFERMAKER', SYSDATE);
14:43:09 180  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Tablet' AND ROWNUM <= 1;
14:43:09 181  	WHEN OTHERS THEN
14:43:09 182  	  RAISE;
14:43:09 183  END;
14:43:09 184  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '112', '0.357143', 'OFFERMAKER', SYSDATE);
14:43:09 185  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
14:43:09 186  INSERT INTO DISCOUNT (ID, NAME, DESCRIPTION, FIXED_AMOUNT, PERCENT_AMOUNT, DISCOUNT_TYPE_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.NEXTVAL, 'Discount', 'Off: 0.0. P.Disc: 0.0000. P.Full: 40.0000', '40.00', '0', 1, 'OFFERMAKER', SYSDATE);
14:43:09 187  INSERT INTO DISCOUNT_PRODUCT_OFFERING (DISCOUNT_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
14:43:09 188  BEGIN
14:43:09 189  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'TimesReader' AND ROWNUM <= 1;
14:43:09 190  EXCEPTION
14:43:09 191  	WHEN NO_DATA_FOUND THEN
14:43:09 192  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'TimesReader', 'OFFERMAKER', SYSDATE);
14:43:09 193  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'TimesReader' AND ROWNUM <= 1;
14:43:09 194  	WHEN OTHERS THEN
14:43:09 195  	  RAISE;
14:43:09 196  END;
14:43:09 197  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '112', '0', 'OFFERMAKER', SYSDATE);
14:43:09 198  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
14:43:09 199  INSERT INTO OFFER_OFFER_CHAIN (OFFER_ID, OFFER_CHAIN_ID, INDEX_VALUE, NUM_RECURRENCES, CREATED_BY, CREATE_DATE, updated_by, update_date) VALUES (OFR_ID_SEQ.CURRVAL, 99915004, '0', '1', 'OFFERMAKER', SYSDATE, 'OFFERMAKER', SYSDATE);
14:43:09 200  END;
14:43:09 201  END;
14:43:09 202  /

PL/SQL procedure successfully completed.

Elapsed: 00:00:00.07
14:43:09 SQL> COMMIT;

Commit complete.

Elapsed: 00:00:00.00
14:43:09 SQL> DECLARE
14:43:09   2  TMP_VAR NUMBER;
14:43:09   3  CUR_PRD_ID NUMBER;
14:43:09   4  CUR_CAPABILITY_ID NUMBER;
14:43:09   5  BEGIN
14:43:09   6  BEGIN
14:43:09   7  	SELECT 1 INTO TMP_VAR FROM OFFER_CHAIN WHERE ID = 99915005 AND ROWNUM <= 1;
14:43:09   8  	UPDATE OFFER_CHAIN SET NAME='All Digital Access', DESCRIPTION='Unlimited access to NYTimes.com, and the NYTimes smartphone and tablet apps.*', PRODUCT_URI='', VENDOR_SOURCE_ID='1', BILLING_SOURCE_ID=(SELECT ID FROM BILLING_SOURCE BS WHERE BS.NAME='Sartre'), IS_SEAT_LICENSE=0, GROUP_ACCOUNT_TYPE_ID='NO',IS_ADDRESS_REQUIRED=1, OFFER_CHAIN_STATUS_ID = 1, UPDATE_DATE = SYSDATE, UPDATED_BY = 'OFFERMAKER', IS_GIFT_CERTIFICATE='1', REVOKE_ENTITLEMENTS = '0', ADOPTABILITY_WINDOW_START_DATE = to_date('15-Jul-2013 00:00:00','DD-MON-YY HH24:MI:SS'), ADOPTABILITY_WINDOW_END_DATE = to_date('01-Feb-2099 00:00:00','DD-MON-YY HH24:MI:SS'), AMAZON_APPSTORE_SKU=NULL WHERE ID = 99915005;
14:43:09   9  EXCEPTION
14:43:09  10  	WHEN NO_DATA_FOUND THEN
14:43:09  11  	  INSERT INTO OFFER_CHAIN (ID, NAME, DESCRIPTION, ADOPTABILITY_WINDOW_START_DATE, ADOPTABILITY_WINDOW_END_DATE, IS_GIFT_CERTIFICATE, PRODUCT_URI, OFFER_CHAIN_STATUS_ID, REVOKE_ENTITLEMENTS, VENDOR_SOURCE_ID, BILLING_SOURCE_ID, IS_SEAT_LICENSE, GROUP_ACCOUNT_TYPE_ID, IS_ADDRESS_REQUIRED, AMAZON_APPSTORE_SKU, CREATED_BY, CREATE_DATE, updated_by, update_date) VALUES (99915005, 'All Digital Access', 'Unlimited access to NYTimes.com, and the NYTimes smartphone and tablet apps.*', to_date('15-Jul-2013 00:00:00','DD-MON-YY HH24:MI:SS'), to_date('01-Feb-2099 00:00:00','DD-MON-YY HH24:MI:SS'), '1', NULL, '1', '0', '1', (SELECT ID FROM BILLING_SOURCE BS WHERE BS.NAME='Sartre'), decode('NO','IL',1,0), 'NO', '1', '', 'OFFERMAKER', SYSDATE, 'OFFERMAKER', SYSDATE);
14:43:09  12  END;
14:43:09  13  DELETE FROM OFFER_CHAIN_ELIGIBILITY WHERE offer_chain_id = 99915005;
14:43:09  14  INSERT INTO OFFER_CHAIN_ELIGIBILITY (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (ELG_ID_SEQ.NEXTVAL, 99915005, 'IS_COMP', '0', 'OFFERMAKER', SYSDATE);
14:43:09  15  INSERT INTO OFFER_CHAIN_ELIGIBILITY (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (ELG_ID_SEQ.NEXTVAL, 99915005, 'REDEEMER_PROHIBITED_ENTITLEMENTS', 'mm,msd,mtd,mow,timesreader', 'OFFERMAKER', SYSDATE);
14:43:09  16  DELETE FROM OFFER_CHAIN_META_DATA WHERE offer_chain_id = 99915005;
14:43:09  17  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915005, 'BUNDLE_EXPLANATION', 'Bundle D - 16 Week Gift Sub - Purchase OC', 'OFFERMAKER', SYSDATE);
14:43:09  18  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915005, 'PRICE_DESCRIPTION', '4 Month Gift Subscription - $53.49 for 16 weeks - purchase', 'OFFERMAKER', SYSDATE);
14:43:09  19  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915005, 'PRICE_SHORT_DESCRIPTION', 'BNDL D / $53.49 16 wks GC purch', 'OFFERMAKER', SYSDATE);
14:43:09  20  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915005, 'OFFER_TYPE', 'Edu Digital Gift Subscription for 16 weeks', 'OFFERMAKER', SYSDATE);
14:43:09  21  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915005, 'OFFER_PRICE_DESCRIPTOR', '16 Weeks Gift Certificate', 'OFFERMAKER', SYSDATE);
14:43:09  22  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915005, 'OFFER_PRICE', '$53.49 for 16 weeks', 'OFFERMAKER', SYSDATE);
14:43:09  23  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915005, 'PROMO_PRICE_FOOTER_LABEL', '16 Weeks', 'OFFERMAKER', SYSDATE);
14:43:09  24  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915005, 'BILLING_CYCLE', 'You will be billed for a 16 week gift subscription in full.', 'OFFERMAKER', SYSDATE);
14:43:09  25  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915005, 'SUBSCRIBER_TYPE', 'Education', 'OFFERMAKER', SYSDATE);
14:43:09  26  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915005, 'ABOUT_ORDER', 'The full purchase price for gift subscriptions will be charged at the time of purchase and is non-refundable.  Redemption codes are not replaceable. Prices are in U.S. dollars and are subject to change. Other restrictions may apply.  Gift subscription period begins the day of redemption.  Redemption code expires five years after date of purchase.', 'OFFERMAKER', SYSDATE);
14:43:09  27  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915005, 'redemption offer chain id', '99915006', 'OFFERMAKER', SYSDATE);
14:43:09  28  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915005, 'OPEN_TO_ANONYMOUS', '1', 'OFFERMAKER', SYSDATE);
14:43:09  29  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915005, 'BUNDLE', 'Bundle D (Digital All Access)', 'OFFERMAKER', SYSDATE);
14:43:09  30  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915005, 'ADX_BUNDLE', 'MM_EDU', 'OFFERMAKER', SYSDATE);
14:43:09  31  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915005, 'SIEBEL_CAMPAIGN_CODE', '3JKLR', 'OFFERMAKER', SYSDATE);
14:43:09  32  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915005, 'SOCIAL_DISPLAY', 'nyt-bundle', 'OFFERMAKER', SYSDATE);
14:43:09  33  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915005, 'ANNUAL_PRICE', '455.00', 'OFFERMAKER', SYSDATE);
14:43:09  34  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915005, 'UID', 'c93db0a7a4b828587dfe9eb85fd8ac443c1395c4bfda0d12d1135b6bb481430a', 'OFFERMAKER', SYSDATE);
14:43:09  35  DELETE FROM OFFER_CHAIN_NOTIFICATION_TYPE WHERE offer_chain_id = 99915005;
14:43:09  36  BEGIN
14:43:09  37  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'SUBSCRIBE_TO_OFFER_CHAIN';
14:43:09  38  EXCEPTION
14:43:09  39  	WHEN NO_DATA_FOUND THEN
14:43:09  40  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'SUBSCRIBE_TO_OFFER_CHAIN', SYSDATE, 'OFFERMAKER');
14:43:09  41  END;
14:43:09  42  BEGIN
14:43:09  43  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-purchase';
14:43:09  44  EXCEPTION
14:43:09  45  	WHEN NO_DATA_FOUND THEN NULL;
14:43:09  46  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-gift-purchase', 'N/A');
14:43:09  47  END;
14:43:09  48  BEGIN
14:43:09  49  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'UPGRADE_SUBSCRIPTION';
14:43:09  50  EXCEPTION
14:43:09  51  	WHEN NO_DATA_FOUND THEN
14:43:09  52  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'UPGRADE_SUBSCRIPTION', SYSDATE, 'OFFERMAKER');
14:43:09  53  END;
14:43:09  54  BEGIN
14:43:09  55  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-purchase';
14:43:09  56  EXCEPTION
14:43:09  57  	WHEN NO_DATA_FOUND THEN NULL;
14:43:09  58  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-gift-purchase', 'N/A');
14:43:09  59  END;
14:43:09  60  BEGIN
14:43:09  61  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'CANCEL_SUBSCRIPTION';
14:43:09  62  EXCEPTION
14:43:09  63  	WHEN NO_DATA_FOUND THEN
14:43:09  64  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'CANCEL_SUBSCRIPTION', SYSDATE, 'OFFERMAKER');
14:43:09  65  END;
14:43:09  66  BEGIN
14:43:09  67  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-cancel';
14:43:09  68  EXCEPTION
14:43:09  69  	WHEN NO_DATA_FOUND THEN NULL;
14:43:09  70  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-cancel', 'N/A');
14:43:09  71  END;
14:43:09  72  BEGIN
14:43:09  73  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'SYSTEM_CANCEL';
14:43:09  74  EXCEPTION
14:43:09  75  	WHEN NO_DATA_FOUND THEN
14:43:09  76  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'SYSTEM_CANCEL', SYSDATE, 'OFFERMAKER');
14:43:09  77  END;
14:43:09  78  BEGIN
14:43:09  79  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-decline';
14:43:09  80  EXCEPTION
14:43:09  81  	WHEN NO_DATA_FOUND THEN NULL;
14:43:09  82  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-gift-decline', 'N/A');
14:43:09  83  END;
14:43:09  84  BEGIN
14:43:09  85  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'CREDIT_CARD_EXP';
14:43:09  86  EXCEPTION
14:43:09  87  	WHEN NO_DATA_FOUND THEN
14:43:09  88  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'CREDIT_CARD_EXP', SYSDATE, 'OFFERMAKER');
14:43:09  89  END;
14:43:09  90  BEGIN
14:43:09  91  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'card_expiration';
14:43:09  92  EXCEPTION
14:43:09  93  	WHEN NO_DATA_FOUND THEN NULL;
14:43:09  94  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'card_expiration', 'N/A');
14:43:09  95  END;
14:43:09  96  BEGIN
14:43:09  97  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_PURCHASE';
14:43:09  98  EXCEPTION
14:43:09  99  	WHEN NO_DATA_FOUND THEN
14:43:09 100  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'GC_REDEEMER_ON_PURCHASE', SYSDATE, 'OFFERMAKER');
14:43:09 101  END;
14:43:09 102  BEGIN
14:43:09 103  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-subscription';
14:43:09 104  EXCEPTION
14:43:09 105  	WHEN NO_DATA_FOUND THEN NULL;
14:43:09 106  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-gift-subscription', 'N/A');
14:43:09 107  END;
14:43:09 108  BEGIN
14:43:09 109  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_PURCHASE_30DAY';
14:43:09 110  EXCEPTION
14:43:09 111  	WHEN NO_DATA_FOUND THEN
14:43:09 112  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'GC_REDEEMER_ON_PURCHASE_30DAY', SYSDATE, 'OFFERMAKER');
14:43:09 113  END;
14:43:09 114  BEGIN
14:43:09 115  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-recipient-30days-reminder';
14:43:09 116  EXCEPTION
14:43:09 117  	WHEN NO_DATA_FOUND THEN NULL;
14:43:09 118  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-recipient-30days-reminder', 'N/A');
14:43:09 119  END;
14:43:09 120  BEGIN
14:43:09 121  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_PURCHASE_90DAY';
14:43:09 122  EXCEPTION
14:43:09 123  	WHEN NO_DATA_FOUND THEN
14:43:09 124  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'GC_REDEEMER_ON_PURCHASE_90DAY', SYSDATE, 'OFFERMAKER');
14:43:09 125  END;
14:43:09 126  BEGIN
14:43:09 127  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-recipient-90days-reminder';
14:43:09 128  EXCEPTION
14:43:09 129  	WHEN NO_DATA_FOUND THEN NULL;
14:43:09 130  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-recipient-90days-reminder', 'N/A');
14:43:09 131  END;
14:43:09 132  BEGIN
14:43:09 133  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'PURCHASE_GIFT_CERTIFICATE';
14:43:09 134  EXCEPTION
14:43:09 135  	WHEN NO_DATA_FOUND THEN
14:43:09 136  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'PURCHASE_GIFT_CERTIFICATE', SYSDATE, 'OFFERMAKER');
14:43:09 137  END;
14:43:09 138  BEGIN
14:43:09 139  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-purchase';
14:43:09 140  EXCEPTION
14:43:09 141  	WHEN NO_DATA_FOUND THEN NULL;
14:43:09 142  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-gift-purchase', 'N/A');
14:43:09 143  END;
14:43:09 144  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915005, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-purchase'), (SELECT ID FROM ACTION WHERE NAME = 'SUBSCRIBE_TO_OFFER_CHAIN'), 'OFFERMAKER', SYSDATE);
14:43:09 145  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915005, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-purchase'), (SELECT ID FROM ACTION WHERE NAME = 'UPGRADE_SUBSCRIPTION'), 'OFFERMAKER', SYSDATE);
14:43:09 146  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915005, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-cancel'), (SELECT ID FROM ACTION WHERE NAME = 'CANCEL_SUBSCRIPTION'), 'OFFERMAKER', SYSDATE);
14:43:09 147  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915005, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-decline'), (SELECT ID FROM ACTION WHERE NAME = 'SYSTEM_CANCEL'), 'OFFERMAKER', SYSDATE);
14:43:09 148  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915005, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'card_expiration'), (SELECT ID FROM ACTION WHERE NAME = 'CREDIT_CARD_EXP'), 'OFFERMAKER', SYSDATE);
14:43:09 149  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915005, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-subscription'), (SELECT ID FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_PURCHASE'), 'OFFERMAKER', SYSDATE);
14:43:09 150  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915005, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-recipient-30days-reminder'), (SELECT ID FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_PURCHASE_30DAY'), 'OFFERMAKER', SYSDATE);
14:43:09 151  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915005, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-recipient-90days-reminder'), (SELECT ID FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_PURCHASE_90DAY'), 'OFFERMAKER', SYSDATE);
14:43:09 152  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915005, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-purchase'), (SELECT ID FROM ACTION WHERE NAME = 'PURCHASE_GIFT_CERTIFICATE'), 'OFFERMAKER', SYSDATE);
14:43:09 153  BEGIN
14:43:09 154  	SELECT 1 INTO TMP_VAR FROM OFFER_OFFER_CHAIN WHERE OFFER_CHAIN_ID = 99915005 AND INDEX_VALUE = 0 AND ROWNUM <= 1;
14:43:09 155  EXCEPTION
14:43:09 156  	WHEN NO_DATA_FOUND THEN
14:43:09 157  INSERT INTO OFFER (ID, OFFER_STATUS_ID, ENTITLEMENT_DURATION, CREATED_BY, CREATE_DATE, updated_by, update_date) VALUES (OFR_ID_SEQ.NEXTVAL, 1, 'P0Y0M112DT0H0M', 'OFFERMAKER', SYSDATE, 'OFFERMAKER', SYSDATE);
14:43:09 158  BEGIN
14:43:09 159  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Web' AND ROWNUM <= 1;
14:43:09 160  EXCEPTION
14:43:09 161  	WHEN NO_DATA_FOUND THEN
14:43:09 162  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Web', 'OFFERMAKER', SYSDATE);
14:43:09 163  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Web' AND ROWNUM <= 1;
14:43:09 164  	WHEN OTHERS THEN
14:43:09 165  	  RAISE;
14:43:09 166  END;
14:43:09 167  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '2', '112', '0.357143', 'OFFERMAKER', SYSDATE);
14:43:09 168  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
14:43:09 169  INSERT INTO DISCOUNT (ID, NAME, DESCRIPTION, FIXED_AMOUNT, PERCENT_AMOUNT, DISCOUNT_TYPE_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.NEXTVAL, 'Discount', 'Off: 53.49. P.Disc: 15.2800. P.Full: 40.0000', '24.72', '0', 1, 'OFFERMAKER', SYSDATE);
14:43:09 170  INSERT INTO DISCOUNT_PRODUCT_OFFERING (DISCOUNT_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
14:43:09 171  BEGIN
14:43:09 172  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Mobile' AND ROWNUM <= 1;
14:43:09 173  EXCEPTION
14:43:09 174  	WHEN NO_DATA_FOUND THEN
14:43:09 175  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Mobile', 'OFFERMAKER', SYSDATE);
14:43:09 176  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Mobile' AND ROWNUM <= 1;
14:43:09 177  	WHEN OTHERS THEN
14:43:09 178  	  RAISE;
14:43:09 179  END;
14:43:09 180  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '112', '0', 'OFFERMAKER', SYSDATE);
14:43:09 181  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
14:43:09 182  BEGIN
14:43:09 183  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Archive Article' AND ROWNUM <= 1;
14:43:09 184  EXCEPTION
14:43:09 185  	WHEN NO_DATA_FOUND THEN
14:43:09 186  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Archive Article', 'OFFERMAKER', SYSDATE);
14:43:09 187  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Archive Article' AND ROWNUM <= 1;
14:43:09 188  	WHEN OTHERS THEN
14:43:09 189  	  RAISE;
14:43:09 190  END;
14:43:09 191  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '400', '0', 'OFFERMAKER', SYSDATE);
14:43:09 192  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
14:43:09 193  BEGIN
14:43:09 194  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'TimesMachine' AND ROWNUM <= 1;
14:43:09 195  EXCEPTION
14:43:09 196  	WHEN NO_DATA_FOUND THEN
14:43:09 197  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'TimesMachine', 'OFFERMAKER', SYSDATE);
14:43:09 198  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'TimesMachine' AND ROWNUM <= 1;
14:43:09 199  	WHEN OTHERS THEN
14:43:09 200  	  RAISE;
14:43:09 201  END;
14:43:09 202  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '112', '0', 'OFFERMAKER', SYSDATE);
14:43:09 203  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
14:43:09 204  BEGIN
14:43:09 205  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Smartphone' AND ROWNUM <= 1;
14:43:09 206  EXCEPTION
14:43:09 207  	WHEN NO_DATA_FOUND THEN
14:43:09 208  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Smartphone', 'OFFERMAKER', SYSDATE);
14:43:09 209  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Smartphone' AND ROWNUM <= 1;
14:43:09 210  	WHEN OTHERS THEN
14:43:09 211  	  RAISE;
14:43:09 212  END;
14:43:09 213  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '2', '112', '0.178571', 'OFFERMAKER', SYSDATE);
14:43:09 214  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
14:43:09 215  INSERT INTO DISCOUNT (ID, NAME, DESCRIPTION, FIXED_AMOUNT, PERCENT_AMOUNT, DISCOUNT_TYPE_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.NEXTVAL, 'Discount', 'Off: 53.49. P.Disc: 7.6400. P.Full: 20.0000', '12.36', '0', 1, 'OFFERMAKER', SYSDATE);
14:43:09 216  INSERT INTO DISCOUNT_PRODUCT_OFFERING (DISCOUNT_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
14:43:09 217  BEGIN
14:43:09 218  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Tablet' AND ROWNUM <= 1;
14:43:09 219  EXCEPTION
14:43:09 220  	WHEN NO_DATA_FOUND THEN
14:43:09 221  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Tablet', 'OFFERMAKER', SYSDATE);
14:43:09 222  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Tablet' AND ROWNUM <= 1;
14:43:09 223  	WHEN OTHERS THEN
14:43:09 224  	  RAISE;
14:43:09 225  END;
14:43:09 226  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '2', '112', '0.714286', 'OFFERMAKER', SYSDATE);
14:43:09 227  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
14:43:09 228  INSERT INTO DISCOUNT (ID, NAME, DESCRIPTION, FIXED_AMOUNT, PERCENT_AMOUNT, DISCOUNT_TYPE_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.NEXTVAL, 'Discount', 'Off: 53.49. P.Disc: 30.5700. P.Full: 80.0000', '49.43', '0', 1, 'OFFERMAKER', SYSDATE);
14:43:09 229  INSERT INTO DISCOUNT_PRODUCT_OFFERING (DISCOUNT_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
14:43:09 230  BEGIN
14:43:09 231  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'TimesReader' AND ROWNUM <= 1;
14:43:09 232  EXCEPTION
14:43:09 233  	WHEN NO_DATA_FOUND THEN
14:43:09 234  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'TimesReader', 'OFFERMAKER', SYSDATE);
14:43:09 235  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'TimesReader' AND ROWNUM <= 1;
14:43:09 236  	WHEN OTHERS THEN
14:43:09 237  	  RAISE;
14:43:09 238  END;
14:43:09 239  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '112', '0', 'OFFERMAKER', SYSDATE);
14:43:09 240  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
14:43:09 241  INSERT INTO OFFER_OFFER_CHAIN (OFFER_ID, OFFER_CHAIN_ID, INDEX_VALUE, NUM_RECURRENCES, CREATED_BY, CREATE_DATE, updated_by, update_date) VALUES (OFR_ID_SEQ.CURRVAL, 99915005, '0', '1', 'OFFERMAKER', SYSDATE, 'OFFERMAKER', SYSDATE);
14:43:09 242  END;
14:43:09 243  END;
14:43:09 244  /

PL/SQL procedure successfully completed.

Elapsed: 00:00:00.08
14:43:09 SQL> COMMIT;

Commit complete.

Elapsed: 00:00:00.01
14:43:09 SQL> DECLARE
14:43:09   2  TMP_VAR NUMBER;
14:43:09   3  CUR_PRD_ID NUMBER;
14:43:09   4  CUR_CAPABILITY_ID NUMBER;
14:43:09   5  BEGIN
14:43:09   6  BEGIN
14:43:09   7  	SELECT 1 INTO TMP_VAR FROM OFFER_CHAIN WHERE ID = 99915006 AND ROWNUM <= 1;
14:43:09   8  	UPDATE OFFER_CHAIN SET NAME='All Digital Access', DESCRIPTION='Unlimited access to NYTimes.com, and the NYTimes smartphone and tablet apps.*', PRODUCT_URI='', VENDOR_SOURCE_ID='1', BILLING_SOURCE_ID=(SELECT ID FROM BILLING_SOURCE BS WHERE BS.NAME='Sartre'), IS_SEAT_LICENSE=0, GROUP_ACCOUNT_TYPE_ID='NO',IS_ADDRESS_REQUIRED=1, OFFER_CHAIN_STATUS_ID = 1, UPDATE_DATE = SYSDATE, UPDATED_BY = 'OFFERMAKER', IS_GIFT_CERTIFICATE='0', REVOKE_ENTITLEMENTS = '0', ADOPTABILITY_WINDOW_START_DATE = to_date('15-Jul-2013 00:00:00','DD-MON-YY HH24:MI:SS'), ADOPTABILITY_WINDOW_END_DATE = to_date('01-Feb-2099 00:00:00','DD-MON-YY HH24:MI:SS'), AMAZON_APPSTORE_SKU=NULL WHERE ID = 99915006;
14:43:09   9  EXCEPTION
14:43:09  10  	WHEN NO_DATA_FOUND THEN
14:43:09  11  	  INSERT INTO OFFER_CHAIN (ID, NAME, DESCRIPTION, ADOPTABILITY_WINDOW_START_DATE, ADOPTABILITY_WINDOW_END_DATE, IS_GIFT_CERTIFICATE, PRODUCT_URI, OFFER_CHAIN_STATUS_ID, REVOKE_ENTITLEMENTS, VENDOR_SOURCE_ID, BILLING_SOURCE_ID, IS_SEAT_LICENSE, GROUP_ACCOUNT_TYPE_ID, IS_ADDRESS_REQUIRED, AMAZON_APPSTORE_SKU, CREATED_BY, CREATE_DATE, updated_by, update_date) VALUES (99915006, 'All Digital Access', 'Unlimited access to NYTimes.com, and the NYTimes smartphone and tablet apps.*', to_date('15-Jul-2013 00:00:00','DD-MON-YY HH24:MI:SS'), to_date('01-Feb-2099 00:00:00','DD-MON-YY HH24:MI:SS'), '0', NULL, '1', '0', '1', (SELECT ID FROM BILLING_SOURCE BS WHERE BS.NAME='Sartre'), decode('NO','IL',1,0), 'NO', '1', '', 'OFFERMAKER', SYSDATE, 'OFFERMAKER', SYSDATE);
14:43:09  12  END;
14:43:09  13  DELETE FROM OFFER_CHAIN_ELIGIBILITY WHERE offer_chain_id = 99915006;
14:43:09  14  INSERT INTO OFFER_CHAIN_ELIGIBILITY (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (ELG_ID_SEQ.NEXTVAL, 99915006, 'GIFT CERTIFICATE REQUIRED', '1', 'OFFERMAKER', SYSDATE);
14:43:09  15  INSERT INTO OFFER_CHAIN_ELIGIBILITY (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (ELG_ID_SEQ.NEXTVAL, 99915006, 'IS_COMP', '1', 'OFFERMAKER', SYSDATE);
14:43:09  16  INSERT INTO OFFER_CHAIN_ELIGIBILITY (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (ELG_ID_SEQ.NEXTVAL, 99915006, 'MAX_CONCURRENT_SUBS', '1', 'OFFERMAKER', SYSDATE);
14:43:09  17  DELETE FROM OFFER_CHAIN_META_DATA WHERE offer_chain_id = 99915006;
14:43:09  18  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915006, 'BUNDLE_EXPLANATION', 'Bundle D - 16 Week Gift Sub - Redeem OC', 'OFFERMAKER', SYSDATE);
14:43:09  19  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915006, 'PRICE_DESCRIPTION', '4 Month Gift Subscription - $53.49 for 16 weeks - redeem', 'OFFERMAKER', SYSDATE);
14:43:09  20  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915006, 'PRICE_SHORT_DESCRIPTION', 'BNDL D / $53.49 16 wks GC redemp', 'OFFERMAKER', SYSDATE);
14:43:09  21  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915006, 'OFFER_TYPE', 'Edu Digital Gift Subscription for 16 weeks', 'OFFERMAKER', SYSDATE);
14:43:09  22  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915006, 'PROMO_PRICE_FOOTER_LABEL', '16 Weeks', 'OFFERMAKER', SYSDATE);
14:43:09  23  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915006, 'BILLING_CYCLE', '16 week gift', 'OFFERMAKER', SYSDATE);
14:43:09  24  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915006, 'SUBSCRIBER_TYPE', 'Education', 'OFFERMAKER', SYSDATE);
14:43:09  25  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915006, 'OPEN_TO_ANONYMOUS', '1', 'OFFERMAKER', SYSDATE);
14:43:09  26  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915006, 'BUNDLE', 'Bundle D (Digital All Access)', 'OFFERMAKER', SYSDATE);
14:43:09  27  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915006, 'ADX_BUNDLE', 'MM_EDU', 'OFFERMAKER', SYSDATE);
14:43:09  28  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915006, 'SIEBEL_CAMPAIGN_CODE', '3JKLR', 'OFFERMAKER', SYSDATE);
14:43:09  29  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915006, 'IS_COMP', '1', 'OFFERMAKER', SYSDATE);
14:43:09  30  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915006, 'ANNUAL_PRICE', '455.00', 'OFFERMAKER', SYSDATE);
14:43:09  31  INSERT INTO OFFER_CHAIN_META_DATA (ID, OFFER_CHAIN_ID, NAME, VALUE, CREATED_BY, CREATE_DATE) VALUES (OCMD_ID_SEQ.NEXTVAL, 99915006, 'UID', 'd0dd21a0f4e93ffece8848ee2804b3aa261808b83acde1bfe5c1fe25068b7619', 'OFFERMAKER', SYSDATE);
14:43:09  32  DELETE FROM OFFER_CHAIN_NOTIFICATION_TYPE WHERE offer_chain_id = 99915006;
14:43:09  33  BEGIN
14:43:09  34  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'SUBSCRIBE_TO_OFFER_CHAIN';
14:43:09  35  EXCEPTION
14:43:09  36  	WHEN NO_DATA_FOUND THEN
14:43:09  37  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'SUBSCRIBE_TO_OFFER_CHAIN', SYSDATE, 'OFFERMAKER');
14:43:09  38  END;
14:43:09  39  BEGIN
14:43:09  40  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-purchase';
14:43:09  41  EXCEPTION
14:43:09  42  	WHEN NO_DATA_FOUND THEN NULL;
14:43:09  43  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-purchase', 'N/A');
14:43:09  44  END;
14:43:09  45  BEGIN
14:43:09  46  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'UPGRADE_SUBSCRIPTION';
14:43:09  47  EXCEPTION
14:43:09  48  	WHEN NO_DATA_FOUND THEN
14:43:09  49  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'UPGRADE_SUBSCRIPTION', SYSDATE, 'OFFERMAKER');
14:43:09  50  END;
14:43:09  51  BEGIN
14:43:09  52  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-purchase';
14:43:09  53  EXCEPTION
14:43:09  54  	WHEN NO_DATA_FOUND THEN NULL;
14:43:09  55  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-purchase', 'N/A');
14:43:09  56  END;
14:43:09  57  BEGIN
14:43:09  58  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'CANCEL_SUBSCRIPTION';
14:43:09  59  EXCEPTION
14:43:09  60  	WHEN NO_DATA_FOUND THEN
14:43:09  61  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'CANCEL_SUBSCRIPTION', SYSDATE, 'OFFERMAKER');
14:43:09  62  END;
14:43:09  63  BEGIN
14:43:09  64  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-cancel';
14:43:09  65  EXCEPTION
14:43:09  66  	WHEN NO_DATA_FOUND THEN NULL;
14:43:09  67  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-cancel', 'N/A');
14:43:09  68  END;
14:43:09  69  BEGIN
14:43:09  70  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'SYSTEM_CANCEL';
14:43:09  71  EXCEPTION
14:43:09  72  	WHEN NO_DATA_FOUND THEN
14:43:09  73  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'SYSTEM_CANCEL', SYSDATE, 'OFFERMAKER');
14:43:09  74  END;
14:43:09  75  BEGIN
14:43:09  76  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-decline';
14:43:09  77  EXCEPTION
14:43:09  78  	WHEN NO_DATA_FOUND THEN NULL;
14:43:09  79  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-decline', 'N/A');
14:43:09  80  END;
14:43:09  81  BEGIN
14:43:09  82  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'CREDIT_CARD_EXP';
14:43:09  83  EXCEPTION
14:43:09  84  	WHEN NO_DATA_FOUND THEN
14:43:09  85  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'CREDIT_CARD_EXP', SYSDATE, 'OFFERMAKER');
14:43:09  86  END;
14:43:09  87  BEGIN
14:43:09  88  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'card_expiration';
14:43:09  89  EXCEPTION
14:43:09  90  	WHEN NO_DATA_FOUND THEN NULL;
14:43:09  91  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'card_expiration', 'N/A');
14:43:09  92  END;
14:43:09  93  BEGIN
14:43:09  94  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_REDEEM';
14:43:09  95  EXCEPTION
14:43:09  96  	WHEN NO_DATA_FOUND THEN
14:43:09  97  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'GC_REDEEMER_ON_REDEEM', SYSDATE, 'OFFERMAKER');
14:43:09  98  END;
14:43:09  99  BEGIN
14:43:09 100  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-sub-activation';
14:43:09 101  EXCEPTION
14:43:09 102  	WHEN NO_DATA_FOUND THEN NULL;
14:43:09 103  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-gift-sub-activation', 'N/A');
14:43:09 104  END;
14:43:09 105  BEGIN
14:43:09 106  	SELECT 1 INTO TMP_VAR FROM ACTION WHERE NAME = 'CLOSE_SUBSCRIPTION';
14:43:09 107  EXCEPTION
14:43:09 108  	WHEN NO_DATA_FOUND THEN
14:43:09 109  	  INSERT INTO ACTION (ID, NAME, CREATE_DATE, CREATED_BY) VALUES (ACTION_ID_SEQ.NEXTVAL, 'CLOSE_SUBSCRIPTION', SYSDATE, 'OFFERMAKER');
14:43:09 110  END;
14:43:09 111  BEGIN
14:43:09 112  	SELECT 1 INTO TMP_VAR FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-sub-expired-gift';
14:43:09 113  EXCEPTION
14:43:09 114  	WHEN NO_DATA_FOUND THEN NULL;
14:43:09 115  	  INSERT INTO CORE_OWNER.NOTIFICATION_TYPE (ID, VALUE, TEMPLATE_URL) VALUES (CORE_OWNER.NOTTID_SEQ.NEXTVAL, 'sartre-sub-expired-gift', 'N/A');
14:43:09 116  END;
14:43:09 117  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915006, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-purchase'), (SELECT ID FROM ACTION WHERE NAME = 'SUBSCRIBE_TO_OFFER_CHAIN'), 'OFFERMAKER', SYSDATE);
14:43:09 118  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915006, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-purchase'), (SELECT ID FROM ACTION WHERE NAME = 'UPGRADE_SUBSCRIPTION'), 'OFFERMAKER', SYSDATE);
14:43:09 119  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915006, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-cancel'), (SELECT ID FROM ACTION WHERE NAME = 'CANCEL_SUBSCRIPTION'), 'OFFERMAKER', SYSDATE);
14:43:09 120  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915006, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-decline'), (SELECT ID FROM ACTION WHERE NAME = 'SYSTEM_CANCEL'), 'OFFERMAKER', SYSDATE);
14:43:09 121  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915006, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'card_expiration'), (SELECT ID FROM ACTION WHERE NAME = 'CREDIT_CARD_EXP'), 'OFFERMAKER', SYSDATE);
14:43:09 122  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915006, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-gift-sub-activation'), (SELECT ID FROM ACTION WHERE NAME = 'GC_REDEEMER_ON_REDEEM'), 'OFFERMAKER', SYSDATE);
14:43:09 123  INSERT INTO OFFER_CHAIN_NOTIFICATION_TYPE (ID, OFFER_CHAIN_ID, NOTIFICATION_TYPE_ID, ACTION_ID, CREATED_BY, CREATE_DATE) VALUES (OCET_ID_SEQ.NEXTVAL, 99915006, (SELECT ID FROM CORE_OWNER.NOTIFICATION_TYPE WHERE VALUE = 'sartre-sub-expired-gift'), (SELECT ID FROM ACTION WHERE NAME = 'CLOSE_SUBSCRIPTION'), 'OFFERMAKER', SYSDATE);
14:43:09 124  BEGIN
14:43:09 125  	SELECT 1 INTO TMP_VAR FROM OFFER_OFFER_CHAIN WHERE OFFER_CHAIN_ID = 99915006 AND INDEX_VALUE = 0 AND ROWNUM <= 1;
14:43:09 126  EXCEPTION
14:43:09 127  	WHEN NO_DATA_FOUND THEN
14:43:09 128  INSERT INTO OFFER (ID, OFFER_STATUS_ID, ENTITLEMENT_DURATION, CREATED_BY, CREATE_DATE, updated_by, update_date) VALUES (OFR_ID_SEQ.NEXTVAL, 1, 'P0Y0M112DT0H0M', 'OFFERMAKER', SYSDATE, 'OFFERMAKER', SYSDATE);
14:43:09 129  BEGIN
14:43:09 130  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Web' AND ROWNUM <= 1;
14:43:09 131  EXCEPTION
14:43:09 132  	WHEN NO_DATA_FOUND THEN
14:43:09 133  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Web', 'OFFERMAKER', SYSDATE);
14:43:09 134  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Web' AND ROWNUM <= 1;
14:43:09 135  	WHEN OTHERS THEN
14:43:09 136  	  RAISE;
14:43:09 137  END;
14:43:09 138  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '112', '0.357143', 'OFFERMAKER', SYSDATE);
14:43:09 139  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
14:43:09 140  INSERT INTO DISCOUNT (ID, NAME, DESCRIPTION, FIXED_AMOUNT, PERCENT_AMOUNT, DISCOUNT_TYPE_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.NEXTVAL, 'Discount', 'Off: 0.0. P.Disc: 0.0000. P.Full: 40.0000', '40.00', '0', 1, 'OFFERMAKER', SYSDATE);
14:43:09 141  INSERT INTO DISCOUNT_PRODUCT_OFFERING (DISCOUNT_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
14:43:09 142  BEGIN
14:43:09 143  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Mobile' AND ROWNUM <= 1;
14:43:09 144  EXCEPTION
14:43:09 145  	WHEN NO_DATA_FOUND THEN
14:43:09 146  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Mobile', 'OFFERMAKER', SYSDATE);
14:43:09 147  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Mobile' AND ROWNUM <= 1;
14:43:09 148  	WHEN OTHERS THEN
14:43:09 149  	  RAISE;
14:43:09 150  END;
14:43:09 151  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '112', '0', 'OFFERMAKER', SYSDATE);
14:43:09 152  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
14:43:09 153  BEGIN
14:43:09 154  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Archive Article' AND ROWNUM <= 1;
14:43:09 155  EXCEPTION
14:43:09 156  	WHEN NO_DATA_FOUND THEN
14:43:09 157  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Archive Article', 'OFFERMAKER', SYSDATE);
14:43:09 158  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Archive Article' AND ROWNUM <= 1;
14:43:09 159  	WHEN OTHERS THEN
14:43:09 160  	  RAISE;
14:43:09 161  END;
14:43:09 162  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '400', '0', 'OFFERMAKER', SYSDATE);
14:43:09 163  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
14:43:09 164  BEGIN
14:43:09 165  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'TimesMachine' AND ROWNUM <= 1;
14:43:09 166  EXCEPTION
14:43:09 167  	WHEN NO_DATA_FOUND THEN
14:43:09 168  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'TimesMachine', 'OFFERMAKER', SYSDATE);
14:43:09 169  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'TimesMachine' AND ROWNUM <= 1;
14:43:09 170  	WHEN OTHERS THEN
14:43:09 171  	  RAISE;
14:43:09 172  END;
14:43:09 173  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '112', '0', 'OFFERMAKER', SYSDATE);
14:43:09 174  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
14:43:09 175  BEGIN
14:43:09 176  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Smartphone' AND ROWNUM <= 1;
14:43:09 177  EXCEPTION
14:43:09 178  	WHEN NO_DATA_FOUND THEN
14:43:09 179  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Smartphone', 'OFFERMAKER', SYSDATE);
14:43:09 180  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Smartphone' AND ROWNUM <= 1;
14:43:09 181  	WHEN OTHERS THEN
14:43:09 182  	  RAISE;
14:43:09 183  END;
14:43:09 184  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '112', '0.178571', 'OFFERMAKER', SYSDATE);
14:43:09 185  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
14:43:09 186  INSERT INTO DISCOUNT (ID, NAME, DESCRIPTION, FIXED_AMOUNT, PERCENT_AMOUNT, DISCOUNT_TYPE_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.NEXTVAL, 'Discount', 'Off: 0.0. P.Disc: 0.0000. P.Full: 20.0000', '20.00', '0', 1, 'OFFERMAKER', SYSDATE);
14:43:09 187  INSERT INTO DISCOUNT_PRODUCT_OFFERING (DISCOUNT_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
14:43:09 188  BEGIN
14:43:09 189  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Tablet' AND ROWNUM <= 1;
14:43:09 190  EXCEPTION
14:43:09 191  	WHEN NO_DATA_FOUND THEN
14:43:09 192  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'Tablet', 'OFFERMAKER', SYSDATE);
14:43:09 193  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'Tablet' AND ROWNUM <= 1;
14:43:09 194  	WHEN OTHERS THEN
14:43:09 195  	  RAISE;
14:43:09 196  END;
14:43:09 197  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '112', '0.714286', 'OFFERMAKER', SYSDATE);
14:43:09 198  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
14:43:09 199  INSERT INTO DISCOUNT (ID, NAME, DESCRIPTION, FIXED_AMOUNT, PERCENT_AMOUNT, DISCOUNT_TYPE_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.NEXTVAL, 'Discount', 'Off: 0.0. P.Disc: 0.0000. P.Full: 80.0000', '80.00', '0', 1, 'OFFERMAKER', SYSDATE);
14:43:09 200  INSERT INTO DISCOUNT_PRODUCT_OFFERING (DISCOUNT_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (DSC_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
14:43:09 201  BEGIN
14:43:09 202  	SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'TimesReader' AND ROWNUM <= 1;
14:43:09 203  EXCEPTION
14:43:09 204  	WHEN NO_DATA_FOUND THEN
14:43:09 205  	  INSERT INTO PRODUCT (ID, NAME, CREATED_BY, CREATE_DATE) VALUES (PRD_ID_SEQ.NEXTVAL, 'TimesReader', 'OFFERMAKER', SYSDATE);
14:43:09 206  	  SELECT ID INTO CUR_PRD_ID FROM PRODUCT WHERE NAME = 'TimesReader' AND ROWNUM <= 1;
14:43:09 207  	WHEN OTHERS THEN
14:43:09 208  	  RAISE;
14:43:09 209  END;
14:43:09 210  INSERT INTO PRODUCT_OFFERING (ID, PRODUCT_ID, TAX_POLICY_TYPE_ID, QUANTITY, UNIT_PRICE, CREATED_BY, CREATE_DATE) VALUES (PO_ID_SEQ.NEXTVAL, CUR_PRD_ID, '1', '112', '0', 'OFFERMAKER', SYSDATE);
14:43:09 211  INSERT INTO OFFER_PRODUCT_OFFERING (OFFER_ID, PRODUCT_OFFERING_ID, CREATED_BY, CREATE_DATE) VALUES (OFR_ID_SEQ.CURRVAL, PO_ID_SEQ.CURRVAL, 'OFFERMAKER', SYSDATE);
14:43:09 212  INSERT INTO OFFER_OFFER_CHAIN (OFFER_ID, OFFER_CHAIN_ID, INDEX_VALUE, NUM_RECURRENCES, CREATED_BY, CREATE_DATE, updated_by, update_date) VALUES (OFR_ID_SEQ.CURRVAL, 99915006, '0', '1', 'OFFERMAKER', SYSDATE, 'OFFERMAKER', SYSDATE);
14:43:09 213  END;
14:43:09 214  END;
14:43:09 215  /

PL/SQL procedure successfully completed.

Elapsed: 00:00:00.06
14:43:09 SQL> COMMIT;

Commit complete.

Elapsed: 00:00:00.00
14:43:09 SQL> commit;

Commit complete.

Elapsed: 00:00:00.00
14:43:09 SQL> spool off;


Subject: Nomad upgrade completed successfully: ECST@rac01.stg.ewr1.nytimes.com
From: Nomad for Oracle <db.alert@nytimes.com>
To: nytd_ecommerce@nytimes.com

Nomad upgrade operation completed successfully without errors. 
        
        Details
        -------
        DB Hostname: rac01.stg.ewr1.nytimes.com
        DB Role: primary
        Database: ECST
        Schema: core_owner
        Migration: 77.1-create-edu-16-wk-gift-subs
        SVN Revision: 13606
        Duration: 1 sec.
        DBA: apathrose
        