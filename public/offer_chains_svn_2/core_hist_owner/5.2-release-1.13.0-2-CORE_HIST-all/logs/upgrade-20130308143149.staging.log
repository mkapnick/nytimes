14:32:02 SQL> @/dbbackups/ECST/migrations/core_hist_owner/5.2-release-1.13.0-2-CORE_HIST-all/upgrade.sql
14:32:02 SQL> --------------------------------------------------------------------------------
14:32:02 SQL> -- DDL for package PROCS_HISTORY
14:32:02 SQL> --------------------------------------------------------------------------------
14:32:02 SQL> 
14:32:02 SQL> CREATE OR REPLACE PACKAGE "PROCS_HISTORY_V18" AS
14:32:02   2  
14:32:02   3  PROCEDURE CREATE_ADDRESS_HISTORY (
14:32:02   4  /*
14:32:02   5  Throws exceptions:
14:32:02   6  APP_EXCEPTION_CODES_V18.UNKNOWN_ERROR
14:32:02   7  */
14:32:02   8  	in_address_id		      IN ADDRESS_HISTORY.ADDRESS_ID%TYPE,
14:32:02   9  	in_system_activity_reason_id  IN ADDRESS_HISTORY.SYSTEM_ACTIVITY_REASON_ID%TYPE,
14:32:02  10  	in_address1		      IN ADDRESS_HISTORY.ADDRESS1%TYPE,
14:32:02  11  	in_address2		      IN ADDRESS_HISTORY.ADDRESS2%TYPE,
14:32:02  12  	in_city 		      IN ADDRESS_HISTORY.CITY%TYPE,
14:32:02  13  	in_state		      IN ADDRESS_HISTORY.STATE%TYPE,
14:32:02  14  	in_postal_code		      IN ADDRESS_HISTORY.POSTAL_CODE%TYPE,
14:32:02  15  	in_country		      IN ADDRESS_HISTORY.COUNTRY%TYPE,
14:32:02  16  	in_created_by		      IN ADDRESS_HISTORY.CREATED_BY%TYPE,
14:32:02  17  	in_create_date		      IN ADDRESS_HISTORY.CREATE_DATE%TYPE,
14:32:02  18  	in_updated_by		      IN ADDRESS_HISTORY.UPDATED_BY%TYPE,
14:32:02  19  	in_update_date		      IN ADDRESS_HISTORY.UPDATE_DATE%TYPE
14:32:02  20  );
14:32:02  21  
14:32:02  22  PROCEDURE CREATE_ACCOUNT_HISTORY (
14:32:02  23  /*
14:32:02  24  Throws exceptions:
14:32:02  25  APP_EXCEPTION_CODES_V18.UNKNOWN_ERROR
14:32:02  26  */
14:32:02  27  	in_account_id		      IN NUMBER,
14:32:02  28  	in_suspend_date 	      IN DATE,
14:32:02  29  	in_group_id		      IN NUMBER,
14:32:02  30  	in_created_by		      IN VARCHAR2,
14:32:02  31  	in_create_date		      IN DATE,
14:32:02  32  	in_system_activity_reason_id  IN NUMBER,
14:32:02  33  	in_account_status_id	      IN NUMBER,
14:32:02  34  	in_instrument_type_id	      IN NUMBER,
14:32:02  35  	in_instrument_id	      IN NUMBER
14:32:02  36  );
14:32:02  37  
14:32:02  38  PROCEDURE CREATE_SUBSCRIPTION_HISTORY (
14:32:02  39  /*
14:32:02  40  Throws exceptions:
14:32:02  41  APP_EXCEPTION_CODES_V18.UNKNOWN_ERROR
14:32:02  42  */
14:32:02  43  	in_subscription_id	     IN  NUMBER,
14:32:02  44  	in_account_id		     IN NUMBER,
14:32:02  45  	in_purchase_date	     IN DATE,
14:32:02  46  	in_offer_chain_id	     IN NUMBER,
14:32:02  47  	in_suspend_date 	     IN DATE,
14:32:02  48  	in_termination_date	     IN DATE,
14:32:02  49  	in_days_remaining_adjustment IN NUMBER,
14:32:02  50  	in_cancellation_type_id      IN NUMBER,
14:32:02  51  	in_created_by		     IN  VARCHAR2,
14:32:02  52  	in_create_date		     IN DATE,
14:32:02  53  	in_system_activity_reason_id IN  NUMBER
14:32:02  54  );
14:32:02  55  
14:32:02  56  PROCEDURE CREATE_CREDIT_CARD_HISTORY (
14:32:02  57  /*
14:32:02  58  Throws exceptions:
14:32:02  59  APP_EXCEPTION_CODES_V18.UNKNOWN_ERROR
14:32:02  60  */
14:32:02  61  	in_credit_card_id	      IN  NUMBER,
14:32:02  62  	in_account_id		      IN NUMBER,
14:32:02  63  	in_instrument_name	      IN VARCHAR2,
14:32:02  64  	in_private_card_holder_name   IN VARCHAR2,
14:32:02  65  	in_private_street_address     IN VARCHAR2,
14:32:02  66  	in_private_street_address2    IN VARCHAR2,
14:32:02  67  	in_state		      IN VARCHAR2,
14:32:02  68  	in_city 		      IN VARCHAR2,
14:32:02  69  	in_postal_code		      IN VARCHAR2,
14:32:02  70  	in_country		      IN CHAR,
14:32:02  71  	in_last_four_cc 	      IN VARCHAR2,
14:32:02  72  	in_expiration_date	      IN DATE,
14:32:02  73  	in_credit_card_type_id	      IN NUMBER,
14:32:02  74  	in_secret_token 	      IN VARCHAR2,
14:32:02  75  	in_chase_profile_id	      IN VARCHAR2,
14:32:02  76  	in_credit_card_status_id      IN NUMBER,
14:32:02  77  	in_created_by		      IN  VARCHAR2,
14:32:02  78  	in_create_date		      IN DATE,
14:32:02  79  	in_system_activity_reason_id  IN  NUMBER
14:32:02  80  );
14:32:02  81  
14:32:02  82  PROCEDURE CREATE_PAYPAL_HISTORY (
14:32:02  83  /*
14:32:02  84  Throws exceptions:
14:32:02  85  APP_EXCEPTION_CODES_V18.UNKNOWN_ERROR
14:32:02  86  */
14:32:02  87  	in_paypal_id			IN NUMBER,
14:32:02  88  	in_account_id			IN NUMBER,
14:32:02  89  	in_instrument_name		IN VARCHAR2,
14:32:02  90  	in_private_email_address	IN VARCHAR2,
14:32:02  91  	in_created_by			IN VARCHAR2,
14:32:02  92  	in_create_date			IN DATE,
14:32:02  93  	in_paypal_status_id		IN NUMBER,
14:32:02  94  	in_paypal_prvt_street_address	IN VARCHAR2,
14:32:02  95  	in_paypal_prvt_street_address2	IN VARCHAR2,
14:32:02  96  	in_state			IN VARCHAR2,
14:32:02  97  	in_city 			IN VARCHAR2,
14:32:02  98  	in_postal_code			IN VARCHAR2,
14:32:02  99  	in_country			IN CHAR,
14:32:02 100  	in_expiration_date		IN DATE,
14:32:02 101  	in_system_activity_reason_id	IN NUMBER,
14:32:02 102  	in_secret_token 		IN VARCHAR2
14:32:02 103  );
14:32:02 104  
14:32:02 105  PROCEDURE CREATE_TRANSACTION_HISTORY (
14:32:02 106  /*
14:32:02 107  Throws exceptions:
14:32:02 108  APP_EXCEPTION_CODES_V18.UNKNOWN_ERROR
14:32:02 109  */
14:32:02 110  	in_transaction_id	     IN TRANSACTION_HISTORY.TRANSACTION_ID%TYPE,
14:32:02 111  	in_transaction_status_id     IN TRANSACTION_HISTORY.TRANSACTION_STATUS_ID%TYPE,
14:32:02 112  	in_transaction_amount	     IN TRANSACTION_HISTORY.TRANSACTION_AMOUNT%TYPE,
14:32:02 113  	in_created_by		     IN TRANSACTION_HISTORY.CREATED_BY%TYPE,
14:32:02 114  	in_create_date		     IN TRANSACTION_HISTORY.CREATE_DATE%TYPE,
14:32:02 115  	in_system_activity_reason_id IN TRANSACTION_HISTORY.SYSTEM_ACTIVITY_REASON_ID%TYPE,
14:32:02 116  	in_order_id		     IN TRANSACTION_HISTORY.ORDER_ID%TYPE DEFAULT NULL,
14:32:02 117  	in_charge_id		     IN TRANSACTION_HISTORY.CHARGE_ID%TYPE DEFAULT NULL,
14:32:02 118  	in_is_refund		     IN TRANSACTION_HISTORY.IS_REFUND%TYPE DEFAULT NULL,
14:32:02 119  	in_is_settled		     IN TRANSACTION_HISTORY.IS_SETTLED%TYPE DEFAULT NULL,
14:32:02 120  	in_transaction_type_code     IN TRANSACTION_HISTORY.TRANSACTION_TYPE_CODE%TYPE DEFAULT NULL
14:32:02 121  );
14:32:02 122  
14:32:02 123  PROCEDURE CREATE_GIFT_CERT_HISTORY (
14:32:02 124  /*
14:32:02 125  Throws exceptions:
14:32:02 126  APP_EXCEPTION_CODES_V18.UNKNOWN_ERROR
14:32:02 127  */
14:32:02 128  	in_gift_certificate_id	      IN NUMBER,
14:32:02 129  	in_purchaser_group_id	      IN NUMBER,
14:32:02 130  	in_purchase_invoice_id	      IN NUMBER,
14:32:02 131  	in_offer_chain_id	      IN NUMBER,
14:32:02 132  	in_expiration_date	      IN DATE,
14:32:02 133  	in_purchase_date	      IN DATE,
14:32:02 134  	in_gift_certificate_status_id IN NUMBER,
14:32:02 135  	in_code 		      IN VARCHAR2,
14:32:02 136  	in_created_by		      IN VARCHAR2,
14:32:02 137  	in_create_date		      IN DATE,
14:32:02 138  	in_system_activity_reason_id  IN NUMBER,
14:32:02 139  	in_recipient_name	      IN VARCHAR2,
14:32:02 140  	in_gift_message 	      IN VARCHAR2,
14:32:02 141  	in_recipient_email	      IN VARCHAR2,
14:32:02 142  	in_finalized_invoice_id       IN NUMBER,
14:32:02 143  	in_sender_email 	      IN VARCHAR2,
14:32:02 144  	in_sender_name		      IN VARCHAR2,
14:32:02 145  	in_redemption_date	      IN DATE,
14:32:02 146  	in_redeemer_group_id	      IN NUMBER,
14:32:02 147  	in_cancelation_date	      IN DATE,
14:32:02 148  	in_recipient_address_id       IN NUMBER,
14:32:02 149  	in_redeemer_address_id	      IN NUMBER,
14:32:02 150  	in_recipient_notify_date      IN DATE
14:32:02 151  );
14:32:02 152  
14:32:02 153  PROCEDURE CREATE_INVOICE_HISTORY (
14:32:02 154  /*
14:32:02 155  Throws exceptions:
14:32:02 156  APP_EXCEPTION_CODES_V18.UNKNOWN_ERROR
14:32:02 157  */
14:32:02 158  	in_invoice_id		     IN NUMBER,
14:32:02 159  	in_invoice_status_id	     IN NUMBER,
14:32:02 160  	in_created_by		     IN VARCHAR2,
14:32:02 161  	in_create_date		     IN DATE,
14:32:02 162  	in_system_activity_reason_id IN NUMBER
14:32:02 163  );
14:32:02 164  
14:32:02 165  PROCEDURE CREATE_LICENSE_HISTORY (
14:32:02 166  /*
14:32:02 167  Throws exceptions:
14:32:02 168  APP_EXCEPTION_CODES_V18.UNKNOWN_ERROR
14:32:02 169  */
14:32:02 170  	in_license_id		     IN NUMBER,
14:32:02 171  	in_license_status_id	     IN NUMBER,
14:32:02 172  	in_needs_entitlements	     IN NUMBER,
14:32:02 173  	in_start_date		     IN DATE,
14:32:02 174  	in_offer_id		     IN NUMBER,
14:32:02 175  	in_subscription_id	     IN NUMBER,
14:32:02 176  	in_invoice_id		     IN NUMBER,
14:32:02 177  	in_end_date		     IN DATE,
14:32:02 178  	in_created_by		     IN VARCHAR2,
14:32:02 179  	in_create_date		     IN DATE,
14:32:02 180  	in_is_extension 	     IN NUMBER,
14:32:02 181  	in_current_offer_index	     IN NUMBER,
14:32:02 182  	in_current_offer_recurr_num  IN NUMBER,
14:32:02 183  	in_system_activity_reason_id IN NUMBER,
14:32:02 184  	in_entitlement_end_date      IN DATE,
14:32:02 185  	in_grace_start_date	     IN DATE,
14:32:02 186  	in_grace_end_date	     IN DATE
14:32:02 187  );
14:32:02 188  
14:32:02 189  PROCEDURE CREATE_CHARGE_HISTORY (
14:32:02 190  /*
14:32:02 191  Throws exceptions:
14:32:02 192  APP_EXCEPTION_CODES_V18.UNKNOWN_ERROR
14:32:02 193  */
14:32:02 194  	in_charge_id		     IN NUMBER,
14:32:02 195  	in_invoice_id		     IN NUMBER,
14:32:02 196  	in_transaction_id	     IN NUMBER,
14:32:02 197  	in_instrument_type_id	     IN NUMBER,
14:32:02 198  	in_instrument_id	     IN NUMBER,
14:32:02 199  	in_charge_amount	     IN NUMBER,
14:32:02 200  	in_created_by		     IN VARCHAR2,
14:32:02 201  	in_create_date		     IN DATE,
14:32:02 202  	in_charge_status_id	     IN NUMBER,
14:32:02 203  	in_system_activity_reason_id IN NUMBER
14:32:02 204  );
14:32:02 205  
14:32:02 206  PROCEDURE CREATE_ITUNES_RECEIPT_HISTORY (
14:32:02 207  /*
14:32:02 208  Throws exceptions:
14:32:02 209  APP_EXCEPTION_CODES_V18.UNKNOWN_ERROR
14:32:02 210  */
14:32:02 211  /*
14:32:02 212  CREATE TABLE ITUNES_RECEIPT (
14:32:02 213  	id NUMBER NOT NULL ENABLE,
14:32:02 214  	subscription_id NUMBER NOT NULL ENABLE,
14:32:02 215  	receipt VARCHAR(1024) NOT NULL ENABLE,
14:32:02 216  	status NUMBER,
14:32:02 217  	quantity NUMBER,
14:32:02 218  	product_id VARCHAR(1024),
14:32:02 219  	transaction_id VARCHAR(1024),
14:32:02 220  	purchase_date TIMESTAMP,
14:32:02 221  	original_transaction_id VARCHAR(1024),
14:32:02 222  	original_purchase_date TIMESTAMP,
14:32:02 223  	app_item_id VARCHAR(1024),
14:32:02 224  	version_external_id NUMBER,
14:32:02 225  	bid VARCHAR(1024),
14:32:02 226  	bvrs VARCHAR(255),
14:32:02 227  	expires_date TIMESTAMP,
14:32:02 228  	create_date DATE NOT NULL,
14:32:02 229  	created_by VARCHAR(255) NOT NULL,
14:32:02 230  	update_date DATE NOT NULL,
14:32:02 231  	updated_by VARCHAR(255) NOT NULL,
14:32:02 232  	last_check_date DATE NOT NULL,
14:32:02 233  	CONSTRAINT "ITUNESRECEIPT_PK" PRIMARY KEY ("ID") USING INDEX TABLESPACE "CORE_IDX" ENABLE,
14:32:02 234  	CONSTRAINT "ITUNESRECEIPT_SUBID_FK" FOREIGN KEY ("SUBSCRIPTION_ID") REFERENCES SUBSCRIPTION(ID) USING INDEX TABLESPACE "CORE_IDX" ENABLE,
14:32:02 235  	CONSTRAINT "ITUNESRECEIPT_RECEIPT_UK" UNIQUE(receipt) USING INDEX TABLESPACE "CORE_IDX" ENABLE,
14:32:02 236  	CONSTRAINT "ITUNESRECEIPT_SUBID_UK" UNIQUE(subscription_id) USING INDEX TABLESPACE "CORE_IDX" ENABLE
14:32:02 237  )
14:32:02 238  TABLESPACE CORE;
14:32:02 239  */
14:32:02 240  	in_id		    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.ID%TYPE,
14:32:02 241  	in_subscription_id  IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.SUBSCRIPTION_ID%TYPE,
14:32:02 242  	in_receipt	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.RECEIPT%TYPE,
14:32:02 243  	in_status	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.STATUS%TYPE,
14:32:02 244  	in_quantity	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.QUANTITY%TYPE,
14:32:02 245  	in_product_id	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.PRODUCT_ID%TYPE,
14:32:02 246  	in_transaction_id   IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.TRANSACTION_ID%TYPE,
14:32:02 247  	in_purchase_date    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.PURCHASE_DATE%TYPE,
14:32:02 248  	in_original_transaction_id IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.ORIGINAL_TRANSACTION_ID%TYPE,
14:32:02 249  	in_original_purchase_date IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.ORIGINAL_PURCHASE_DATE%TYPE,
14:32:02 250  	in_app_item_id	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.APP_ITEM_ID%TYPE,
14:32:02 251  	in_version_external_id IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.VERSION_EXTERNAL_ID%TYPE,
14:32:02 252  	in_bid		    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.BID%TYPE,
14:32:02 253  	in_bvrs 	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.BVRS%TYPE,
14:32:02 254  	in_expires_date     IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.EXPIRES_DATE%TYPE,
14:32:02 255  	in_create_date	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.CREATE_DATE%TYPE,
14:32:02 256  	in_created_by	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.CREATED_BY%TYPE,
14:32:02 257  	in_update_date	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.UPDATE_DATE%TYPE,
14:32:02 258  	in_updated_by	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.UPDATED_BY%TYPE,
14:32:02 259  	in_last_check_date  IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.LAST_CHECK_DATE%TYPE,
14:32:02 260  	in_cancel_date	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.CANCEL_DATE%TYPE
14:32:02 261  );
14:32:02 262  
14:32:02 263  PROCEDURE CREATE_INVOICE_ADJ_HISTORY (
14:32:02 264  /*
14:32:02 265  Throws exceptions:
14:32:02 266  APP_EXCEPTION_CODES_V18.UNKNOWN_ERROR
14:32:02 267  */
14:32:02 268  	in_invoice_adjustment_id     IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.INVOICE_ADJUSTMENT_ID%TYPE,
14:32:02 269  	in_invoice_id		     IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.INVOICE_ID%TYPE,
14:32:02 270  	in_is_credit		     IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.IS_CREDIT%TYPE,
14:32:02 271  	in_charge_id		     IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.CHARGE_ID%TYPE,
14:32:02 272  	in_adjustment_date	     IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.ADJUSTMENT_DATE%TYPE,
14:32:02 273  	in_create_date		     IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.CREATE_DATE%TYPE,
14:32:02 274  	in_created_by		     IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.CREATED_BY%TYPE,
14:32:02 275  	in_invoice_adj_reason_id     IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.INVOICE_ADJUSTMENT_REASON_ID%TYPE,
14:32:02 276  	in_update_date		      IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.UPDATE_DATE%TYPE,
14:32:02 277  	in_updated_by		     IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.UPDATED_BY%TYPE
14:32:02 278  );
14:32:02 279  
14:32:02 280  PROCEDURE CREATE_NOTIFICATION_HISTORY (
14:32:02 281  	/*
14:32:02 282  	Throws exceptions:
14:32:02 283  	APP_EXCEPTION_CODES_V18.UNKNOWN_ERROR
14:32:02 284  	*/
14:32:02 285  	in_notification_id	      IN NUMBER,
14:32:02 286  	in_account_id		      IN NUMBER,
14:32:02 287  	in_group_id		      IN NUMBER,
14:32:02 288  	notification_reason_type_id   IN NUMBER,
14:32:02 289  	notification_status_id	      IN NUMBER,
14:32:02 290  	email_template_params	      IN CLOB,
14:32:02 291  	in_create_date		      IN DATE,
14:32:02 292  	in_date_to_notify	      IN DATE
14:32:02 293  );
14:32:02 294  
14:32:02 295  PROCEDURE CREATE_NOTIF_FAILURE_HISTORY (
14:32:02 296  	/*
14:32:02 297  	Throws exceptions:
14:32:02 298  	APP_EXCEPTION_CODES_V18.UNKNOWN_ERROR
14:32:02 299  	*/
14:32:02 300  	in_error_messgae	 IN VARCHAR2,
14:32:02 301  	in_notification_id	 IN NUMBER,
14:32:02 302  	in_create_date		 IN DATE
14:32:02 303  );
14:32:02 304  
14:32:02 305  END PROCS_HISTORY_V18;
14:32:02 306  .
14:32:02 SQL> /

Package created.

Elapsed: 00:00:00.68
14:32:03 SQL> 
14:32:03 SQL> CREATE OR REPLACE PACKAGE BODY "PROCS_HISTORY_V18" AS
14:32:03   2  
14:32:03   3  PROCEDURE CREATE_ADDRESS_HISTORY (
14:32:03   4  /*
14:32:03   5  Throws exceptions:
14:32:03   6  APP_EXCEPTION_CODES_V18.UNKNOWN_ERROR
14:32:03   7  */
14:32:03   8  	in_address_id		      IN ADDRESS_HISTORY.ADDRESS_ID%TYPE,
14:32:03   9  	in_system_activity_reason_id  IN ADDRESS_HISTORY.SYSTEM_ACTIVITY_REASON_ID%TYPE,
14:32:03  10  	in_address1		      IN ADDRESS_HISTORY.ADDRESS1%TYPE,
14:32:03  11  	in_address2		      IN ADDRESS_HISTORY.ADDRESS2%TYPE,
14:32:03  12  	in_city 		      IN ADDRESS_HISTORY.CITY%TYPE,
14:32:03  13  	in_state		      IN ADDRESS_HISTORY.STATE%TYPE,
14:32:03  14  	in_postal_code		      IN ADDRESS_HISTORY.POSTAL_CODE%TYPE,
14:32:03  15  	in_country		      IN ADDRESS_HISTORY.COUNTRY%TYPE,
14:32:03  16  	in_created_by		      IN ADDRESS_HISTORY.CREATED_BY%TYPE,
14:32:03  17  	in_create_date		      IN ADDRESS_HISTORY.CREATE_DATE%TYPE,
14:32:03  18  	in_updated_by		      IN ADDRESS_HISTORY.UPDATED_BY%TYPE,
14:32:03  19  	in_update_date		      IN ADDRESS_HISTORY.UPDATE_DATE%TYPE
14:32:03  20  ) AS
14:32:03  21  SPROC_NAME CONSTANT VARCHAR2(22) := 'CREATE_ADDRESS_HISTORY';
14:32:03  22  BEGIN
14:32:03  23  
14:32:03  24  	INSERT INTO
14:32:03  25  	  ADDRESS_HISTORY (
14:32:03  26  	  ADDRESS_ID,
14:32:03  27  	  SYSTEM_ACTIVITY_REASON_ID,
14:32:03  28  	  ADDRESS1,
14:32:03  29  	  ADDRESS2,
14:32:03  30  	  CITY,
14:32:03  31  	  STATE,
14:32:03  32  	  POSTAL_CODE,
14:32:03  33  	  COUNTRY,
14:32:03  34  	  CREATED_BY,
14:32:03  35  	  CREATE_DATE,
14:32:03  36  	  UPDATED_BY,
14:32:03  37  	  UPDATE_DATE
14:32:03  38  	) VALUES (
14:32:03  39  	  in_address_id,
14:32:03  40  	  in_system_activity_reason_id,
14:32:03  41  	  in_address1,
14:32:03  42  	  in_address2,
14:32:03  43  	  in_city,
14:32:03  44  	  in_state,
14:32:03  45  	  in_postal_code,
14:32:03  46  	  in_country,
14:32:03  47  	  in_created_by,
14:32:03  48  	  in_create_date,
14:32:03  49  	  in_updated_by,
14:32:03  50  	  in_update_date
14:32:03  51  	);
14:32:03  52  
14:32:03  53  EXCEPTION
14:32:03  54  WHEN OTHERS THEN
14:32:03  55  	RAISE_APPLICATION_ERROR(CORE_OWNER.APP_EXCEPTION_CODES_V18.UNKNOWN_ERROR,
14:32:03  56  	  SPROC_NAME||': Unknown error: '||SQLERRM);
14:32:03  57  END CREATE_ADDRESS_HISTORY;
14:32:03  58  
14:32:03  59  /******************************************************************************/
14:32:03  60  
14:32:03  61  PROCEDURE CREATE_ACCOUNT_HISTORY (
14:32:03  62  /*
14:32:03  63  Throws exceptions:
14:32:03  64  APP_EXCEPTION_CODES_V18.UNKNOWN_ERROR
14:32:03  65  */
14:32:03  66  	in_account_id		      IN NUMBER,
14:32:03  67  	in_suspend_date 	      IN DATE,
14:32:03  68  	in_group_id		      IN NUMBER,
14:32:03  69  	in_created_by		      IN VARCHAR2,
14:32:03  70  	in_create_date		      IN DATE,
14:32:03  71  	in_system_activity_reason_id  IN NUMBER,
14:32:03  72  	in_account_status_id	      IN NUMBER,
14:32:03  73  	in_instrument_type_id	      IN NUMBER,
14:32:03  74  	in_instrument_id	      IN NUMBER
14:32:03  75  ) AS
14:32:03  76  SPROC_NAME CONSTANT VARCHAR2(22) := 'CREATE_ACCOUNT_HISTORY';
14:32:03  77  BEGIN
14:32:03  78  
14:32:03  79  	INSERT INTO
14:32:03  80  	  ACCOUNT_HISTORY (
14:32:03  81  	  ACCOUNT_ID,
14:32:03  82  	  SUSPEND_DATE,
14:32:03  83  	  GROUP_ID,
14:32:03  84  	  CREATE_DATE,
14:32:03  85  	  CREATED_BY,
14:32:03  86  	  SYSTEM_ACTIVITY_REASON_ID,
14:32:03  87  	  ACCOUNT_STATUS_ID,
14:32:03  88  	  INSTRUMENT_TYPE_ID,
14:32:03  89  	  INSTRUMENT_ID
14:32:03  90  	) VALUES (
14:32:03  91  	  in_account_id,
14:32:03  92  	  in_suspend_date,
14:32:03  93  	  in_group_id,
14:32:03  94  	  in_create_date,
14:32:03  95  	  in_created_by,
14:32:03  96  	  in_system_activity_reason_id,
14:32:03  97  	  in_account_status_id,
14:32:03  98  	  in_instrument_type_id,
14:32:03  99  	  in_instrument_id
14:32:03 100  	);
14:32:03 101  
14:32:03 102  EXCEPTION
14:32:03 103  WHEN OTHERS THEN
14:32:03 104  	RAISE_APPLICATION_ERROR(CORE_OWNER.APP_EXCEPTION_CODES_V18.UNKNOWN_ERROR,
14:32:03 105  	  SPROC_NAME||': Unknown error: '||SQLERRM);
14:32:03 106  END CREATE_ACCOUNT_HISTORY;
14:32:03 107  
14:32:03 108  /******************************************************************************/
14:32:03 109  
14:32:03 110  PROCEDURE CREATE_SUBSCRIPTION_HISTORY (
14:32:03 111  /*
14:32:03 112  Throws exceptions:
14:32:03 113  APP_EXCEPTION_CODES_V18.UNKNOWN_ERROR
14:32:03 114  */
14:32:03 115  	in_subscription_id	     IN  NUMBER,
14:32:03 116  	in_account_id		     IN NUMBER,
14:32:03 117  	in_purchase_date	     IN DATE,
14:32:03 118  	in_offer_chain_id	     IN NUMBER,
14:32:03 119  	in_suspend_date 	     IN DATE,
14:32:03 120  	in_termination_date	     IN DATE,
14:32:03 121  	in_days_remaining_adjustment IN NUMBER,
14:32:03 122  	in_cancellation_type_id      IN NUMBER,
14:32:03 123  	in_created_by		     IN  VARCHAR2,
14:32:03 124  	in_create_date		     IN DATE,
14:32:03 125  	in_system_activity_reason_id IN  NUMBER
14:32:03 126  ) AS
14:32:03 127  SPROC_NAME CONSTANT VARCHAR2(27) := 'CREATE_SUBSCRIPTION_HISTORY';
14:32:03 128  BEGIN
14:32:03 129  
14:32:03 130  	INSERT INTO SUBSCRIPTION_HISTORY (
14:32:03 131  	  SUBSCRIPTION_ID,
14:32:03 132  	  ACCOUNT_ID,
14:32:03 133  	  PURCHASE_DATE,
14:32:03 134  	  OFFER_CHAIN_ID,
14:32:03 135  	  SUSPEND_DATE,
14:32:03 136  	  TERMINATION_DATE,
14:32:03 137  	  DAYS_REMAINING_ADJUSTMENT,
14:32:03 138  	  CANCELLATION_TYPE_ID,
14:32:03 139  	  CREATE_DATE,
14:32:03 140  	  CREATED_BY,
14:32:03 141  	  SYSTEM_ACTIVITY_REASON_ID
14:32:03 142  	) VALUES (
14:32:03 143  	  in_subscription_id,
14:32:03 144  	  in_account_id,
14:32:03 145  	  in_purchase_date,
14:32:03 146  	  in_offer_chain_id,
14:32:03 147  	  in_suspend_date,
14:32:03 148  	  in_termination_date,
14:32:03 149  	  in_days_remaining_adjustment,
14:32:03 150  	  in_cancellation_type_id,
14:32:03 151  	  in_create_date,
14:32:03 152  	  in_created_by,
14:32:03 153  	  in_system_activity_reason_id
14:32:03 154  	);
14:32:03 155  
14:32:03 156  EXCEPTION
14:32:03 157  WHEN OTHERS THEN
14:32:03 158  	RAISE_APPLICATION_ERROR(CORE_OWNER.APP_EXCEPTION_CODES_V18.UNKNOWN_ERROR,
14:32:03 159  	  SPROC_NAME||': Unknown error: '||SQLERRM);
14:32:03 160  END CREATE_SUBSCRIPTION_HISTORY;
14:32:03 161  
14:32:03 162  /******************************************************************************/
14:32:03 163  
14:32:03 164  PROCEDURE CREATE_CREDIT_CARD_HISTORY (
14:32:03 165  /*
14:32:03 166  Throws exceptions:
14:32:03 167  APP_EXCEPTION_CODES_V18.UNKNOWN_ERROR
14:32:03 168  */
14:32:03 169  	in_credit_card_id	      IN  NUMBER,
14:32:03 170  	in_account_id		      IN NUMBER,
14:32:03 171  	in_instrument_name	      IN VARCHAR2,
14:32:03 172  	in_private_card_holder_name   IN VARCHAR2,
14:32:03 173  	in_private_street_address     IN VARCHAR2,
14:32:03 174  	in_private_street_address2    IN VARCHAR2,
14:32:03 175  	in_state		      IN VARCHAR2,
14:32:03 176  	in_city 		      IN VARCHAR2,
14:32:03 177  	in_postal_code		      IN VARCHAR2,
14:32:03 178  	in_country		      IN CHAR,
14:32:03 179  	in_last_four_cc 	      IN VARCHAR2,
14:32:03 180  	in_expiration_date	      IN DATE,
14:32:03 181  	in_credit_card_type_id	      IN NUMBER,
14:32:03 182  	in_secret_token 	      IN VARCHAR2,
14:32:03 183  	in_chase_profile_id	      IN VARCHAR2,
14:32:03 184  	in_credit_card_status_id      IN NUMBER,
14:32:03 185  	in_created_by		      IN  VARCHAR2,
14:32:03 186  	in_create_date		      IN DATE,
14:32:03 187  	in_system_activity_reason_id  IN  NUMBER
14:32:03 188  ) AS
14:32:03 189  SPROC_NAME CONSTANT VARCHAR2(26) := 'CREATE_CREDIT_CARD_HISTORY';
14:32:03 190  BEGIN
14:32:03 191  
14:32:03 192  	INSERT INTO CREDIT_CARD_HISTORY (
14:32:03 193  	  CREDIT_CARD_ID,
14:32:03 194  	  ACCOUNT_ID,
14:32:03 195  	  INSTRUMENT_NAME,
14:32:03 196  	  PRIVATE_CARD_HOLDER_NAME,
14:32:03 197  	  PRIVATE_STREET_ADDRESS,
14:32:03 198  	  PRIVATE_STREET_ADDRESS2,
14:32:03 199  	  STATE,
14:32:03 200  	  CITY,
14:32:03 201  	  POSTAL_CODE,
14:32:03 202  	  COUNTRY,
14:32:03 203  	  LAST_FOUR_CC,
14:32:03 204  	  EXPIRATION_DATE,
14:32:03 205  	  CREDIT_CARD_TYPE_ID,
14:32:03 206  	  SECRET_TOKEN,
14:32:03 207  	  CHASE_PROFILE_ID,
14:32:03 208  	  CREATE_DATE,
14:32:03 209  	  CREATED_BY,
14:32:03 210  	  SYSTEM_ACTIVITY_REASON_ID,
14:32:03 211  	  CREDIT_CARD_STATUS_ID
14:32:03 212  	) VALUES (
14:32:03 213  	  in_credit_card_id,
14:32:03 214  	  in_account_id,
14:32:03 215  	  in_instrument_name,
14:32:03 216  	  in_private_card_holder_name,
14:32:03 217  	  in_private_street_address,
14:32:03 218  	  in_private_street_address2,
14:32:03 219  	  in_state,
14:32:03 220  	  in_city,
14:32:03 221  	  in_postal_code,
14:32:03 222  	  in_country,
14:32:03 223  	  in_last_four_cc,
14:32:03 224  	  in_expiration_date,
14:32:03 225  	  in_credit_card_type_id,
14:32:03 226  	  in_secret_token,
14:32:03 227  	  in_chase_profile_id,
14:32:03 228  	  in_create_date,
14:32:03 229  	  in_created_by,
14:32:03 230  	  in_system_activity_reason_id,
14:32:03 231  	  in_credit_card_status_id
14:32:03 232  	);
14:32:03 233  
14:32:03 234  EXCEPTION
14:32:03 235  WHEN OTHERS THEN
14:32:03 236  	RAISE_APPLICATION_ERROR(CORE_OWNER.APP_EXCEPTION_CODES_V18.UNKNOWN_ERROR,
14:32:03 237  	  SPROC_NAME||': Unknown error: '||SQLERRM);
14:32:03 238  END CREATE_CREDIT_CARD_HISTORY;
14:32:03 239  
14:32:03 240  /******************************************************************************/
14:32:03 241  
14:32:03 242  PROCEDURE CREATE_PAYPAL_HISTORY (
14:32:03 243  /*
14:32:03 244  Throws exceptions:
14:32:03 245  APP_EXCEPTION_CODES_V18.UNKNOWN_ERROR
14:32:03 246  */
14:32:03 247  	in_paypal_id			IN NUMBER,
14:32:03 248  	in_account_id			IN NUMBER,
14:32:03 249  	in_instrument_name		IN VARCHAR2,
14:32:03 250  	in_private_email_address	IN VARCHAR2,
14:32:03 251  	in_created_by			IN VARCHAR2,
14:32:03 252  	in_create_date			IN DATE,
14:32:03 253  	in_paypal_status_id		IN NUMBER,
14:32:03 254  	in_paypal_prvt_street_address	IN VARCHAR2,
14:32:03 255  	in_paypal_prvt_street_address2	IN VARCHAR2,
14:32:03 256  	in_state			IN VARCHAR2,
14:32:03 257  	in_city 			IN VARCHAR2,
14:32:03 258  	in_postal_code			IN VARCHAR2,
14:32:03 259  	in_country			IN CHAR,
14:32:03 260  	in_expiration_date		IN DATE,
14:32:03 261  	in_system_activity_reason_id	IN NUMBER,
14:32:03 262  	in_secret_token 		IN VARCHAR2
14:32:03 263  ) AS
14:32:03 264  SPROC_NAME CONSTANT VARCHAR2(21) := 'CREATE_PAYPAL_HISTORY';
14:32:03 265  BEGIN
14:32:03 266  
14:32:03 267  	INSERT INTO PAYPAL_HISTORY(
14:32:03 268  	    PAYPAL_ID,
14:32:03 269  	    ACCOUNT_ID,
14:32:03 270  	    INSTRUMENT_NAME,
14:32:03 271  	    PRIVATE_EMAIL_ADDRESS,
14:32:03 272  	    CREATE_DATE,
14:32:03 273  	    CREATED_BY,
14:32:03 274  	    PAYPAL_STATUS_ID,
14:32:03 275  	    PRIVATE_STREET_ADDRESS,
14:32:03 276  	    PRIVATE_STREET_ADDRESS2,
14:32:03 277  	    STATE,
14:32:03 278  	    CITY,
14:32:03 279  	    POSTAL_CODE,
14:32:03 280  	    COUNTRY,
14:32:03 281  	    EXPIRATION_DATE,
14:32:03 282  	    SYSTEM_ACTIVITY_REASON_ID,
14:32:03 283  	    SECRET_TOKEN
14:32:03 284  	  ) VALUES (
14:32:03 285  	    in_paypal_id,
14:32:03 286  	    in_account_id,
14:32:03 287  	    in_instrument_name,
14:32:03 288  	    in_private_email_address,
14:32:03 289  	    in_create_date,
14:32:03 290  	    in_created_by,
14:32:03 291  	    in_paypal_status_id,
14:32:03 292  	    in_paypal_prvt_street_address,
14:32:03 293  	    in_paypal_prvt_street_address2,
14:32:03 294  	    in_state,
14:32:03 295  	    in_city,
14:32:03 296  	    in_postal_code,
14:32:03 297  	    in_country,
14:32:03 298  	    in_expiration_date,
14:32:03 299  	    in_system_activity_reason_id,
14:32:03 300  	    in_secret_token
14:32:03 301  	  );
14:32:03 302  
14:32:03 303  EXCEPTION
14:32:03 304  WHEN OTHERS THEN
14:32:03 305  	RAISE_APPLICATION_ERROR(CORE_OWNER.APP_EXCEPTION_CODES_V18.UNKNOWN_ERROR,
14:32:03 306  	  SPROC_NAME||': Unknown error: '||SQLERRM);
14:32:03 307  END;
14:32:03 308  
14:32:03 309  /******************************************************************************/
14:32:03 310  
14:32:03 311  PROCEDURE CREATE_TRANSACTION_HISTORY (
14:32:03 312  /*
14:32:03 313  Throws exceptions:
14:32:03 314  APP_EXCEPTION_CODES_V18.UNKNOWN_ERROR
14:32:03 315  */
14:32:03 316  	in_transaction_id	     IN TRANSACTION_HISTORY.TRANSACTION_ID%TYPE,
14:32:03 317  	in_transaction_status_id     IN TRANSACTION_HISTORY.TRANSACTION_STATUS_ID%TYPE,
14:32:03 318  	in_transaction_amount	     IN TRANSACTION_HISTORY.TRANSACTION_AMOUNT%TYPE,
14:32:03 319  	in_created_by		     IN TRANSACTION_HISTORY.CREATED_BY%TYPE,
14:32:03 320  	in_create_date		     IN TRANSACTION_HISTORY.CREATE_DATE%TYPE,
14:32:03 321  	in_system_activity_reason_id IN TRANSACTION_HISTORY.SYSTEM_ACTIVITY_REASON_ID%TYPE,
14:32:03 322  	in_order_id		     IN TRANSACTION_HISTORY.ORDER_ID%TYPE DEFAULT NULL,
14:32:03 323  	in_charge_id		     IN TRANSACTION_HISTORY.CHARGE_ID%TYPE DEFAULT NULL,
14:32:03 324  	in_is_refund		     IN TRANSACTION_HISTORY.IS_REFUND%TYPE DEFAULT NULL,
14:32:03 325  	in_is_settled		     IN TRANSACTION_HISTORY.IS_SETTLED%TYPE DEFAULT NULL,
14:32:03 326  	in_transaction_type_code     IN TRANSACTION_HISTORY.TRANSACTION_TYPE_CODE%TYPE DEFAULT NULL
14:32:03 327  ) AS
14:32:03 328  SPROC_NAME CONSTANT VARCHAR2(26) := 'CREATE_TRANSACTION_HISTORY';
14:32:03 329  BEGIN
14:32:03 330  
14:32:03 331  	INSERT INTO TRANSACTION_HISTORY (
14:32:03 332  	  TRANSACTION_ID,
14:32:03 333  	  TRANSACTION_STATUS_ID,
14:32:03 334  	  TRANSACTION_AMOUNT,
14:32:03 335  	  CREATE_DATE,
14:32:03 336  	  CREATED_BY,
14:32:03 337  	  ORDER_ID,
14:32:03 338  	  CHARGE_ID,
14:32:03 339  	  IS_REFUND,
14:32:03 340  	  IS_SETTLED,
14:32:03 341  	  TRANSACTION_TYPE_CODE,
14:32:03 342  	  SYSTEM_ACTIVITY_REASON_ID
14:32:03 343  	) VALUES (
14:32:03 344  	  in_transaction_id,
14:32:03 345  	  in_transaction_status_id,
14:32:03 346  	  in_transaction_amount,
14:32:03 347  	  in_create_date,
14:32:03 348  	  in_created_by,
14:32:03 349  	  in_order_id,
14:32:03 350  	  in_charge_id,
14:32:03 351  	  in_is_refund,
14:32:03 352  	  in_is_settled,
14:32:03 353  	  in_transaction_type_code,
14:32:03 354  	  in_system_activity_reason_id
14:32:03 355  	);
14:32:03 356  
14:32:03 357  EXCEPTION
14:32:03 358  WHEN OTHERS THEN
14:32:03 359  	RAISE_APPLICATION_ERROR(CORE_OWNER.APP_EXCEPTION_CODES_V18.UNKNOWN_ERROR,
14:32:03 360  	  SPROC_NAME||': Unknown error: '||SQLERRM);
14:32:03 361  END CREATE_TRANSACTION_HISTORY;
14:32:03 362  
14:32:03 363  /******************************************************************************/
14:32:03 364  
14:32:03 365  PROCEDURE CREATE_GIFT_CERT_HISTORY (
14:32:03 366  	in_gift_certificate_id	      IN NUMBER,
14:32:03 367  	in_purchaser_group_id	      IN NUMBER,
14:32:03 368  	in_purchase_invoice_id	      IN NUMBER,
14:32:03 369  	in_offer_chain_id	      IN NUMBER,
14:32:03 370  	in_expiration_date	      IN DATE,
14:32:03 371  	in_purchase_date	      IN DATE,
14:32:03 372  	in_gift_certificate_status_id IN NUMBER,
14:32:03 373  	in_code 		      IN VARCHAR2,
14:32:03 374  	in_created_by		      IN VARCHAR2,
14:32:03 375  	in_create_date		      IN DATE,
14:32:03 376  	in_system_activity_reason_id  IN NUMBER,
14:32:03 377  	in_recipient_name	      IN VARCHAR2,
14:32:03 378  	in_gift_message 	      IN VARCHAR2,
14:32:03 379  	in_recipient_email	      IN VARCHAR2,
14:32:03 380  	in_finalized_invoice_id       IN NUMBER,
14:32:03 381  	in_sender_email 	      IN VARCHAR2,
14:32:03 382  	in_sender_name		      IN VARCHAR2,
14:32:03 383  	in_redemption_date	      IN DATE,
14:32:03 384  	in_redeemer_group_id	      IN NUMBER,
14:32:03 385  	in_cancelation_date	      IN DATE,
14:32:03 386  	in_recipient_address_id       IN NUMBER,
14:32:03 387  	in_redeemer_address_id	      IN NUMBER,
14:32:03 388  	in_recipient_notify_date      IN DATE
14:32:03 389  ) AS
14:32:03 390  SPROC_NAME CONSTANT VARCHAR2(24) := 'CREATE_GIFT_CERT_HISTORY';
14:32:03 391  BEGIN
14:32:03 392  
14:32:03 393  	INSERT INTO GIFT_CERTIFICATE_HISTORY (
14:32:03 394  	  GIFT_CERTIFICATE_ID,
14:32:03 395  	  PURCHASER_GROUP_ID,
14:32:03 396  	  PURCHASE_INVOICE_ID,
14:32:03 397  	  OFFER_CHAIN_ID,
14:32:03 398  	  EXPIRATION_DATE,
14:32:03 399  	  PURCHASE_DATE,
14:32:03 400  	  GIFT_CERTIFICATE_STATUS_ID,
14:32:03 401  	  CODE,
14:32:03 402  	  CREATE_DATE,
14:32:03 403  	  CREATED_BY,
14:32:03 404  	  SYSTEM_ACTIVITY_REASON_ID,
14:32:03 405  	  RECIPIENT_NAME,
14:32:03 406  	  GIFT_MESSAGE,
14:32:03 407  	  RECIPIENT_EMAIL,
14:32:03 408  	  FINALIZED_INVOICE_ID,
14:32:03 409  	  SENDER_EMAIL,
14:32:03 410  	  SENDER_NAME,
14:32:03 411  	  REDEMPTION_DATE,
14:32:03 412  	  REDEEMER_GROUP_ID,
14:32:03 413  	  CANCELATION_DATE,
14:32:03 414  	  RECIPIENT_ADDRESS_ID,
14:32:03 415  	  REDEEMER_ADDRESS_ID,
14:32:03 416  	  RECIPIENT_NOTIFY_DATE
14:32:03 417  	) VALUES (
14:32:03 418  	  in_gift_certificate_id,
14:32:03 419  	  in_purchaser_group_id,
14:32:03 420  	  in_purchase_invoice_id,
14:32:03 421  	  in_offer_chain_id,
14:32:03 422  	  in_expiration_date,
14:32:03 423  	  in_purchase_date,
14:32:03 424  	  in_gift_certificate_status_id,
14:32:03 425  	  in_code,
14:32:03 426  	  in_create_date,
14:32:03 427  	  in_created_by,
14:32:03 428  	  in_system_activity_reason_id,
14:32:03 429  	  in_recipient_name,
14:32:03 430  	  in_gift_message,
14:32:03 431  	  in_recipient_email,
14:32:03 432  	  in_finalized_invoice_id,
14:32:03 433  	  in_sender_email,
14:32:03 434  	  in_sender_name,
14:32:03 435  	  in_redemption_date,
14:32:03 436  	  in_redeemer_group_id,
14:32:03 437  	  in_cancelation_date,
14:32:03 438  	  in_recipient_address_id,
14:32:03 439  	  in_redeemer_address_id,
14:32:03 440  	  in_recipient_notify_date
14:32:03 441  	);
14:32:03 442  
14:32:03 443  EXCEPTION
14:32:03 444  WHEN OTHERS THEN
14:32:03 445  	RAISE_APPLICATION_ERROR(CORE_OWNER.APP_EXCEPTION_CODES_V18.UNKNOWN_ERROR,
14:32:03 446  	  SPROC_NAME||': Unknown error: '||SQLERRM);
14:32:03 447  END CREATE_GIFT_CERT_HISTORY;
14:32:03 448  
14:32:03 449  /******************************************************************************/
14:32:03 450  
14:32:03 451  PROCEDURE CREATE_INVOICE_HISTORY (
14:32:03 452  	in_invoice_id		     IN NUMBER,
14:32:03 453  	in_invoice_status_id	     IN NUMBER,
14:32:03 454  	in_created_by		     IN VARCHAR2,
14:32:03 455  	in_create_date		     IN DATE,
14:32:03 456  	in_system_activity_reason_id IN NUMBER
14:32:03 457  ) AS
14:32:03 458  SPROC_NAME CONSTANT VARCHAR2(22) := 'CREATE_INVOICE_HISTORY';
14:32:03 459  BEGIN
14:32:03 460  
14:32:03 461  	INSERT INTO INVOICE_HISTORY (
14:32:03 462  	  INVOICE_ID,
14:32:03 463  	  INVOICE_STATUS_ID,
14:32:03 464  	  CREATE_DATE,
14:32:03 465  	  CREATED_BY,
14:32:03 466  	  SYSTEM_ACTIVITY_REASON_ID
14:32:03 467  	) VALUES (
14:32:03 468  	  in_invoice_id,
14:32:03 469  	  in_invoice_status_id,
14:32:03 470  	  in_create_date,
14:32:03 471  	  in_created_by,
14:32:03 472  	  in_system_activity_reason_id
14:32:03 473  	);
14:32:03 474  
14:32:03 475  EXCEPTION
14:32:03 476  WHEN OTHERS THEN
14:32:03 477  	RAISE_APPLICATION_ERROR(CORE_OWNER.APP_EXCEPTION_CODES_V18.UNKNOWN_ERROR,
14:32:03 478  	  SPROC_NAME||': Unknown error: '||SQLERRM);
14:32:03 479  END CREATE_INVOICE_HISTORY;
14:32:03 480  
14:32:03 481  /******************************************************************************/
14:32:03 482  
14:32:03 483  PROCEDURE CREATE_LICENSE_HISTORY (
14:32:03 484  /*
14:32:03 485  Throws exceptions:
14:32:03 486  APP_EXCEPTION_CODES_V18.UNKNOWN_ERROR
14:32:03 487  */
14:32:03 488  	in_license_id		     IN NUMBER,
14:32:03 489  	in_license_status_id	     IN NUMBER,
14:32:03 490  	in_needs_entitlements	     IN NUMBER,
14:32:03 491  	in_start_date		     IN DATE,
14:32:03 492  	in_offer_id		     IN NUMBER,
14:32:03 493  	in_subscription_id	     IN NUMBER,
14:32:03 494  	in_invoice_id		     IN NUMBER,
14:32:03 495  	in_end_date		     IN DATE,
14:32:03 496  	in_created_by		     IN VARCHAR2,
14:32:03 497  	in_create_date		     IN DATE,
14:32:03 498  	in_is_extension 	     IN NUMBER,
14:32:03 499  	in_current_offer_index	     IN NUMBER,
14:32:03 500  	in_current_offer_recurr_num  IN NUMBER,
14:32:03 501  	in_system_activity_reason_id IN NUMBER,
14:32:03 502  	in_entitlement_end_date      IN DATE,
14:32:03 503  	in_grace_start_date	     IN DATE,
14:32:03 504  	in_grace_end_date	     IN DATE
14:32:03 505  ) AS
14:32:03 506  SPROC_NAME CONSTANT VARCHAR2(22) := 'CREATE_LICENSE_HISTORY';
14:32:03 507  BEGIN
14:32:03 508  
14:32:03 509  	INSERT INTO LICENSE_HISTORY (
14:32:03 510  	  LICENSE_ID,
14:32:03 511  	  LICENSE_STATUS_ID,
14:32:03 512  	  START_DATE,
14:32:03 513  	  OFFER_ID,
14:32:03 514  	  SUBSCRIPTION_ID,
14:32:03 515  	  INVOICE_ID,
14:32:03 516  	  END_DATE,
14:32:03 517  	  CREATE_DATE,
14:32:03 518  	  CREATED_BY,
14:32:03 519  	  IS_EXTENSION,
14:32:03 520  	  CURRENT_OFFER_INDEX,
14:32:03 521  	  CURRENT_OFFER_RECURR_NUM,
14:32:03 522  	  SYSTEM_ACTIVITY_REASON_ID,
14:32:03 523  	  NEEDS_ENTITLEMENTS,
14:32:03 524  	  ENTITLEMENT_END_DATE,
14:32:03 525  	  GRACE_START_DATE,
14:32:03 526  	  GRACE_END_DATE
14:32:03 527  	) VALUES (
14:32:03 528  	  in_license_id,
14:32:03 529  	  in_license_status_id,
14:32:03 530  	  in_start_date,
14:32:03 531  	  in_offer_id,
14:32:03 532  	  in_subscription_id,
14:32:03 533  	  in_invoice_id,
14:32:03 534  	  in_end_date,
14:32:03 535  	  in_create_date,
14:32:03 536  	  in_created_by,
14:32:03 537  	  in_is_extension,
14:32:03 538  	  in_current_offer_index,
14:32:03 539  	  in_current_offer_recurr_num,
14:32:03 540  	  in_system_activity_reason_id,
14:32:03 541  	  in_needs_entitlements,
14:32:03 542  	  in_entitlement_end_date,
14:32:03 543  	  in_grace_start_date,
14:32:03 544  	  in_grace_end_date
14:32:03 545  	);
14:32:03 546  
14:32:03 547  EXCEPTION
14:32:03 548  WHEN OTHERS THEN
14:32:03 549  	RAISE_APPLICATION_ERROR(CORE_OWNER.APP_EXCEPTION_CODES_V18.UNKNOWN_ERROR,
14:32:03 550  	  SPROC_NAME||': Unknown error: '||SQLERRM);
14:32:03 551  END CREATE_LICENSE_HISTORY;
14:32:03 552  
14:32:03 553  /******************************************************************************/
14:32:03 554  
14:32:03 555  PROCEDURE CREATE_CHARGE_HISTORY (
14:32:03 556  /*
14:32:03 557  Throws exceptions:
14:32:03 558  APP_EXCEPTION_CODES_V18.UNKNOWN_ERROR
14:32:03 559  */
14:32:03 560  	in_charge_id		     IN NUMBER,
14:32:03 561  	in_invoice_id		     IN NUMBER,
14:32:03 562  	in_transaction_id	     IN NUMBER,
14:32:03 563  	in_instrument_type_id	     IN NUMBER,
14:32:03 564  	in_instrument_id	     IN NUMBER,
14:32:03 565  	in_charge_amount	     IN NUMBER,
14:32:03 566  	in_created_by		     IN VARCHAR2,
14:32:03 567  	in_create_date		     IN DATE,
14:32:03 568  	in_charge_status_id	     IN NUMBER,
14:32:03 569  	in_system_activity_reason_id IN NUMBER
14:32:03 570  ) AS
14:32:03 571  SPROC_NAME CONSTANT VARCHAR2(21) := 'CREATE_CHARGE_HISTORY';
14:32:03 572  BEGIN
14:32:03 573  
14:32:03 574  	INSERT INTO CHARGE_HISTORY (
14:32:03 575  	  CHARGE_ID,
14:32:03 576  	  INVOICE_ID,
14:32:03 577  	  TRANSACTION_ID,
14:32:03 578  	  INSTRUMENT_TYPE_ID,
14:32:03 579  	  INSTRUMENT_ID,
14:32:03 580  	  CHARGE_AMOUNT,
14:32:03 581  	  CREATE_DATE,
14:32:03 582  	  CREATED_BY,
14:32:03 583  	  CHARGE_STATUS_ID,
14:32:03 584  	  SYSTEM_ACTIVITY_REASON_ID
14:32:03 585  	) VALUES (
14:32:03 586  	  in_charge_id,
14:32:03 587  	  in_invoice_id,
14:32:03 588  	  in_transaction_id,
14:32:03 589  	  in_instrument_type_id,
14:32:03 590  	  in_instrument_id,
14:32:03 591  	  in_charge_amount,
14:32:03 592  	  in_create_date,
14:32:03 593  	  in_created_by,
14:32:03 594  	  in_charge_status_id,
14:32:03 595  	  in_system_activity_reason_id
14:32:03 596  	);
14:32:03 597  
14:32:03 598  EXCEPTION
14:32:03 599  WHEN OTHERS THEN
14:32:03 600  	RAISE_APPLICATION_ERROR(CORE_OWNER.APP_EXCEPTION_CODES_V18.UNKNOWN_ERROR,
14:32:03 601  	  SPROC_NAME||': Unknown error: '||SQLERRM);
14:32:03 602  END;
14:32:03 603  
14:32:03 604  
14:32:03 605  PROCEDURE CREATE_ITUNES_RECEIPT_HISTORY (
14:32:03 606  /*
14:32:03 607  Throws exceptions:
14:32:03 608  APP_EXCEPTION_CODES_V18.UNKNOWN_ERROR
14:32:03 609  */
14:32:03 610  /*
14:32:03 611  CREATE TABLE ITUNES_RECEIPT (
14:32:03 612  	id NUMBER NOT NULL ENABLE,
14:32:03 613  	subscription_id NUMBER NOT NULL ENABLE,
14:32:03 614  	receipt VARCHAR(1024) NOT NULL ENABLE,
14:32:03 615  	status NUMBER,
14:32:03 616  	quantity NUMBER,
14:32:03 617  	product_id VARCHAR(1024),
14:32:03 618  	transaction_id VARCHAR(1024),
14:32:03 619  	purchase_date TIMESTAMP,
14:32:03 620  	original_transaction_id VARCHAR(1024),
14:32:03 621  	app_item_id VARCHAR(1024),
14:32:03 622  	version_external_id NUMBER,
14:32:03 623  	bid VARCHAR(1024),
14:32:03 624  	bvrs VARCHAR(255),
14:32:03 625  	expires_date TIMESTAMP,
14:32:03 626  	create_date DATE NOT NULL,
14:32:03 627  	created_by VARCHAR(255) NOT NULL,
14:32:03 628  	update_date DATE NOT NULL,
14:32:03 629  	updated_by VARCHAR(255) NOT NULL,
14:32:03 630  	last_check_date DATE NOT NULL,
14:32:03 631  	CONSTRAINT "ITUNESRECEIPT_PK" PRIMARY KEY ("ID") USING INDEX TABLESPACE "CORE_IDX" ENABLE,
14:32:03 632  	CONSTRAINT "ITUNESRECEIPT_SUBID_FK" FOREIGN KEY ("SUBSCRIPTION_ID") REFERENCES SUBSCRIPTION(ID) USING INDEX TABLESPACE "CORE_IDX" ENABLE,
14:32:03 633  	CONSTRAINT "ITUNESRECEIPT_RECEIPT_UK" UNIQUE(receipt) USING INDEX TABLESPACE "CORE_IDX" ENABLE,
14:32:03 634  	CONSTRAINT "ITUNESRECEIPT_SUBID_UK" UNIQUE(subscription_id) USING INDEX TABLESPACE "CORE_IDX" ENABLE
14:32:03 635  )
14:32:03 636  TABLESPACE CORE;
14:32:03 637  */
14:32:03 638  	in_id		    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.ID%TYPE,
14:32:03 639  	in_subscription_id  IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.SUBSCRIPTION_ID%TYPE,
14:32:03 640  	in_receipt	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.RECEIPT%TYPE,
14:32:03 641  	in_status	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.STATUS%TYPE,
14:32:03 642  	in_quantity	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.QUANTITY%TYPE,
14:32:03 643  	in_product_id	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.PRODUCT_ID%TYPE,
14:32:03 644  	in_transaction_id   IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.TRANSACTION_ID%TYPE,
14:32:03 645  	in_purchase_date    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.PURCHASE_DATE%TYPE,
14:32:03 646  	in_original_transaction_id IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.ORIGINAL_TRANSACTION_ID%TYPE,
14:32:03 647  	in_original_purchase_date IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.ORIGINAL_PURCHASE_DATE%TYPE,
14:32:03 648  	in_app_item_id	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.APP_ITEM_ID%TYPE,
14:32:03 649  	in_version_external_id IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.VERSION_EXTERNAL_ID%TYPE,
14:32:03 650  	in_bid		    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.BID%TYPE,
14:32:03 651  	in_bvrs 	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.BVRS%TYPE,
14:32:03 652  	in_expires_date     IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.EXPIRES_DATE%TYPE,
14:32:03 653  	in_create_date	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.CREATE_DATE%TYPE,
14:32:03 654  	in_created_by	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.CREATED_BY%TYPE,
14:32:03 655  	in_update_date	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.UPDATE_DATE%TYPE,
14:32:03 656  	in_updated_by	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.UPDATED_BY%TYPE,
14:32:03 657  	in_last_check_date  IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.LAST_CHECK_DATE%TYPE,
14:32:03 658  	in_cancel_date	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.CANCEL_DATE%TYPE
14:32:03 659  ) AS
14:32:03 660  BEGIN
14:32:03 661  	INSERT INTO CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY
14:32:03 662  	(
14:32:03 663  	      id,
14:32:03 664  	      subscription_id,
14:32:03 665  	      receipt,
14:32:03 666  	      status,
14:32:03 667  	      quantity,
14:32:03 668  	      product_id,
14:32:03 669  	      transaction_id,
14:32:03 670  	      purchase_date,
14:32:03 671  	      original_transaction_id,
14:32:03 672  	      original_purchase_date,
14:32:03 673  	      app_item_id,
14:32:03 674  	      version_external_id,
14:32:03 675  	      bid,
14:32:03 676  	      bvrs,
14:32:03 677  	      expires_date,
14:32:03 678  	      create_date,
14:32:03 679  	      created_by,
14:32:03 680  	      update_date,
14:32:03 681  	      updated_by,
14:32:03 682  	      last_check_date,
14:32:03 683  	      cancel_date,
14:32:03 684  	      history_date
14:32:03 685  	)
14:32:03 686  	VALUES
14:32:03 687  	(
14:32:03 688  	      in_id,
14:32:03 689  	      in_subscription_id,
14:32:03 690  	      in_receipt,
14:32:03 691  	      in_status,
14:32:03 692  	      in_quantity,
14:32:03 693  	      in_product_id,
14:32:03 694  	      in_transaction_id,
14:32:03 695  	      in_purchase_date,
14:32:03 696  	      in_original_transaction_id,
14:32:03 697  	      in_original_purchase_date,
14:32:03 698  	      in_app_item_id,
14:32:03 699  	      in_version_external_id,
14:32:03 700  	      in_bid,
14:32:03 701  	      in_bvrs,
14:32:03 702  	      in_expires_date,
14:32:03 703  	      in_create_date,
14:32:03 704  	      in_created_by,
14:32:03 705  	      in_update_date,
14:32:03 706  	      in_updated_by,
14:32:03 707  	      in_last_check_date,
14:32:03 708  	      in_cancel_date,
14:32:03 709  	      sysdate
14:32:03 710  	);
14:32:03 711  END CREATE_ITUNES_RECEIPT_HISTORY;
14:32:03 712  
14:32:03 713  PROCEDURE CREATE_NOTIFICATION_HISTORY (
14:32:03 714  /*
14:32:03 715  Throws exceptions:
14:32:03 716  APP_EXCEPTION_CODES_V18.UNKNOWN_ERROR
14:32:03 717  */
14:32:03 718  	in_notification_id	      IN NUMBER,
14:32:03 719  	in_account_id		      IN NUMBER,
14:32:03 720  	in_group_id		      IN NUMBER,
14:32:03 721  	notification_reason_type_id   IN NUMBER,
14:32:03 722  	notification_status_id	      IN NUMBER,
14:32:03 723  	email_template_params	      IN CLOB,
14:32:03 724  	in_create_date		      IN DATE,
14:32:03 725  	in_date_to_notify	      IN DATE
14:32:03 726  ) AS
14:32:03 727  	SPROC_NAME CONSTANT VARCHAR2(27) := 'CREATE_NOTIFICATION_HISTORY';
14:32:03 728  BEGIN
14:32:03 729  
14:32:03 730  	 INSERT INTO NOTIFICATION_HISTORY (
14:32:03 731  		ID,
14:32:03 732  		NOTIFICATION_ID,
14:32:03 733  		ACCOUNT_ID,
14:32:03 734  		GROUP_ID,
14:32:03 735  		NOTIFICATION_REASON_TYPE_ID,
14:32:03 736  		NOTIFICATION_STATUS_ID,
14:32:03 737  		EMAIL_TEMPLATE_PARAMS,
14:32:03 738  		CREATE_DATE,
14:32:03 739  		UPDATE_DATE,
14:32:03 740  		DATE_TO_NOTIFY
14:32:03 741  	) VALUES (
14:32:03 742  		not_hist_pk_seq.nextval,
14:32:03 743  		in_notification_id,
14:32:03 744  		in_account_id,
14:32:03 745  		in_group_id,
14:32:03 746  		notification_reason_type_id,
14:32:03 747  		notification_status_id,
14:32:03 748  		email_template_params,
14:32:03 749  		in_create_date,
14:32:03 750  		sysdate,
14:32:03 751  		in_date_to_notify
14:32:03 752  	);
14:32:03 753  
14:32:03 754  EXCEPTION
14:32:03 755  WHEN OTHERS THEN
14:32:03 756  	RAISE_APPLICATION_ERROR(CORE_OWNER.APP_EXCEPTION_CODES_V18.UNKNOWN_ERROR,
14:32:03 757  		SPROC_NAME||': Unknown error: '||SQLERRM);
14:32:03 758  END CREATE_NOTIFICATION_HISTORY;
14:32:03 759  
14:32:03 760  /******************************************************************************/
14:32:03 761  
14:32:03 762  PROCEDURE CREATE_NOTIF_FAILURE_HISTORY (
14:32:03 763  /*
14:32:03 764  Throws exceptions:
14:32:03 765  APP_EXCEPTION_CODES_V18.UNKNOWN_ERROR
14:32:03 766  */
14:32:03 767  	in_error_messgae	 IN VARCHAR2,
14:32:03 768  	in_notification_id IN NUMBER,
14:32:03 769  	in_create_date		 IN DATE
14:32:03 770  ) AS
14:32:03 771  	SPROC_NAME CONSTANT VARCHAR2(28) := 'CREATE_NOTIF_FAILURE_HISTORY';
14:32:03 772  BEGIN
14:32:03 773  
14:32:03 774  	INSERT INTO NOTIFICATION_FAILURE_HISTORY (
14:32:03 775  		ERROR_MESSAGE,
14:32:03 776  		NOTIFICATION_ID,
14:32:03 777  		CREATE_DATE,
14:32:03 778  		UPDATE_DATE
14:32:03 779  	) VALUES (
14:32:03 780  		in_error_messgae,
14:32:03 781  		in_notification_id,
14:32:03 782  		in_create_date,
14:32:03 783  		sysdate
14:32:03 784  	);
14:32:03 785  
14:32:03 786  EXCEPTION
14:32:03 787  WHEN OTHERS THEN
14:32:03 788  	RAISE_APPLICATION_ERROR(CORE_OWNER.APP_EXCEPTION_CODES_V18.UNKNOWN_ERROR,
14:32:03 789  		SPROC_NAME||': Unknown error: '||SQLERRM);
14:32:03 790  END CREATE_NOTIF_FAILURE_HISTORY;
14:32:03 791  
14:32:03 792  PROCEDURE CREATE_INVOICE_ADJ_HISTORY (
14:32:03 793  /*
14:32:03 794  Throws exceptions:
14:32:03 795  APP_EXCEPTION_CODES_V18.UNKNOWN_ERROR
14:32:03 796  */
14:32:03 797  	in_invoice_adjustment_id     IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.INVOICE_ADJUSTMENT_ID%TYPE,
14:32:03 798  	in_invoice_id		     IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.INVOICE_ID%TYPE,
14:32:03 799  	in_is_credit		     IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.IS_CREDIT%TYPE,
14:32:03 800  	in_charge_id		     IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.CHARGE_ID%TYPE,
14:32:03 801  	in_adjustment_date	     IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.ADJUSTMENT_DATE%TYPE,
14:32:03 802  	in_create_date		     IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.CREATE_DATE%TYPE,
14:32:03 803  	in_created_by		     IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.CREATED_BY%TYPE,
14:32:03 804  	in_invoice_adj_reason_id	       IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.INVOICE_ADJUSTMENT_REASON_ID%TYPE,
14:32:03 805  	in_update_date		      IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.UPDATE_DATE%TYPE,
14:32:03 806  	in_updated_by		     IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.UPDATED_BY%TYPE
14:32:03 807  )
14:32:03 808  AS
14:32:03 809  SPROC_NAME CONSTANT VARCHAR2(32) := 'CREATE_INVOICE_ADJ_HISTORY';
14:32:03 810  BEGIN
14:32:03 811  	INSERT INTO CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY
14:32:03 812  	(
14:32:03 813  	   INVOICE_ADJUSTMENT_ID,
14:32:03 814  	   INVOICE_ID,
14:32:03 815  	   IS_CREDIT,
14:32:03 816  	   CHARGE_ID,
14:32:03 817  	   ADJUSTMENT_DATE,
14:32:03 818  	   CREATE_DATE,
14:32:03 819  	   CREATED_BY,
14:32:03 820  	   INVOICE_ADJUSTMENT_REASON_ID,
14:32:03 821  	   UPDATE_DATE,
14:32:03 822  	   UPDATED_BY
14:32:03 823  	)
14:32:03 824  	VALUES
14:32:03 825  	(
14:32:03 826  	    in_invoice_adjustment_id,
14:32:03 827  	    in_invoice_id,
14:32:03 828  	    in_is_credit,
14:32:03 829  	    in_charge_id,
14:32:03 830  	    in_adjustment_date,
14:32:03 831  	    in_create_date,
14:32:03 832  	    in_created_by,
14:32:03 833  	    in_invoice_adj_reason_id,
14:32:03 834  	    in_update_date,
14:32:03 835  	    in_updated_by
14:32:03 836  	);
14:32:03 837  
14:32:03 838  EXCEPTION
14:32:03 839  	WHEN OTHERS THEN
14:32:03 840  	  RAISE_APPLICATION_ERROR(CORE_OWNER.APP_EXCEPTION_CODES_V18.UNKNOWN_ERROR,
14:32:03 841  	    SPROC_NAME||': Unknown error: '||SQLERRM);
14:32:03 842  END CREATE_INVOICE_ADJ_HISTORY;
14:32:03 843  
14:32:03 844  END PROCS_HISTORY_V18;
14:32:03 845  .
14:32:03 SQL> /

Package body created.

Elapsed: 00:00:00.26
14:32:03 SQL> 
14:32:03 SQL> --------------------------------------------------------------------------------
14:32:03 SQL> -- DDL for package PUBLIC_PROCS_CORE
14:32:03 SQL> --------------------------------------------------------------------------------
14:32:03 SQL> 
14:32:03 SQL> CREATE OR REPLACE PACKAGE "PUBLIC_PROCS_CORE_V18" AS
14:32:03   2  
14:32:03   3  PROCEDURE CREATE_ADDRESS_HISTORY (
14:32:03   4  /*
14:32:03   5  Throws exceptions:
14:32:03   6  APP_EXCEPTION_CODES_V18.UNKNOWN_ERROR
14:32:03   7  */
14:32:03   8  	in_address_id		      IN ADDRESS_HISTORY.ADDRESS_ID%TYPE,
14:32:03   9  	in_system_activity_reason_id  IN ADDRESS_HISTORY.SYSTEM_ACTIVITY_REASON_ID%TYPE,
14:32:03  10  	in_address1		      IN ADDRESS_HISTORY.ADDRESS1%TYPE,
14:32:03  11  	in_address2		      IN ADDRESS_HISTORY.ADDRESS2%TYPE,
14:32:03  12  	in_city 		      IN ADDRESS_HISTORY.CITY%TYPE,
14:32:03  13  	in_state		      IN ADDRESS_HISTORY.STATE%TYPE,
14:32:03  14  	in_postal_code		      IN ADDRESS_HISTORY.POSTAL_CODE%TYPE,
14:32:03  15  	in_country		      IN ADDRESS_HISTORY.COUNTRY%TYPE,
14:32:03  16  	in_created_by		      IN ADDRESS_HISTORY.CREATED_BY%TYPE,
14:32:03  17  	in_create_date		      IN ADDRESS_HISTORY.CREATE_DATE%TYPE,
14:32:03  18  	in_updated_by		      IN ADDRESS_HISTORY.UPDATED_BY%TYPE,
14:32:03  19  	in_update_date		      IN ADDRESS_HISTORY.UPDATE_DATE%TYPE
14:32:03  20  );
14:32:03  21  
14:32:03  22  PROCEDURE CREATE_ACCOUNT_HISTORY (
14:32:03  23  /*
14:32:03  24  Throws exceptions:
14:32:03  25  APP_EXCEPTION_CODES_V18.UNKNOWN_ERROR
14:32:03  26  */
14:32:03  27  	in_account_id		      IN NUMBER,
14:32:03  28  	in_suspend_date 	      IN DATE,
14:32:03  29  	in_group_id		      IN NUMBER,
14:32:03  30  	in_created_by		      IN VARCHAR2,
14:32:03  31  	in_create_date		      IN DATE,
14:32:03  32  	in_system_activity_reason_id  IN NUMBER,
14:32:03  33  	in_account_status_id	      IN NUMBER,
14:32:03  34  	in_instrument_type_id	      IN NUMBER,
14:32:03  35  	in_instrument_id	      IN NUMBER
14:32:03  36  );
14:32:03  37  
14:32:03  38  PROCEDURE CREATE_SUBSCRIPTION_HISTORY (
14:32:03  39  /*
14:32:03  40  Throws exceptions:
14:32:03  41  APP_EXCEPTION_CODES_V18.UNKNOWN_ERROR
14:32:03  42  */
14:32:03  43  	in_subscription_id	     IN  NUMBER,
14:32:03  44  	in_account_id		     IN NUMBER,
14:32:03  45  	in_purchase_date	     IN DATE,
14:32:03  46  	in_offer_chain_id	     IN NUMBER,
14:32:03  47  	in_suspend_date 	     IN DATE,
14:32:03  48  	in_termination_date	     IN DATE,
14:32:03  49  	in_days_remaining_adjustment IN NUMBER,
14:32:03  50  	in_cancellation_type_id      IN NUMBER,
14:32:03  51  	in_created_by		     IN  VARCHAR2,
14:32:03  52  	in_create_date		     IN DATE,
14:32:03  53  	in_system_activity_reason_id IN  NUMBER
14:32:03  54  );
14:32:03  55  
14:32:03  56  PROCEDURE CREATE_CREDIT_CARD_HISTORY (
14:32:03  57  /*
14:32:03  58  Throws exceptions:
14:32:03  59  APP_EXCEPTION_CODES_V18.UNKNOWN_ERROR
14:32:03  60  */
14:32:03  61  	in_credit_card_id	      IN  NUMBER,
14:32:03  62  	in_account_id		      IN NUMBER,
14:32:03  63  	in_instrument_name	      IN VARCHAR2,
14:32:03  64  	in_private_card_holder_name   IN VARCHAR2,
14:32:03  65  	in_private_street_address     IN VARCHAR2,
14:32:03  66  	in_private_street_address2    IN VARCHAR2,
14:32:03  67  	in_state		      IN VARCHAR2,
14:32:03  68  	in_city 		      IN VARCHAR2,
14:32:03  69  	in_postal_code		      IN VARCHAR2,
14:32:03  70  	in_country		      IN CHAR,
14:32:03  71  	in_last_four_cc 	      IN VARCHAR2,
14:32:03  72  	in_expiration_date	      IN DATE,
14:32:03  73  	in_credit_card_type_id	      IN NUMBER,
14:32:03  74  	in_secret_token 	      IN VARCHAR2,
14:32:03  75  	in_chase_profile_id	      IN VARCHAR2,
14:32:03  76  	in_credit_card_status_id      IN NUMBER,
14:32:03  77  	in_created_by		      IN  VARCHAR2,
14:32:03  78  	in_create_date		      IN DATE,
14:32:03  79  	in_system_activity_reason_id  IN  NUMBER
14:32:03  80  );
14:32:03  81  
14:32:03  82  PROCEDURE CREATE_PAYPAL_HISTORY (
14:32:03  83  /*
14:32:03  84  Throws exceptions:
14:32:03  85  APP_EXCEPTION_CODES_V18.UNKNOWN_ERROR
14:32:03  86  */
14:32:03  87  	in_paypal_id			IN NUMBER,
14:32:03  88  	in_account_id			IN NUMBER,
14:32:03  89  	in_instrument_name		IN VARCHAR2,
14:32:03  90  	in_private_email_address	IN VARCHAR2,
14:32:03  91  	in_created_by			IN VARCHAR2,
14:32:03  92  	in_create_date			IN DATE,
14:32:03  93  	in_paypal_status_id		IN NUMBER,
14:32:03  94  	in_paypal_prvt_street_address	IN VARCHAR2,
14:32:03  95  	in_paypal_prvt_street_address2	IN VARCHAR2,
14:32:03  96  	in_state			IN VARCHAR2,
14:32:03  97  	in_city 			IN VARCHAR2,
14:32:03  98  	in_postal_code			IN VARCHAR2,
14:32:03  99  	in_country			IN CHAR,
14:32:03 100  	in_expiration_date		IN DATE,
14:32:03 101  	in_system_activity_reason_id	IN NUMBER,
14:32:03 102  	in_secret_token 		IN VARCHAR2
14:32:03 103  );
14:32:03 104  
14:32:03 105  PROCEDURE CREATE_TRANSACTION_HISTORY (
14:32:03 106  /*
14:32:03 107  Throws exceptions:
14:32:03 108  APP_EXCEPTION_CODES_V18.UNKNOWN_ERROR
14:32:03 109  */
14:32:03 110  	in_transaction_id	     IN TRANSACTION_HISTORY.TRANSACTION_ID%TYPE,
14:32:03 111  	in_transaction_status_id     IN TRANSACTION_HISTORY.TRANSACTION_STATUS_ID%TYPE,
14:32:03 112  	in_transaction_amount	     IN TRANSACTION_HISTORY.TRANSACTION_AMOUNT%TYPE,
14:32:03 113  	in_created_by		     IN TRANSACTION_HISTORY.CREATED_BY%TYPE,
14:32:03 114  	in_create_date		     IN TRANSACTION_HISTORY.CREATE_DATE%TYPE,
14:32:03 115  	in_order_id		     IN TRANSACTION_HISTORY.ORDER_ID%TYPE,
14:32:03 116  	in_charge_id		     IN TRANSACTION_HISTORY.CHARGE_ID%TYPE,
14:32:03 117  	in_is_refund		     IN TRANSACTION_HISTORY.IS_REFUND%TYPE,
14:32:03 118  	in_is_settled		     IN TRANSACTION_HISTORY.IS_SETTLED%TYPE,
14:32:03 119  	in_transaction_type_code     IN TRANSACTION_HISTORY.TRANSACTION_TYPE_CODE%TYPE,
14:32:03 120  	in_system_activity_reason_id IN NUMBER
14:32:03 121  );
14:32:03 122  
14:32:03 123  PROCEDURE CREATE_GIFT_CERT_HISTORY (
14:32:03 124  	in_gift_certificate_id	      IN NUMBER,
14:32:03 125  	in_purchaser_group_id	      IN NUMBER,
14:32:03 126  	in_purchase_invoice_id	      IN NUMBER,
14:32:03 127  	in_offer_chain_id	      IN NUMBER,
14:32:03 128  	in_expiration_date	      IN DATE,
14:32:03 129  	in_purchase_date	      IN DATE,
14:32:03 130  	in_gift_certificate_status_id IN NUMBER,
14:32:03 131  	in_code 		      IN VARCHAR2,
14:32:03 132  	in_created_by		      IN VARCHAR2,
14:32:03 133  	in_create_date		      IN DATE,
14:32:03 134  	in_system_activity_reason_id  IN NUMBER,
14:32:03 135  	in_recipient_name	      IN VARCHAR2,
14:32:03 136  	in_gift_message 	      IN VARCHAR2,
14:32:03 137  	in_recipient_email	      IN VARCHAR2,
14:32:03 138  	in_finalized_invoice_id       IN NUMBER,
14:32:03 139  	in_sender_email 	      IN VARCHAR2,
14:32:03 140  	in_sender_name		      IN VARCHAR2,
14:32:03 141  	in_redemption_date	      IN DATE,
14:32:03 142  	in_redeemer_group_id	      IN NUMBER,
14:32:03 143  	in_cancelation_date	      IN DATE,
14:32:03 144  	in_recipient_address_id       IN NUMBER,
14:32:03 145  	in_redeemer_address_id	      IN NUMBER,
14:32:03 146  	in_recipient_notify_date      IN DATE
14:32:03 147  );
14:32:03 148  
14:32:03 149  PROCEDURE CREATE_INVOICE_HISTORY (
14:32:03 150  /*
14:32:03 151  Throws exceptions:
14:32:03 152  APP_EXCEPTION_CODES_V18.UNKNOWN_ERROR
14:32:03 153  */
14:32:03 154  	in_invoice_id		     IN NUMBER,
14:32:03 155  	in_invoice_status_id	     IN NUMBER,
14:32:03 156  	in_created_by		     IN VARCHAR2,
14:32:03 157  	in_create_date		     IN DATE,
14:32:03 158  	in_system_activity_reason_id IN NUMBER
14:32:03 159  );
14:32:03 160  
14:32:03 161  PROCEDURE CREATE_LICENSE_HISTORY (
14:32:03 162  /*
14:32:03 163  Throws exceptions:
14:32:03 164  APP_EXCEPTION_CODES_V18.UNKNOWN_ERROR
14:32:03 165  */
14:32:03 166  	in_license_id		    IN NUMBER,
14:32:03 167  	in_license_status_id	    IN NUMBER,
14:32:03 168  	in_needs_entitlements	    IN NUMBER,
14:32:03 169  	in_start_date		    IN DATE,
14:32:03 170  	in_offer_id		    IN NUMBER,
14:32:03 171  	in_subscription_id	    IN NUMBER,
14:32:03 172  	in_invoice_id		    IN NUMBER,
14:32:03 173  	in_end_date		    IN DATE,
14:32:03 174  	in_created_by		    IN VARCHAR2,
14:32:03 175  	in_create_date		    IN DATE,
14:32:03 176  	in_is_extension 	    IN NUMBER,
14:32:03 177  	in_current_offer_index	    IN NUMBER,
14:32:03 178  	in_current_offer_recurr_num IN NUMBER,
14:32:03 179  	in_system_activity_reason_id IN NUMBER,
14:32:03 180  	in_entitlement_end_date      IN DATE,
14:32:03 181  	in_grace_start_date	    IN DATE,
14:32:03 182  	in_grace_end_date	    IN DATE
14:32:03 183  );
14:32:03 184  
14:32:03 185  PROCEDURE CREATE_CHARGE_HISTORY (
14:32:03 186  /*
14:32:03 187  Throws exceptions:
14:32:03 188  APP_EXCEPTION_CODES_V18.UNKNOWN_ERROR
14:32:03 189  */
14:32:03 190  	in_charge_id		     IN NUMBER,
14:32:03 191  	in_invoice_id		     IN NUMBER,
14:32:03 192  	in_transaction_id	     IN NUMBER,
14:32:03 193  	in_instrument_type_id	     IN NUMBER,
14:32:03 194  	in_instrument_id	     IN NUMBER,
14:32:03 195  	in_charge_amount	     IN NUMBER,
14:32:03 196  	in_created_by		     IN VARCHAR2,
14:32:03 197  	in_create_date		     IN DATE,
14:32:03 198  	in_charge_status_id	     IN NUMBER,
14:32:03 199  	in_system_activity_reason_id IN NUMBER
14:32:03 200  );
14:32:03 201  
14:32:03 202  PROCEDURE CREATE_ITUNES_RECEIPT_HISTORY (
14:32:03 203  /*
14:32:03 204  Throws exceptions:
14:32:03 205  APP_EXCEPTION_CODES_V18.UNKNOWN_ERROR
14:32:03 206  */
14:32:03 207  /*
14:32:03 208  CREATE TABLE ITUNES_RECEIPT (
14:32:03 209  	id NUMBER NOT NULL ENABLE,
14:32:03 210  	subscription_id NUMBER NOT NULL ENABLE,
14:32:03 211  	receipt VARCHAR(1024) NOT NULL ENABLE,
14:32:03 212  	status NUMBER,
14:32:03 213  	quantity NUMBER,
14:32:03 214  	product_id VARCHAR(1024),
14:32:03 215  	transaction_id VARCHAR(1024),
14:32:03 216  	purchase_date TIMESTAMP,
14:32:03 217  	original_transaction_id VARCHAR(1024),
14:32:03 218  	original_purchase_date TIMESTAMP,
14:32:03 219  	app_item_id VARCHAR(1024),
14:32:03 220  	version_external_id NUMBER,
14:32:03 221  	bid VARCHAR(1024),
14:32:03 222  	bvrs VARCHAR(255),
14:32:03 223  	expires_date TIMESTAMP,
14:32:03 224  	create_date DATE NOT NULL,
14:32:03 225  	created_by VARCHAR(255) NOT NULL,
14:32:03 226  	update_date DATE NOT NULL,
14:32:03 227  	updated_by VARCHAR(255) NOT NULL,
14:32:03 228  	last_check_date DATE NOT NULL,
14:32:03 229  	CONSTRAINT "ITUNESRECEIPT_PK" PRIMARY KEY ("ID") USING INDEX TABLESPACE "CORE_IDX" ENABLE,
14:32:03 230  	CONSTRAINT "ITUNESRECEIPT_SUBID_FK" FOREIGN KEY ("SUBSCRIPTION_ID") REFERENCES SUBSCRIPTION(ID) USING INDEX TABLESPACE "CORE_IDX" ENABLE,
14:32:03 231  	CONSTRAINT "ITUNESRECEIPT_RECEIPT_UK" UNIQUE(receipt) USING INDEX TABLESPACE "CORE_IDX" ENABLE,
14:32:03 232  	CONSTRAINT "ITUNESRECEIPT_SUBID_UK" UNIQUE(subscription_id) USING INDEX TABLESPACE "CORE_IDX" ENABLE
14:32:03 233  )
14:32:03 234  TABLESPACE CORE;
14:32:03 235  */
14:32:03 236  	in_id		    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.ID%TYPE,
14:32:03 237  	in_subscription_id  IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.SUBSCRIPTION_ID%TYPE,
14:32:03 238  	in_receipt	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.RECEIPT%TYPE,
14:32:03 239  	in_status	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.STATUS%TYPE,
14:32:03 240  	in_quantity	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.QUANTITY%TYPE,
14:32:03 241  	in_product_id	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.PRODUCT_ID%TYPE,
14:32:03 242  	in_transaction_id   IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.TRANSACTION_ID%TYPE,
14:32:03 243  	in_purchase_date    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.PURCHASE_DATE%TYPE,
14:32:03 244  	in_original_transaction_id IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.ORIGINAL_TRANSACTION_ID%TYPE,
14:32:03 245  	in_original_purchase_date IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.ORIGINAL_PURCHASE_DATE%TYPE,
14:32:03 246  	in_app_item_id	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.APP_ITEM_ID%TYPE,
14:32:03 247  	in_version_external_id IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.VERSION_EXTERNAL_ID%TYPE,
14:32:03 248  	in_bid		    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.BID%TYPE,
14:32:03 249  	in_bvrs 	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.BVRS%TYPE,
14:32:03 250  	in_expires_date     IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.EXPIRES_DATE%TYPE,
14:32:03 251  	in_create_date	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.CREATE_DATE%TYPE,
14:32:03 252  	in_created_by	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.CREATED_BY%TYPE,
14:32:03 253  	in_update_date	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.UPDATE_DATE%TYPE,
14:32:03 254  	in_updated_by	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.UPDATED_BY%TYPE,
14:32:03 255  	in_last_check_date  IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.LAST_CHECK_DATE%TYPE,
14:32:03 256  	in_cancel_date	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.CANCEL_DATE%TYPE
14:32:03 257  );
14:32:03 258  
14:32:03 259  PROCEDURE CREATE_INVOICE_ADJ_HISTORY (
14:32:03 260  /*
14:32:03 261  Throws exceptions:
14:32:03 262  APP_EXCEPTION_CODES_V18.UNKNOWN_ERROR
14:32:03 263  */
14:32:03 264  	in_invoice_adjustment_id     IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.INVOICE_ADJUSTMENT_ID%TYPE,
14:32:03 265  	in_invoice_id		     IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.INVOICE_ID%TYPE,
14:32:03 266  	in_is_credit		     IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.IS_CREDIT%TYPE,
14:32:03 267  	in_charge_id		     IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.CHARGE_ID%TYPE,
14:32:03 268  	in_adjustment_date	     IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.ADJUSTMENT_DATE%TYPE,
14:32:03 269  	in_create_date		     IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.CREATE_DATE%TYPE,
14:32:03 270  	in_created_by		     IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.CREATED_BY%TYPE,
14:32:03 271  	in_invoice_adj_reason_id     IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.INVOICE_ADJUSTMENT_REASON_ID%TYPE,
14:32:03 272  	in_update_date		     IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.UPDATE_DATE%TYPE,
14:32:03 273  	in_updated_by		     IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.UPDATED_BY%TYPE
14:32:03 274  );
14:32:03 275  
14:32:03 276  PROCEDURE CREATE_NOTIFICATION_HISTORY (
14:32:03 277  /*
14:32:03 278  Throws exceptions:
14:32:03 279  APP_EXCEPTION_CODES_V18.UNKNOWN_ERROR
14:32:03 280  */
14:32:03 281  	in_notification_id	      IN NUMBER,
14:32:03 282  	in_account_id		      IN NUMBER,
14:32:03 283  	in_group_id		      IN NUMBER,
14:32:03 284  	notification_reason_type_id   IN NUMBER,
14:32:03 285  	notification_status_id	      IN NUMBER,
14:32:03 286  	email_template_params	      IN CLOB,
14:32:03 287  	in_create_date		      IN DATE,
14:32:03 288  	in_date_to_notify	      IN DATE
14:32:03 289  );
14:32:03 290  
14:32:03 291  PROCEDURE CREATE_NOTIF_FAILURE_HISTORY (
14:32:03 292  /*
14:32:03 293  Throws exceptions:
14:32:03 294  APP_EXCEPTION_CODES_V18.UNKNOWN_ERROR
14:32:03 295  */
14:32:03 296  	in_error_message	 IN VARCHAR2,
14:32:03 297  	in_notification_id	 IN NUMBER,
14:32:03 298  	in_create_date		 IN DATE
14:32:03 299  );
14:32:03 300  
14:32:03 301  END PUBLIC_PROCS_CORE_V18;
14:32:03 302  .
14:32:03 SQL> /

Package created.

Elapsed: 00:00:00.28
14:32:04 SQL> 
14:32:04 SQL> CREATE OR REPLACE PACKAGE BODY "PUBLIC_PROCS_CORE_V18" AS
14:32:04   2  
14:32:04   3  PROCEDURE CREATE_ADDRESS_HISTORY (
14:32:04   4  /*
14:32:04   5  Throws exceptions:
14:32:04   6  APP_EXCEPTION_CODES_V18.NOT_FOUND
14:32:04   7  APP_EXCEPTION_CODES_V18.UNKNOWN_ERROR
14:32:04   8  */
14:32:04   9  	in_address_id		      IN ADDRESS_HISTORY.ADDRESS_ID%TYPE,
14:32:04  10  	in_system_activity_reason_id  IN ADDRESS_HISTORY.SYSTEM_ACTIVITY_REASON_ID%TYPE,
14:32:04  11  	in_address1		      IN ADDRESS_HISTORY.ADDRESS1%TYPE,
14:32:04  12  	in_address2		      IN ADDRESS_HISTORY.ADDRESS2%TYPE,
14:32:04  13  	in_city 		      IN ADDRESS_HISTORY.CITY%TYPE,
14:32:04  14  	in_state		      IN ADDRESS_HISTORY.STATE%TYPE,
14:32:04  15  	in_postal_code		      IN ADDRESS_HISTORY.POSTAL_CODE%TYPE,
14:32:04  16  	in_country		      IN ADDRESS_HISTORY.COUNTRY%TYPE,
14:32:04  17  	in_created_by		      IN ADDRESS_HISTORY.CREATED_BY%TYPE,
14:32:04  18  	in_create_date		      IN ADDRESS_HISTORY.CREATE_DATE%TYPE,
14:32:04  19  	in_updated_by		      IN ADDRESS_HISTORY.UPDATED_BY%TYPE,
14:32:04  20  	in_update_date		      IN ADDRESS_HISTORY.UPDATE_DATE%TYPE
14:32:04  21  ) AS
14:32:04  22  BEGIN
14:32:04  23  	PROCS_HISTORY_V18.CREATE_ADDRESS_HISTORY(
14:32:04  24  	in_address_id,
14:32:04  25  	in_system_activity_reason_id,
14:32:04  26  	in_address1,
14:32:04  27  	in_address2,
14:32:04  28  	in_city,
14:32:04  29  	in_state,
14:32:04  30  	in_postal_code,
14:32:04  31  	in_country,
14:32:04  32  	in_created_by,
14:32:04  33  	in_create_date,
14:32:04  34  	in_updated_by,
14:32:04  35  	in_update_date
14:32:04  36  	);
14:32:04  37  END CREATE_ADDRESS_HISTORY;
14:32:04  38  
14:32:04  39  PROCEDURE CREATE_ACCOUNT_HISTORY (
14:32:04  40  /*
14:32:04  41  Throws exceptions:
14:32:04  42  APP_EXCEPTION_CODES_V18.NOT_FOUND
14:32:04  43  APP_EXCEPTION_CODES_V18.UNKNOWN_ERROR
14:32:04  44  */
14:32:04  45  	in_account_id		      IN NUMBER,
14:32:04  46  	in_suspend_date 	      IN DATE,
14:32:04  47  	in_group_id		      IN NUMBER,
14:32:04  48  	in_created_by		      IN VARCHAR2,
14:32:04  49  	in_create_date		      IN DATE,
14:32:04  50  	in_system_activity_reason_id  IN NUMBER,
14:32:04  51  	in_account_status_id	      IN NUMBER,
14:32:04  52  	in_instrument_type_id	      IN NUMBER,
14:32:04  53  	in_instrument_id	      IN NUMBER
14:32:04  54  ) AS
14:32:04  55  BEGIN
14:32:04  56  	PROCS_HISTORY_V18.CREATE_ACCOUNT_HISTORY(
14:32:04  57  	  in_account_id,
14:32:04  58  	  in_suspend_date,
14:32:04  59  	  in_group_id,
14:32:04  60  	  in_created_by,
14:32:04  61  	  in_create_date,
14:32:04  62  	  in_system_activity_reason_id,
14:32:04  63  	  in_account_status_id,
14:32:04  64  	  in_instrument_type_id,
14:32:04  65  	  in_instrument_id
14:32:04  66  	);
14:32:04  67  END CREATE_ACCOUNT_HISTORY;
14:32:04  68  
14:32:04  69  PROCEDURE CREATE_SUBSCRIPTION_HISTORY (
14:32:04  70  /*
14:32:04  71  Throws exceptions:
14:32:04  72  APP_EXCEPTION_CODES_V18.UNKNOWN_ERROR
14:32:04  73  */
14:32:04  74  	in_subscription_id	     IN  NUMBER,
14:32:04  75  	in_account_id		     IN NUMBER,
14:32:04  76  	in_purchase_date	     IN DATE,
14:32:04  77  	in_offer_chain_id	     IN NUMBER,
14:32:04  78  	in_suspend_date 	     IN DATE,
14:32:04  79  	in_termination_date	     IN DATE,
14:32:04  80  	in_days_remaining_adjustment IN NUMBER,
14:32:04  81  	in_cancellation_type_id      IN NUMBER,
14:32:04  82  	in_created_by		     IN  VARCHAR2,
14:32:04  83  	in_create_date		     IN DATE,
14:32:04  84  	in_system_activity_reason_id IN  NUMBER
14:32:04  85  ) AS
14:32:04  86  BEGIN
14:32:04  87  	PROCS_HISTORY_V18.CREATE_SUBSCRIPTION_HISTORY(
14:32:04  88  	  in_subscription_id,
14:32:04  89  	  in_account_id,
14:32:04  90  	  in_purchase_date,
14:32:04  91  	  in_offer_chain_id,
14:32:04  92  	  in_suspend_date,
14:32:04  93  	  in_termination_date,
14:32:04  94  	  in_days_remaining_adjustment,
14:32:04  95  	  in_cancellation_type_id,
14:32:04  96  	  in_created_by,
14:32:04  97  	  in_create_date,
14:32:04  98  	  in_system_activity_reason_id
14:32:04  99  	);
14:32:04 100  END CREATE_SUBSCRIPTION_HISTORY;
14:32:04 101  
14:32:04 102  PROCEDURE CREATE_CREDIT_CARD_HISTORY (
14:32:04 103  /*
14:32:04 104  Throws exceptions:
14:32:04 105  APP_EXCEPTION_CODES_V18.UNKNOWN_ERROR
14:32:04 106  */
14:32:04 107  	in_credit_card_id	      IN  NUMBER,
14:32:04 108  	in_account_id		      IN NUMBER,
14:32:04 109  	in_instrument_name	      IN VARCHAR2,
14:32:04 110  	in_private_card_holder_name   IN VARCHAR2,
14:32:04 111  	in_private_street_address     IN VARCHAR2,
14:32:04 112  	in_private_street_address2    IN VARCHAR2,
14:32:04 113  	in_state		      IN VARCHAR2,
14:32:04 114  	in_city 		      IN VARCHAR2,
14:32:04 115  	in_postal_code		      IN VARCHAR2,
14:32:04 116  	in_country		      IN CHAR,
14:32:04 117  	in_last_four_cc 	      IN VARCHAR2,
14:32:04 118  	in_expiration_date	      IN DATE,
14:32:04 119  	in_credit_card_type_id	      IN NUMBER,
14:32:04 120  	in_secret_token 	      IN VARCHAR2,
14:32:04 121  	in_chase_profile_id	      IN VARCHAR2,
14:32:04 122  	in_credit_card_status_id      IN NUMBER,
14:32:04 123  	in_created_by		      IN  VARCHAR2,
14:32:04 124  	in_create_date		      IN DATE,
14:32:04 125  	in_system_activity_reason_id  IN  NUMBER
14:32:04 126  ) AS
14:32:04 127  BEGIN
14:32:04 128  	PROCS_HISTORY_V18.CREATE_CREDIT_CARD_HISTORY(
14:32:04 129  	  in_credit_card_id,
14:32:04 130  	  in_account_id,
14:32:04 131  	  in_instrument_name,
14:32:04 132  	  in_private_card_holder_name,
14:32:04 133  	  in_private_street_address,
14:32:04 134  	  in_private_street_address2,
14:32:04 135  	  in_state,
14:32:04 136  	  in_city,
14:32:04 137  	  in_postal_code,
14:32:04 138  	  in_country,
14:32:04 139  	  in_last_four_cc,
14:32:04 140  	  in_expiration_date,
14:32:04 141  	  in_credit_card_type_id,
14:32:04 142  	  in_secret_token,
14:32:04 143  	  in_chase_profile_id,
14:32:04 144  	  in_credit_card_status_id,
14:32:04 145  	  in_created_by,
14:32:04 146  	  in_create_date,
14:32:04 147  	  in_system_activity_reason_id
14:32:04 148  );
14:32:04 149  END CREATE_CREDIT_CARD_HISTORY;
14:32:04 150  
14:32:04 151  /***************************************************************/
14:32:04 152  
14:32:04 153  PROCEDURE CREATE_PAYPAL_HISTORY (
14:32:04 154  /*
14:32:04 155  Throws exceptions:
14:32:04 156  APP_EXCEPTION_CODES_V18.UNKNOWN_ERROR
14:32:04 157  */
14:32:04 158  	in_paypal_id			IN NUMBER,
14:32:04 159  	in_account_id			IN NUMBER,
14:32:04 160  	in_instrument_name		IN VARCHAR2,
14:32:04 161  	in_private_email_address	IN VARCHAR2,
14:32:04 162  	in_created_by			IN VARCHAR2,
14:32:04 163  	in_create_date			IN DATE,
14:32:04 164  	in_paypal_status_id		IN NUMBER,
14:32:04 165  	in_paypal_prvt_street_address	IN VARCHAR2,
14:32:04 166  	in_paypal_prvt_street_address2	IN VARCHAR2,
14:32:04 167  	in_state			IN VARCHAR2,
14:32:04 168  	in_city 			IN VARCHAR2,
14:32:04 169  	in_postal_code			IN VARCHAR2,
14:32:04 170  	in_country			IN CHAR,
14:32:04 171  	in_expiration_date		IN DATE,
14:32:04 172  	in_system_activity_reason_id	IN NUMBER,
14:32:04 173  	in_secret_token 		IN VARCHAR2
14:32:04 174  ) AS
14:32:04 175  BEGIN
14:32:04 176  	PROCS_HISTORY_V18.CREATE_PAYPAL_HISTORY(
14:32:04 177  	  in_paypal_id,
14:32:04 178  	  in_account_id,
14:32:04 179  	  in_instrument_name,
14:32:04 180  	  in_private_email_address,
14:32:04 181  	  in_created_by,
14:32:04 182  	  in_create_date,
14:32:04 183  	  in_paypal_status_id,
14:32:04 184  	  in_paypal_prvt_street_address,
14:32:04 185  	  in_paypal_prvt_street_address2,
14:32:04 186  	  in_state,
14:32:04 187  	  in_city,
14:32:04 188  	  in_postal_code,
14:32:04 189  	  in_country,
14:32:04 190  	  in_expiration_date,
14:32:04 191  	  in_system_activity_reason_id,
14:32:04 192  	  in_secret_token
14:32:04 193  	);
14:32:04 194  END;
14:32:04 195  
14:32:04 196  /***************************************************************/
14:32:04 197  
14:32:04 198  PROCEDURE CREATE_TRANSACTION_HISTORY (
14:32:04 199  /*
14:32:04 200  Throws exceptions:
14:32:04 201  APP_EXCEPTION_CODES_V18.UNKNOWN_ERROR
14:32:04 202  */
14:32:04 203  	in_transaction_id	     IN TRANSACTION_HISTORY.TRANSACTION_ID%TYPE,
14:32:04 204  	in_transaction_status_id     IN TRANSACTION_HISTORY.TRANSACTION_STATUS_ID%TYPE,
14:32:04 205  	in_transaction_amount	     IN TRANSACTION_HISTORY.TRANSACTION_AMOUNT%TYPE,
14:32:04 206  	in_created_by		     IN TRANSACTION_HISTORY.CREATED_BY%TYPE,
14:32:04 207  	in_create_date		     IN TRANSACTION_HISTORY.CREATE_DATE%TYPE,
14:32:04 208  	in_order_id		     IN TRANSACTION_HISTORY.ORDER_ID%TYPE,
14:32:04 209  	in_charge_id		     IN TRANSACTION_HISTORY.CHARGE_ID%TYPE,
14:32:04 210  	in_is_refund		     IN TRANSACTION_HISTORY.IS_REFUND%TYPE,
14:32:04 211  	in_is_settled		     IN TRANSACTION_HISTORY.IS_SETTLED%TYPE,
14:32:04 212  	in_transaction_type_code     IN TRANSACTION_HISTORY.TRANSACTION_TYPE_CODE%TYPE,
14:32:04 213  	in_system_activity_reason_id IN NUMBER
14:32:04 214  ) AS
14:32:04 215  BEGIN
14:32:04 216  	PROCS_HISTORY_V18.CREATE_TRANSACTION_HISTORY(
14:32:04 217  	  in_transaction_id,
14:32:04 218  	  in_transaction_status_id,
14:32:04 219  	  in_transaction_amount,
14:32:04 220  	  in_created_by,
14:32:04 221  	  in_create_date,
14:32:04 222  	  in_system_activity_reason_id,
14:32:04 223  	  in_order_id,
14:32:04 224  	  in_charge_id,
14:32:04 225  	  in_is_refund,
14:32:04 226  	  in_is_settled,
14:32:04 227  	  in_transaction_type_code
14:32:04 228  	);
14:32:04 229  END CREATE_TRANSACTION_HISTORY;
14:32:04 230  
14:32:04 231  /***************************************************************/
14:32:04 232  
14:32:04 233  PROCEDURE CREATE_GIFT_CERT_HISTORY (
14:32:04 234  	in_gift_certificate_id	      IN NUMBER,
14:32:04 235  	in_purchaser_group_id	      IN NUMBER,
14:32:04 236  	in_purchase_invoice_id	      IN NUMBER,
14:32:04 237  	in_offer_chain_id	      IN NUMBER,
14:32:04 238  	in_expiration_date	      IN DATE,
14:32:04 239  	in_purchase_date	      IN DATE,
14:32:04 240  	in_gift_certificate_status_id IN NUMBER,
14:32:04 241  	in_code 		      IN VARCHAR2,
14:32:04 242  	in_created_by		      IN VARCHAR2,
14:32:04 243  	in_create_date		      IN DATE,
14:32:04 244  	in_system_activity_reason_id  IN NUMBER,
14:32:04 245  	in_recipient_name	      IN VARCHAR2,
14:32:04 246  	in_gift_message 	      IN VARCHAR2,
14:32:04 247  	in_recipient_email	      IN VARCHAR2,
14:32:04 248  	in_finalized_invoice_id       IN NUMBER,
14:32:04 249  	in_sender_email 	      IN VARCHAR2,
14:32:04 250  	in_sender_name		      IN VARCHAR2,
14:32:04 251  	in_redemption_date	      IN DATE,
14:32:04 252  	in_redeemer_group_id	      IN NUMBER,
14:32:04 253  	in_cancelation_date	      IN DATE,
14:32:04 254  	in_recipient_address_id       IN NUMBER,
14:32:04 255  	in_redeemer_address_id	      IN NUMBER,
14:32:04 256  	in_recipient_notify_date      IN DATE
14:32:04 257  ) AS
14:32:04 258  BEGIN
14:32:04 259  	PROCS_HISTORY_V18.CREATE_GIFT_CERT_HISTORY(
14:32:04 260  	  in_gift_certificate_id,
14:32:04 261  	  in_purchaser_group_id,
14:32:04 262  	  in_purchase_invoice_id,
14:32:04 263  	  in_offer_chain_id,
14:32:04 264  	  in_expiration_date,
14:32:04 265  	  in_purchase_date,
14:32:04 266  	  in_gift_certificate_status_id,
14:32:04 267  	  in_code,
14:32:04 268  	  in_created_by,
14:32:04 269  	  in_create_date,
14:32:04 270  	  in_system_activity_reason_id,
14:32:04 271  	  in_recipient_name,
14:32:04 272  	  in_gift_message,
14:32:04 273  	  in_recipient_email,
14:32:04 274  	  in_finalized_invoice_id,
14:32:04 275  	  in_sender_email,
14:32:04 276  	  in_sender_name,
14:32:04 277  	  in_redemption_date,
14:32:04 278  	  in_redeemer_group_id,
14:32:04 279  	  in_cancelation_date,
14:32:04 280  	  in_recipient_address_id,
14:32:04 281  	  in_redeemer_address_id,
14:32:04 282  	  in_recipient_notify_date
14:32:04 283  	);
14:32:04 284  END CREATE_GIFT_CERT_HISTORY;
14:32:04 285  
14:32:04 286  /***************************************************************/
14:32:04 287  
14:32:04 288  PROCEDURE CREATE_INVOICE_HISTORY (
14:32:04 289  	in_invoice_id		     IN NUMBER,
14:32:04 290  	in_invoice_status_id	     IN NUMBER,
14:32:04 291  	in_created_by		     IN VARCHAR2,
14:32:04 292  	in_create_date		     IN DATE,
14:32:04 293  	in_system_activity_reason_id IN NUMBER
14:32:04 294  ) AS
14:32:04 295  BEGIN
14:32:04 296  	PROCS_HISTORY_V18.CREATE_INVOICE_HISTORY (
14:32:04 297  	  in_invoice_id,
14:32:04 298  	  in_invoice_status_id,
14:32:04 299  	  in_created_by,
14:32:04 300  	  in_create_date,
14:32:04 301  	  in_system_activity_reason_id
14:32:04 302  	);
14:32:04 303  END CREATE_INVOICE_HISTORY;
14:32:04 304  
14:32:04 305  /***************************************************************/
14:32:04 306  
14:32:04 307  PROCEDURE CREATE_LICENSE_HISTORY (
14:32:04 308  /*
14:32:04 309  Throws exceptions:
14:32:04 310  APP_EXCEPTION_CODES_V18.UNKNOWN_ERROR
14:32:04 311  */
14:32:04 312  	in_license_id		    IN NUMBER,
14:32:04 313  	in_license_status_id	    IN NUMBER,
14:32:04 314  	in_needs_entitlements	    IN NUMBER,
14:32:04 315  	in_start_date		    IN DATE,
14:32:04 316  	in_offer_id		    IN NUMBER,
14:32:04 317  	in_subscription_id	    IN NUMBER,
14:32:04 318  	in_invoice_id		    IN NUMBER,
14:32:04 319  	in_end_date		    IN DATE,
14:32:04 320  	in_created_by		    IN VARCHAR2,
14:32:04 321  	in_create_date		    IN DATE,
14:32:04 322  	in_is_extension 	    IN NUMBER,
14:32:04 323  	in_current_offer_index	    IN NUMBER,
14:32:04 324  	in_current_offer_recurr_num IN NUMBER,
14:32:04 325  	in_system_activity_reason_id IN NUMBER,
14:32:04 326  	in_entitlement_end_date      IN DATE,
14:32:04 327  	in_grace_start_date	    IN DATE,
14:32:04 328  	in_grace_end_date	    IN DATE
14:32:04 329  ) AS
14:32:04 330  BEGIN
14:32:04 331  	PROCS_HISTORY_V18.CREATE_LICENSE_HISTORY (
14:32:04 332  	  in_license_id,
14:32:04 333  	  in_license_status_id,
14:32:04 334  	  in_needs_entitlements,
14:32:04 335  	  in_start_date,
14:32:04 336  	  in_offer_id,
14:32:04 337  	  in_subscription_id,
14:32:04 338  	  in_invoice_id,
14:32:04 339  	  in_end_date,
14:32:04 340  	  in_created_by,
14:32:04 341  	  in_create_date,
14:32:04 342  	  in_is_extension,
14:32:04 343  	  in_current_offer_index,
14:32:04 344  	  in_current_offer_recurr_num,
14:32:04 345  	  in_system_activity_reason_id,
14:32:04 346  	  in_entitlement_end_date,
14:32:04 347  	  in_grace_start_date,
14:32:04 348  	  in_grace_end_date
14:32:04 349  	);
14:32:04 350  END CREATE_LICENSE_HISTORY;
14:32:04 351  
14:32:04 352  /***************************************************************/
14:32:04 353  
14:32:04 354  PROCEDURE CREATE_CHARGE_HISTORY (
14:32:04 355  /*
14:32:04 356  Throws exceptions:
14:32:04 357  APP_EXCEPTION_CODES_V18.UNKNOWN_ERROR
14:32:04 358  */
14:32:04 359  	in_charge_id		     IN NUMBER,
14:32:04 360  	in_invoice_id		     IN NUMBER,
14:32:04 361  	in_transaction_id	     IN NUMBER,
14:32:04 362  	in_instrument_type_id	     IN NUMBER,
14:32:04 363  	in_instrument_id	     IN NUMBER,
14:32:04 364  	in_charge_amount	     IN NUMBER,
14:32:04 365  	in_created_by		     IN VARCHAR2,
14:32:04 366  	in_create_date		     IN DATE,
14:32:04 367  	in_charge_status_id	     IN NUMBER,
14:32:04 368  	in_system_activity_reason_id IN NUMBER
14:32:04 369  ) AS
14:32:04 370  BEGIN
14:32:04 371  	PROCS_HISTORY_V18.CREATE_CHARGE_HISTORY (
14:32:04 372  	  in_charge_id,
14:32:04 373  	  in_invoice_id,
14:32:04 374  	  in_transaction_id,
14:32:04 375  	  in_instrument_type_id,
14:32:04 376  	  in_instrument_id,
14:32:04 377  	  in_charge_amount,
14:32:04 378  	  in_created_by,
14:32:04 379  	  in_create_date,
14:32:04 380  	  in_charge_status_id,
14:32:04 381  	  in_system_activity_reason_id
14:32:04 382  	);
14:32:04 383  END;
14:32:04 384  
14:32:04 385  PROCEDURE CREATE_ITUNES_RECEIPT_HISTORY (
14:32:04 386  /*
14:32:04 387  Throws exceptions:
14:32:04 388  APP_EXCEPTION_CODES_V18.UNKNOWN_ERROR
14:32:04 389  */
14:32:04 390  /*
14:32:04 391  CREATE TABLE ITUNES_RECEIPT (
14:32:04 392  	id NUMBER NOT NULL ENABLE,
14:32:04 393  	subscription_id NUMBER NOT NULL ENABLE,
14:32:04 394  	receipt VARCHAR(1024) NOT NULL ENABLE,
14:32:04 395  	status NUMBER,
14:32:04 396  	quantity NUMBER,
14:32:04 397  	product_id VARCHAR(1024),
14:32:04 398  	transaction_id VARCHAR(1024),
14:32:04 399  	purchase_date TIMESTAMP,
14:32:04 400  	original_transaction_id VARCHAR(1024),
14:32:04 401  	original_purchase_date TIMESTAMP,
14:32:04 402  	app_item_id VARCHAR(1024),
14:32:04 403  	version_external_id NUMBER,
14:32:04 404  	bid VARCHAR(1024),
14:32:04 405  	bvrs VARCHAR(255),
14:32:04 406  	expires_date TIMESTAMP,
14:32:04 407  	create_date DATE NOT NULL,
14:32:04 408  	created_by VARCHAR(255) NOT NULL,
14:32:04 409  	update_date DATE NOT NULL,
14:32:04 410  	updated_by VARCHAR(255) NOT NULL,
14:32:04 411  	last_check_date DATE NOT NULL,
14:32:04 412  	CONSTRAINT "ITUNESRECEIPT_PK" PRIMARY KEY ("ID") USING INDEX TABLESPACE "CORE_IDX" ENABLE,
14:32:04 413  	CONSTRAINT "ITUNESRECEIPT_SUBID_FK" FOREIGN KEY ("SUBSCRIPTION_ID") REFERENCES SUBSCRIPTION(ID) USING INDEX TABLESPACE "CORE_IDX" ENABLE,
14:32:04 414  	CONSTRAINT "ITUNESRECEIPT_RECEIPT_UK" UNIQUE(receipt) USING INDEX TABLESPACE "CORE_IDX" ENABLE,
14:32:04 415  	CONSTRAINT "ITUNESRECEIPT_SUBID_UK" UNIQUE(subscription_id) USING INDEX TABLESPACE "CORE_IDX" ENABLE
14:32:04 416  )
14:32:04 417  TABLESPACE CORE;
14:32:04 418  */
14:32:04 419  	in_id		    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.ID%TYPE,
14:32:04 420  	in_subscription_id  IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.SUBSCRIPTION_ID%TYPE,
14:32:04 421  	in_receipt	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.RECEIPT%TYPE,
14:32:04 422  	in_status	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.STATUS%TYPE,
14:32:04 423  	in_quantity	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.QUANTITY%TYPE,
14:32:04 424  	in_product_id	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.PRODUCT_ID%TYPE,
14:32:04 425  	in_transaction_id   IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.TRANSACTION_ID%TYPE,
14:32:04 426  	in_purchase_date    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.PURCHASE_DATE%TYPE,
14:32:04 427  	in_original_transaction_id IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.ORIGINAL_TRANSACTION_ID%TYPE,
14:32:04 428  	in_original_purchase_date IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.ORIGINAL_PURCHASE_DATE%TYPE,
14:32:04 429  	in_app_item_id	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.APP_ITEM_ID%TYPE,
14:32:04 430  	in_version_external_id IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.VERSION_EXTERNAL_ID%TYPE,
14:32:04 431  	in_bid		    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.BID%TYPE,
14:32:04 432  	in_bvrs 	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.BVRS%TYPE,
14:32:04 433  	in_expires_date     IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.EXPIRES_DATE%TYPE,
14:32:04 434  	in_create_date	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.CREATE_DATE%TYPE,
14:32:04 435  	in_created_by	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.CREATED_BY%TYPE,
14:32:04 436  	in_update_date	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.UPDATE_DATE%TYPE,
14:32:04 437  	in_updated_by	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.UPDATED_BY%TYPE,
14:32:04 438  	in_last_check_date  IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.LAST_CHECK_DATE%TYPE,
14:32:04 439  	in_cancel_date	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.CANCEL_DATE%TYPE
14:32:04 440  ) AS
14:32:04 441  BEGIN
14:32:04 442  	PROCS_HISTORY_V18.CREATE_ITUNES_RECEIPT_HISTORY (
14:32:04 443  	  in_id => in_id,
14:32:04 444  	  in_subscription_id => in_subscription_id,
14:32:04 445  	  in_receipt => in_receipt,
14:32:04 446  	  in_status => in_status,
14:32:04 447  	  in_quantity => in_quantity,
14:32:04 448  	  in_product_id => in_product_id,
14:32:04 449  	  in_transaction_id => in_transaction_id,
14:32:04 450  	  in_purchase_date => in_purchase_date,
14:32:04 451  	  in_original_transaction_id => in_original_transaction_id,
14:32:04 452  	  in_original_purchase_date => in_original_purchase_date,
14:32:04 453  	  in_app_item_id => in_app_item_id,
14:32:04 454  	  in_version_external_id => in_version_external_id,
14:32:04 455  	  in_bid => in_bid,
14:32:04 456  	  in_bvrs => in_bvrs,
14:32:04 457  	  in_expires_date => in_expires_date,
14:32:04 458  	  in_create_date => in_create_date,
14:32:04 459  	  in_created_by => in_created_by,
14:32:04 460  	  in_update_date => in_update_date,
14:32:04 461  	  in_updated_by => in_updated_by,
14:32:04 462  	  in_last_check_date => in_last_check_date,
14:32:04 463  	  in_cancel_date => in_cancel_date
14:32:04 464  	);
14:32:04 465  END;
14:32:04 466  
14:32:04 467  PROCEDURE CREATE_INVOICE_ADJ_HISTORY (
14:32:04 468  /*
14:32:04 469  Throws exceptions:
14:32:04 470  APP_EXCEPTION_CODES_V18.UNKNOWN_ERROR
14:32:04 471  */
14:32:04 472  	in_invoice_adjustment_id     IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.INVOICE_ADJUSTMENT_ID%TYPE,
14:32:04 473  	in_invoice_id		     IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.INVOICE_ID%TYPE,
14:32:04 474  	in_is_credit		     IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.IS_CREDIT%TYPE,
14:32:04 475  	in_charge_id		     IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.CHARGE_ID%TYPE,
14:32:04 476  	in_adjustment_date	     IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.ADJUSTMENT_DATE%TYPE,
14:32:04 477  	in_create_date		     IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.CREATE_DATE%TYPE,
14:32:04 478  	in_created_by		     IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.CREATED_BY%TYPE,
14:32:04 479  	in_invoice_adj_reason_id	       IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.INVOICE_ADJUSTMENT_REASON_ID%TYPE,
14:32:04 480  	in_update_date		      IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.UPDATE_DATE%TYPE,
14:32:04 481  	in_updated_by		     IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.UPDATED_BY%TYPE
14:32:04 482  )  AS
14:32:04 483  	BEGIN
14:32:04 484  	  PROCS_HISTORY_V18.CREATE_INVOICE_ADJ_HISTORY(
14:32:04 485  	    in_invoice_adjustment_id => in_invoice_adjustment_id,
14:32:04 486  	    in_invoice_id => in_invoice_id,
14:32:04 487  	    in_is_credit => in_is_credit,
14:32:04 488  	    in_charge_id => in_charge_id,
14:32:04 489  	    in_adjustment_date => in_adjustment_date,
14:32:04 490  	    in_create_date => in_create_date,
14:32:04 491  	    in_created_by => in_created_by,
14:32:04 492  	    in_invoice_adj_reason_id => in_invoice_adj_reason_id,
14:32:04 493  	    in_update_date => in_update_date,
14:32:04 494  	    in_updated_by => in_updated_by
14:32:04 495  	  );
14:32:04 496  END;
14:32:04 497  
14:32:04 498  PROCEDURE CREATE_NOTIFICATION_HISTORY (
14:32:04 499  /*
14:32:04 500  Throws exceptions:
14:32:04 501  APP_EXCEPTION_CODES_V18.UNKNOWN_ERROR
14:32:04 502  */
14:32:04 503  	in_notification_id	      IN NUMBER,
14:32:04 504  	in_account_id		      IN NUMBER,
14:32:04 505  	in_group_id		      IN NUMBER,
14:32:04 506  	notification_reason_type_id   IN NUMBER,
14:32:04 507  	notification_status_id	      IN NUMBER,
14:32:04 508  	email_template_params	      IN CLOB,
14:32:04 509  	in_create_date		      IN DATE,
14:32:04 510  	in_date_to_notify	      IN DATE
14:32:04 511  ) AS
14:32:04 512  BEGIN
14:32:04 513  	PROCS_HISTORY_V18.CREATE_NOTIFICATION_HISTORY(
14:32:04 514  	  in_notification_id,
14:32:04 515  	  in_account_id,
14:32:04 516  	  in_group_id,
14:32:04 517  	  notification_reason_type_id,
14:32:04 518  	  notification_status_id,
14:32:04 519  	  email_template_params,
14:32:04 520  	  in_create_date,
14:32:04 521  	  in_date_to_notify
14:32:04 522  );
14:32:04 523  END CREATE_NOTIFICATION_HISTORY;
14:32:04 524  
14:32:04 525  /******************************************************/
14:32:04 526  
14:32:04 527  PROCEDURE CREATE_NOTIF_FAILURE_HISTORY (
14:32:04 528  /*
14:32:04 529  Throws exceptions:
14:32:04 530  APP_EXCEPTION_CODES_V18.UNKNOWN_ERROR
14:32:04 531  */
14:32:04 532  	in_error_message	 IN VARCHAR2,
14:32:04 533  	in_notification_id	 IN NUMBER,
14:32:04 534  	in_create_date		 IN DATE
14:32:04 535  ) AS
14:32:04 536  BEGIN
14:32:04 537  	PROCS_HISTORY_V18.CREATE_NOTIF_FAILURE_HISTORY(
14:32:04 538  	  in_error_message,
14:32:04 539  	  in_notification_id,
14:32:04 540  	  in_create_date
14:32:04 541  );
14:32:04 542  END CREATE_NOTIF_FAILURE_HISTORY;
14:32:04 543  
14:32:04 544  END PUBLIC_PROCS_CORE_V18;
14:32:04 545  .
14:32:04 SQL> /

Package body created.

Elapsed: 00:00:00.12
14:32:04 SQL> 
14:32:04 SQL> --------------------------------------------------------------------------------
14:32:04 SQL> -- DDL for package PROCS_PARTITIONS
14:32:04 SQL> --------------------------------------------------------------------------------
14:32:04 SQL> 
14:32:04 SQL> CREATE OR REPLACE PACKAGE "PROCS_PARTITIONS_V18" AS
14:32:04   2  
14:32:04   3  PROCEDURE GET_PARTITION_YEAR_MONTH (
14:32:04   4  	in_year   IN NUMBER,
14:32:04   5  	in_month  IN NUMBER,
14:32:04   6  	out_year  OUT NUMBER,
14:32:04   7  	out_month OUT NUMBER
14:32:04   8  );
14:32:04   9  
14:32:04  10  PROCEDURE ADD_TABLE_PARTITION (
14:32:04  11  	in_tablename	   IN VARCHAR2,
14:32:04  12  	in_partitionprefix IN VARCHAR2,
14:32:04  13  	in_year 	   IN NUMBER,
14:32:04  14  	in_month	   IN NUMBER
14:32:04  15  );
14:32:04  16  
14:32:04  17  PROCEDURE ADD_ACCOUNT_PARTITION(
14:32:04  18  	in_year  IN NUMBER,
14:32:04  19  	in_month IN NUMBER
14:32:04  20  );
14:32:04  21  
14:32:04  22  PROCEDURE ADD_BILLING_LOG_PARTITION(
14:32:04  23  	in_year  IN NUMBER,
14:32:04  24  	in_month IN NUMBER
14:32:04  25  );
14:32:04  26  
14:32:04  27  PROCEDURE ADD_CREDIT_CARD_PARTITION(
14:32:04  28  	in_year  IN NUMBER,
14:32:04  29  	in_month IN NUMBER
14:32:04  30  );
14:32:04  31  
14:32:04  32  PROCEDURE ADD_GCERTIFICATE_PARTITION(
14:32:04  33  	in_year  IN NUMBER,
14:32:04  34  	in_month IN NUMBER
14:32:04  35  );
14:32:04  36  
14:32:04  37  PROCEDURE ADD_OFFER_CHAIN_PARTITION(
14:32:04  38  	in_year  IN NUMBER,
14:32:04  39  	in_month IN NUMBER
14:32:04  40  );
14:32:04  41  
14:32:04  42  PROCEDURE ADD_OFF_OFFER_CHAIN_PARTITION(
14:32:04  43  	in_year  IN NUMBER,
14:32:04  44  	in_month IN NUMBER
14:32:04  45  );
14:32:04  46  
14:32:04  47  PROCEDURE ADD_PAYPAL_PARTITION(
14:32:04  48  	in_year  IN NUMBER,
14:32:04  49  	in_month IN NUMBER
14:32:04  50  );
14:32:04  51  
14:32:04  52  PROCEDURE ADD_SUBSCRIPTION_PARTITION(
14:32:04  53  	in_year  IN NUMBER,
14:32:04  54  	in_month IN NUMBER
14:32:04  55  );
14:32:04  56  
14:32:04  57  PROCEDURE ADD_TRANSACTION_PARTITION(
14:32:04  58  	in_year  IN NUMBER,
14:32:04  59  	in_month IN NUMBER
14:32:04  60  );
14:32:04  61  
14:32:04  62  PROCEDURE ADD_INVOICE_PARTITION(
14:32:04  63  	in_year  IN NUMBER,
14:32:04  64  	in_month IN NUMBER
14:32:04  65  );
14:32:04  66  
14:32:04  67  PROCEDURE ADD_LICENSE_PARTITION(
14:32:04  68  	in_year  IN NUMBER,
14:32:04  69  	in_month IN NUMBER
14:32:04  70  );
14:32:04  71  
14:32:04  72  PROCEDURE ADD_CHARGE_PARTITION(
14:32:04  73  	in_year  IN NUMBER,
14:32:04  74  	in_month IN NUMBER
14:32:04  75  );
14:32:04  76  
14:32:04  77  PROCEDURE ADD_NOTIFICATION_PARTITION(
14:32:04  78  	in_year  IN NUMBER,
14:32:04  79  	in_month IN NUMBER
14:32:04  80  );
14:32:04  81  
14:32:04  82  PROCEDURE ADD_NOTIF_FAILURE_PARTITION(
14:32:04  83  	in_year  IN NUMBER,
14:32:04  84  	in_month IN NUMBER
14:32:04  85  );
14:32:04  86  
14:32:04  87  END PROCS_PARTITIONS_V18;
14:32:04  88  .
14:32:04 SQL> /

Package created.

Elapsed: 00:00:00.05
14:32:04 SQL> 
14:32:04 SQL> CREATE OR REPLACE PACKAGE BODY "PROCS_PARTITIONS_V18" AS
14:32:04   2  
14:32:04   3  PROCEDURE GET_PARTITION_YEAR_MONTH (
14:32:04   4  	in_year   IN NUMBER,
14:32:04   5  	in_month  IN NUMBER,
14:32:04   6  	out_year  OUT NUMBER,
14:32:04   7  	out_month OUT NUMBER
14:32:04   8  ) AS
14:32:04   9  BEGIN
14:32:04  10  	IF in_month < 12 THEN
14:32:04  11  	  out_month := in_month + 1;
14:32:04  12  	  out_year  := in_year;
14:32:04  13  	ELSIF in_month = 12 THEN
14:32:04  14  	  out_month := 1;
14:32:04  15  	  out_year  := in_year + 1;
14:32:04  16  	ELSE
14:32:04  17  	  out_month := in_month;
14:32:04  18  	  out_year  := in_year;
14:32:04  19  	END IF;
14:32:04  20  END;
14:32:04  21  
14:32:04  22  /**************************************************************/
14:32:04  23  
14:32:04  24  PROCEDURE ADD_TABLE_PARTITION (
14:32:04  25  	in_tablename	   IN VARCHAR2,
14:32:04  26  	in_partitionprefix IN VARCHAR2,
14:32:04  27  	in_year 	   IN NUMBER,
14:32:04  28  	in_month	   IN NUMBER
14:32:04  29  ) AS
14:32:04  30  -- VARIABLES
14:32:04  31  partision_year  NUMBER;
14:32:04  32  partision_month NUMBER;
14:32:04  33  -- CONSTANTS
14:32:04  34  const_max_prefix CONSTANT VARCHAR(3) := 'max';
14:32:04  35  BEGIN
14:32:04  36  	GET_PARTITION_YEAR_MONTH(in_year, in_month, partision_year, partision_month);
14:32:04  37  	EXECUTE IMMEDIATE 'ALTER TABLE '||in_tablename||' SPLIT PARTITION '||in_partitionprefix||'_'||const_max_prefix||' AT (date '''||partision_year||'-'||partision_month||'-01'') INTO (PARTITION '||in_partitionprefix||'_y'||in_year||'m'||in_month||', PARTITION '||in_partitionprefix||'_'||const_max_prefix||')';
14:32:04  38  END;
14:32:04  39  
14:32:04  40  /**************************************************************/
14:32:04  41  
14:32:04  42  PROCEDURE ADD_ACCOUNT_PARTITION(
14:32:04  43  	in_year  IN NUMBER,
14:32:04  44  	in_month IN NUMBER
14:32:04  45  ) AS
14:32:04  46  -- CONSTANTS
14:32:04  47  CONST_TABLE_NAME	     CONSTANT VARCHAR2(15) := 'ACCOUNT_HISTORY';
14:32:04  48  CONST_PARTITION_PREFIX CONSTANT VARCHAR2(7)  := 'account';
14:32:04  49  BEGIN
14:32:04  50  	ADD_TABLE_PARTITION(CONST_TABLE_NAME, CONST_PARTITION_PREFIX, in_year, in_month);
14:32:04  51  END ADD_ACCOUNT_PARTITION;
14:32:04  52  
14:32:04  53  /**************************************************************/
14:32:04  54  
14:32:04  55  PROCEDURE ADD_BILLING_LOG_PARTITION(
14:32:04  56  	in_year  IN NUMBER,
14:32:04  57  	in_month IN NUMBER
14:32:04  58  ) AS
14:32:04  59  -- CONSTANTS
14:32:04  60  CONST_TABLE_NAME	     CONSTANT VARCHAR2(28) := 'BILLING_ACTIVITY_LOG_HISTORY';
14:32:04  61  CONST_PARTITION_PREFIX CONSTANT VARCHAR2(15) := 'billing_act_log';
14:32:04  62  BEGIN
14:32:04  63  	ADD_TABLE_PARTITION(CONST_TABLE_NAME, CONST_PARTITION_PREFIX, in_year, in_month);
14:32:04  64  END ADD_BILLING_LOG_PARTITION;
14:32:04  65  
14:32:04  66  /**************************************************************/
14:32:04  67  
14:32:04  68  PROCEDURE ADD_CREDIT_CARD_PARTITION(
14:32:04  69  	in_year  IN NUMBER,
14:32:04  70  	in_month IN NUMBER
14:32:04  71  ) AS
14:32:04  72  -- CONSTANTS
14:32:04  73  CONST_TABLE_NAME	     CONSTANT VARCHAR2(19) := 'CREDIT_CARD_HISTORY';
14:32:04  74  CONST_PARTITION_PREFIX CONSTANT VARCHAR2(11) := 'credit_card';
14:32:04  75  BEGIN
14:32:04  76  	ADD_TABLE_PARTITION(CONST_TABLE_NAME, CONST_PARTITION_PREFIX, in_year, in_month);
14:32:04  77  END ADD_CREDIT_CARD_PARTITION;
14:32:04  78  
14:32:04  79  /**************************************************************/
14:32:04  80  
14:32:04  81  PROCEDURE ADD_GCERTIFICATE_PARTITION(
14:32:04  82  	in_year  IN NUMBER,
14:32:04  83  	in_month IN NUMBER
14:32:04  84  ) AS
14:32:04  85  -- CONSTANTS
14:32:04  86  CONST_TABLE_NAME	     CONSTANT VARCHAR2(24) := 'GIFT_CERTIFICATE_HISTORY';
14:32:04  87  CONST_PARTITION_PREFIX CONSTANT VARCHAR2(16) := 'gift_certificate';
14:32:04  88  BEGIN
14:32:04  89  	ADD_TABLE_PARTITION(CONST_TABLE_NAME, CONST_PARTITION_PREFIX, in_year, in_month);
14:32:04  90  END ADD_GCERTIFICATE_PARTITION;
14:32:04  91  
14:32:04  92  /**************************************************************/
14:32:04  93  
14:32:04  94  PROCEDURE ADD_OFFER_CHAIN_PARTITION(
14:32:04  95  	in_year  IN NUMBER,
14:32:04  96  	in_month IN NUMBER
14:32:04  97  ) AS
14:32:04  98  -- CONSTANTS
14:32:04  99  CONST_TABLE_NAME	     CONSTANT VARCHAR2(19) := 'OFFER_CHAIN_HISTORY';
14:32:04 100  CONST_PARTITION_PREFIX CONSTANT VARCHAR2(11) := 'offer_chain';
14:32:04 101  BEGIN
14:32:04 102  	ADD_TABLE_PARTITION(CONST_TABLE_NAME, CONST_PARTITION_PREFIX, in_year, in_month);
14:32:04 103  END ADD_OFFER_CHAIN_PARTITION;
14:32:04 104  
14:32:04 105  /**************************************************************/
14:32:04 106  
14:32:04 107  PROCEDURE ADD_OFF_OFFER_CHAIN_PARTITION(
14:32:04 108  	in_year  IN NUMBER,
14:32:04 109  	in_month IN NUMBER
14:32:04 110  ) AS
14:32:04 111  -- CONSTANTS
14:32:04 112  CONST_TABLE_NAME	     CONSTANT VARCHAR2(25) := 'OFFER_OFFER_CHAIN_HISTORY';
14:32:04 113  CONST_PARTITION_PREFIX CONSTANT VARCHAR2(17) := 'offer_offer_chain';
14:32:04 114  BEGIN
14:32:04 115  	ADD_TABLE_PARTITION(CONST_TABLE_NAME, CONST_PARTITION_PREFIX, in_year, in_month);
14:32:04 116  END ADD_OFF_OFFER_CHAIN_PARTITION;
14:32:04 117  
14:32:04 118  /**************************************************************/
14:32:04 119  
14:32:04 120  PROCEDURE ADD_PAYPAL_PARTITION(
14:32:04 121  	in_year  IN NUMBER,
14:32:04 122  	in_month IN NUMBER
14:32:04 123  ) AS
14:32:04 124  -- CONSTANTS
14:32:04 125  CONST_TABLE_NAME	     CONSTANT VARCHAR2(14) := 'PAYPAL_HISTORY';
14:32:04 126  CONST_PARTITION_PREFIX CONSTANT VARCHAR2(6)  := 'paypal';
14:32:04 127  BEGIN
14:32:04 128  	ADD_TABLE_PARTITION(CONST_TABLE_NAME, CONST_PARTITION_PREFIX, in_year, in_month);
14:32:04 129  END ADD_PAYPAL_PARTITION;
14:32:04 130  
14:32:04 131  /**************************************************************/
14:32:04 132  
14:32:04 133  PROCEDURE ADD_SUBSCRIPTION_PARTITION(
14:32:04 134  	in_year  IN NUMBER,
14:32:04 135  	in_month IN NUMBER
14:32:04 136  ) AS
14:32:04 137  -- CONSTANTS
14:32:04 138  CONST_TABLE_NAME	     CONSTANT VARCHAR2(20) := 'SUBSCRIPTION_HISTORY';
14:32:04 139  CONST_PARTITION_PREFIX CONSTANT VARCHAR2(12) := 'subscription';
14:32:04 140  BEGIN
14:32:04 141  	ADD_TABLE_PARTITION(CONST_TABLE_NAME, CONST_PARTITION_PREFIX, in_year, in_month);
14:32:04 142  END ADD_SUBSCRIPTION_PARTITION;
14:32:04 143  
14:32:04 144  /**************************************************************/
14:32:04 145  
14:32:04 146  PROCEDURE ADD_TRANSACTION_PARTITION(
14:32:04 147  	in_year  IN NUMBER,
14:32:04 148  	in_month IN NUMBER
14:32:04 149  ) AS
14:32:04 150  -- CONSTANTS
14:32:04 151  CONST_TABLE_NAME	     CONSTANT VARCHAR2(19) := 'TRANSACTION_HISTORY';
14:32:04 152  CONST_PARTITION_PREFIX CONSTANT VARCHAR2(11) := 'transaction';
14:32:04 153  BEGIN
14:32:04 154  	ADD_TABLE_PARTITION(CONST_TABLE_NAME, CONST_PARTITION_PREFIX, in_year, in_month);
14:32:04 155  END ADD_TRANSACTION_PARTITION;
14:32:04 156  
14:32:04 157  /**************************************************************/
14:32:04 158  
14:32:04 159  PROCEDURE ADD_INVOICE_PARTITION(
14:32:04 160  	in_year  IN NUMBER,
14:32:04 161  	in_month IN NUMBER
14:32:04 162  ) AS
14:32:04 163  -- CONSTANTS
14:32:04 164  CONST_TABLE_NAME	     CONSTANT VARCHAR2(15) := 'INVOICE_HISTORY';
14:32:04 165  CONST_PARTITION_PREFIX CONSTANT VARCHAR2(7) := 'invoice';
14:32:04 166  BEGIN
14:32:04 167  	ADD_TABLE_PARTITION(CONST_TABLE_NAME, CONST_PARTITION_PREFIX, in_year, in_month);
14:32:04 168  END ADD_INVOICE_PARTITION;
14:32:04 169  
14:32:04 170  /**************************************************************/
14:32:04 171  
14:32:04 172  PROCEDURE ADD_LICENSE_PARTITION(
14:32:04 173  	in_year  IN NUMBER,
14:32:04 174  	in_month IN NUMBER
14:32:04 175  ) AS
14:32:04 176  -- CONSTANTS
14:32:04 177  CONST_TABLE_NAME	     CONSTANT VARCHAR2(15) := 'LICENSE_HISTORY';
14:32:04 178  CONST_PARTITION_PREFIX CONSTANT VARCHAR2(7) := 'license';
14:32:04 179  BEGIN
14:32:04 180  	ADD_TABLE_PARTITION(CONST_TABLE_NAME, CONST_PARTITION_PREFIX, in_year, in_month);
14:32:04 181  END ADD_LICENSE_PARTITION;
14:32:04 182  
14:32:04 183  /**************************************************************/
14:32:04 184  
14:32:04 185  PROCEDURE ADD_CHARGE_PARTITION(
14:32:04 186  	in_year  IN NUMBER,
14:32:04 187  	in_month IN NUMBER
14:32:04 188  ) AS
14:32:04 189  -- CONSTANTS
14:32:04 190  CONST_TABLE_NAME	     CONSTANT VARCHAR2(15) := 'CHARGE_HISTORY';
14:32:04 191  CONST_PARTITION_PREFIX CONSTANT VARCHAR2(7) := 'charge';
14:32:04 192  BEGIN
14:32:04 193  	ADD_TABLE_PARTITION(CONST_TABLE_NAME, CONST_PARTITION_PREFIX, in_year, in_month);
14:32:04 194  END ADD_CHARGE_PARTITION;
14:32:04 195  
14:32:04 196  /**************************************************************/
14:32:04 197  
14:32:04 198  PROCEDURE ADD_NOTIFICATION_PARTITION(
14:32:04 199  	in_year  IN NUMBER,
14:32:04 200  	in_month IN NUMBER
14:32:04 201  ) AS
14:32:04 202  -- CONSTANTS
14:32:04 203  	CONST_TABLE_NAME       CONSTANT VARCHAR2(20) := 'NOTIFICATION_HISTORY';
14:32:04 204  	CONST_PARTITION_PREFIX CONSTANT VARCHAR2(12)  := 'notification';
14:32:04 205  BEGIN
14:32:04 206  	ADD_TABLE_PARTITION(CONST_TABLE_NAME, CONST_PARTITION_PREFIX, in_year, in_month);
14:32:04 207  END ADD_NOTIFICATION_PARTITION;
14:32:04 208  
14:32:04 209  /**************************************************************/
14:32:04 210  
14:32:04 211  PROCEDURE ADD_NOTIF_FAILURE_PARTITION(
14:32:04 212  	in_year  IN NUMBER,
14:32:04 213  	in_month IN NUMBER
14:32:04 214  ) AS
14:32:04 215  -- CONSTANTS
14:32:04 216  	CONST_TABLE_NAME       CONSTANT VARCHAR2(28) := 'NOTIFICATION_FAILURE_HISTORY';
14:32:04 217  	CONST_PARTITION_PREFIX CONSTANT VARCHAR2(20) := 'notification_failure';
14:32:04 218  BEGIN
14:32:04 219  	ADD_TABLE_PARTITION(CONST_TABLE_NAME, CONST_PARTITION_PREFIX, in_year, in_month);
14:32:04 220  END ADD_NOTIF_FAILURE_PARTITION;
14:32:04 221  
14:32:04 222  END PROCS_PARTITIONS_V18;
14:32:04 223  .
14:32:04 SQL> /

Package body created.

Elapsed: 00:00:00.08
14:32:04 SQL> 
14:32:04 SQL> --------------------------------------------------------------------------------
14:32:04 SQL> -- DDL for package PROCS_SYSTEM
14:32:04 SQL> --------------------------------------------------------------------------------
14:32:04 SQL> 
14:32:04 SQL> CREATE OR REPLACE PACKAGE "PROCS_SYSTEM_V18" AS
14:32:04   2  
14:32:04   3  PROCEDURE INCREMENT_VERSION;
14:32:04   4  
14:32:04   5  PROCEDURE CHECK_VERSION(
14:32:04   6  	  in_vers    IN NUMBER,
14:32:04   7  	  out_result OUT NUMBER
14:32:04   8  );
14:32:04   9  
14:32:04  10  END PROCS_SYSTEM_V18;
14:32:04  11  .
14:32:04 SQL> /

Package created.

Elapsed: 00:00:00.06
14:32:04 SQL> 
14:32:04 SQL> CREATE OR REPLACE PACKAGE BODY "PROCS_SYSTEM_V18" AS
14:32:04   2  
14:32:04   3  PROCEDURE INCREMENT_VERSION
14:32:04   4  /*
14:32:04   5  Throws exceptions:
14:32:04   6  CORE_OWNER.APP_EXCEPTION_CODES_V18.UNKNOWN_ERROR
14:32:04   7  */
14:32:04   8  AS
14:32:04   9  BEGIN
14:32:04  10  
14:32:04  11  	UPDATE SYS_VERSION SET version=version+1;
14:32:04  12  
14:32:04  13  EXCEPTION
14:32:04  14  WHEN OTHERS THEN
14:32:04  15  	RAISE_APPLICATION_ERROR(CORE_OWNER.APP_EXCEPTION_CODES_V18.UNKNOWN_ERROR,
14:32:04  16  	  'Unknown error');
14:32:04  17  END INCREMENT_VERSION;
14:32:04  18  
14:32:04  19  /*************************************************************/
14:32:04  20  
14:32:04  21  PROCEDURE CHECK_VERSION(
14:32:04  22  	  in_vers    IN NUMBER,
14:32:04  23  	  out_result OUT NUMBER
14:32:04  24  ) AS
14:32:04  25  	current_version NUMBER;
14:32:04  26  BEGIN
14:32:04  27  	SELECT version INTO current_version FROM SYS_VERSION;
14:32:04  28  	IF(current_version != in_vers) THEN
14:32:04  29  	  out_result := 1;
14:32:04  30  	ELSE
14:32:04  31  	  out_result := 0;
14:32:04  32  	END IF;
14:32:04  33  	EXCEPTION
14:32:04  34  	      WHEN OTHERS THEN
14:32:04  35  	      NULL;
14:32:04  36  END CHECK_VERSION;
14:32:04  37  
14:32:04  38  END PROCS_SYSTEM_V18;
14:32:04  39  .
14:32:04 SQL> /

Package body created.

Elapsed: 00:00:00.04
14:32:04 SQL> 
14:32:04 SQL> grant execute on PUBLIC_PROCS_CORE_V18 to core_owner;

Grant succeeded.

Elapsed: 00:00:00.02
14:32:04 SQL> grant execute on PUBLIC_PROCS_CORE_V18 to core_app;

Grant succeeded.

Elapsed: 00:00:00.00
14:32:04 SQL> GRANT EXECUTE ON PUBLIC_PROCS_CORE_V18 TO ops_owner;

Grant succeeded.

Elapsed: 00:00:00.00
14:32:04 SQL> GRANT EXECUTE ON PUBLIC_PROCS_CORE_V18 TO ops_aaa_app;

Grant succeeded.

Elapsed: 00:00:00.01
14:32:04 SQL> GRANT EXECUTE ON PUBLIC_PROCS_CORE_V18 TO ops_payment_app;

Grant succeeded.

Elapsed: 00:00:00.01
14:32:04 SQL> GRANT EXECUTE ON PUBLIC_PROCS_CORE_V18 TO ops_notif_app;

Grant succeeded.

Elapsed: 00:00:00.00
14:32:04 SQL> commit;

Commit complete.

Elapsed: 00:00:00.00
14:32:04 SQL> spool off;


Subject: Nomad upgrade completed successfully: ECST@rac01.stg.ewr1.nytimes.com
From: Nomad for Oracle <nytd_oracledba@nytimes.com>
To: nytd_ecommerce@nytimes.com
Cc: nytd_oracledba@nytimes.com

Nomad upgrade operation completed successfully without errors. 
        
        Details
        -------
        DB Hostname: rac01.stg.ewr1.nytimes.com
        DB Role: PRIMARY
        SID: ECST
        Schema: core_hist_owner
        Migration: 5.2-release-1.13.0-2-CORE_HIST-all
        SVN Revision: 11555
        Duration: 2 sec.
        DBA: sbao
        Service Request: https://jira.em.nytimes.com/browse/ORA-536