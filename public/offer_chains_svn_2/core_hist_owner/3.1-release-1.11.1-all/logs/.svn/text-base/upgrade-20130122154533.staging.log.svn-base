15:45:47 SQL> @/dbbackups/ECST2/migrations/core_hist_owner/3.1-release-1.11.1-all/upgrade.sql
15:45:47 SQL> --------------------------------------------------------------------------------
15:45:47 SQL> -- DDL for package PROCS_HISTORY
15:45:47 SQL> --------------------------------------------------------------------------------
15:45:47 SQL> 
15:45:47 SQL> CREATE OR REPLACE PACKAGE "PROCS_HISTORY_V17" AS
15:45:47   2  
15:45:47   3  PROCEDURE CREATE_ADDRESS_HISTORY (
15:45:47   4  /*
15:45:47   5  Throws exceptions:
15:45:47   6  APP_EXCEPTION_CODES_V17.UNKNOWN_ERROR
15:45:47   7  */
15:45:47   8  	in_address_id		      IN ADDRESS_HISTORY.ADDRESS_ID%TYPE,
15:45:47   9  	in_system_activity_reason_id  IN ADDRESS_HISTORY.SYSTEM_ACTIVITY_REASON_ID%TYPE,
15:45:47  10  	in_address1		      IN ADDRESS_HISTORY.ADDRESS1%TYPE,
15:45:47  11  	in_address2		      IN ADDRESS_HISTORY.ADDRESS2%TYPE,
15:45:47  12  	in_city 		      IN ADDRESS_HISTORY.CITY%TYPE,
15:45:47  13  	in_state		      IN ADDRESS_HISTORY.STATE%TYPE,
15:45:47  14  	in_postal_code		      IN ADDRESS_HISTORY.POSTAL_CODE%TYPE,
15:45:47  15  	in_country		      IN ADDRESS_HISTORY.COUNTRY%TYPE,
15:45:47  16  	in_created_by		      IN ADDRESS_HISTORY.CREATED_BY%TYPE,
15:45:47  17  	in_create_date		      IN ADDRESS_HISTORY.CREATE_DATE%TYPE,
15:45:47  18  	in_updated_by		      IN ADDRESS_HISTORY.UPDATED_BY%TYPE,
15:45:47  19  	in_update_date		      IN ADDRESS_HISTORY.UPDATE_DATE%TYPE
15:45:47  20  );
15:45:47  21  
15:45:47  22  PROCEDURE CREATE_ACCOUNT_HISTORY (
15:45:47  23  /*
15:45:47  24  Throws exceptions:
15:45:47  25  APP_EXCEPTION_CODES_V17.UNKNOWN_ERROR
15:45:47  26  */
15:45:47  27  	in_account_id		      IN NUMBER,
15:45:47  28  	in_suspend_date 	      IN DATE,
15:45:47  29  	in_group_id		      IN NUMBER,
15:45:47  30  	in_created_by		      IN VARCHAR2,
15:45:47  31  	in_create_date		      IN DATE,
15:45:47  32  	in_system_activity_reason_id  IN NUMBER,
15:45:47  33  	in_account_status_id	      IN NUMBER,
15:45:47  34  	in_instrument_type_id	      IN NUMBER,
15:45:47  35  	in_instrument_id	      IN NUMBER
15:45:47  36  );
15:45:47  37  
15:45:47  38  PROCEDURE CREATE_SUBSCRIPTION_HISTORY (
15:45:47  39  /*
15:45:47  40  Throws exceptions:
15:45:47  41  APP_EXCEPTION_CODES_V17.UNKNOWN_ERROR
15:45:47  42  */
15:45:47  43  	in_subscription_id	     IN  NUMBER,
15:45:47  44  	in_account_id		     IN NUMBER,
15:45:47  45  	in_purchase_date	     IN DATE,
15:45:47  46  	in_offer_chain_id	     IN NUMBER,
15:45:47  47  	in_suspend_date 	     IN DATE,
15:45:47  48  	in_termination_date	     IN DATE,
15:45:47  49  	in_days_remaining_adjustment IN NUMBER,
15:45:47  50  	in_cancellation_type_id      IN NUMBER,
15:45:47  51  	in_created_by		     IN  VARCHAR2,
15:45:47  52  	in_create_date		     IN DATE,
15:45:47  53  	in_system_activity_reason_id IN  NUMBER
15:45:47  54  );
15:45:47  55  
15:45:47  56  PROCEDURE CREATE_CREDIT_CARD_HISTORY (
15:45:47  57  /*
15:45:47  58  Throws exceptions:
15:45:47  59  APP_EXCEPTION_CODES_V17.UNKNOWN_ERROR
15:45:47  60  */
15:45:47  61  	in_credit_card_id	      IN  NUMBER,
15:45:47  62  	in_account_id		      IN NUMBER,
15:45:47  63  	in_instrument_name	      IN VARCHAR2,
15:45:47  64  	in_private_card_holder_name   IN VARCHAR2,
15:45:47  65  	in_private_street_address     IN VARCHAR2,
15:45:47  66  	in_private_street_address2    IN VARCHAR2,
15:45:47  67  	in_state		      IN VARCHAR2,
15:45:47  68  	in_city 		      IN VARCHAR2,
15:45:47  69  	in_postal_code		      IN VARCHAR2,
15:45:47  70  	in_country		      IN CHAR,
15:45:47  71  	in_last_four_cc 	      IN VARCHAR2,
15:45:47  72  	in_expiration_date	      IN DATE,
15:45:47  73  	in_credit_card_type_id	      IN NUMBER,
15:45:47  74  	in_secret_token 	      IN VARCHAR2,
15:45:47  75  	in_chase_profile_id	      IN VARCHAR2,
15:45:47  76  	in_credit_card_status_id      IN NUMBER,
15:45:47  77  	in_created_by		      IN  VARCHAR2,
15:45:47  78  	in_create_date		      IN DATE,
15:45:47  79  	in_system_activity_reason_id  IN  NUMBER
15:45:47  80  );
15:45:47  81  
15:45:47  82  PROCEDURE CREATE_PAYPAL_HISTORY (
15:45:47  83  /*
15:45:47  84  Throws exceptions:
15:45:47  85  APP_EXCEPTION_CODES_V17.UNKNOWN_ERROR
15:45:47  86  */
15:45:47  87  	in_paypal_id			IN NUMBER,
15:45:47  88  	in_account_id			IN NUMBER,
15:45:47  89  	in_instrument_name		IN VARCHAR2,
15:45:47  90  	in_private_email_address	IN VARCHAR2,
15:45:47  91  	in_created_by			IN VARCHAR2,
15:45:47  92  	in_create_date			IN DATE,
15:45:47  93  	in_paypal_status_id		IN NUMBER,
15:45:47  94  	in_paypal_prvt_street_address	IN VARCHAR2,
15:45:47  95  	in_paypal_prvt_street_address2	IN VARCHAR2,
15:45:47  96  	in_state			IN VARCHAR2,
15:45:47  97  	in_city 			IN VARCHAR2,
15:45:47  98  	in_postal_code			IN VARCHAR2,
15:45:47  99  	in_country			IN CHAR,
15:45:47 100  	in_expiration_date		IN DATE,
15:45:47 101  	in_system_activity_reason_id	IN NUMBER,
15:45:47 102  	in_secret_token 		IN VARCHAR2
15:45:47 103  );
15:45:47 104  
15:45:47 105  PROCEDURE CREATE_TRANSACTION_HISTORY (
15:45:47 106  /*
15:45:47 107  Throws exceptions:
15:45:47 108  APP_EXCEPTION_CODES_V17.UNKNOWN_ERROR
15:45:47 109  */
15:45:47 110  	in_transaction_id	     IN NUMBER,
15:45:47 111  	in_transaction_status_id     IN NUMBER,
15:45:47 112  	in_transaction_amount	     IN NUMBER,
15:45:47 113  	in_created_by		     IN VARCHAR2,
15:45:47 114  	in_create_date		     IN DATE,
15:45:47 115  	in_system_activity_reason_id IN NUMBER
15:45:47 116  );
15:45:47 117  
15:45:47 118  PROCEDURE CREATE_GIFT_CERT_HISTORY (
15:45:47 119  /*
15:45:47 120  Throws exceptions:
15:45:47 121  APP_EXCEPTION_CODES_V17.UNKNOWN_ERROR
15:45:47 122  */
15:45:47 123  	in_gift_certificate_id	      IN NUMBER,
15:45:47 124  	in_purchaser_group_id	      IN NUMBER,
15:45:47 125  	in_purchase_invoice_id	      IN NUMBER,
15:45:47 126  	in_offer_chain_id	      IN NUMBER,
15:45:47 127  	in_expiration_date	      IN DATE,
15:45:47 128  	in_purchase_date	      IN DATE,
15:45:47 129  	in_gift_certificate_status_id IN NUMBER,
15:45:47 130  	in_code 		      IN VARCHAR2,
15:45:47 131  	in_created_by		      IN VARCHAR2,
15:45:47 132  	in_create_date		      IN DATE,
15:45:47 133  	in_system_activity_reason_id  IN NUMBER,
15:45:47 134  	in_recipient_name	      IN VARCHAR2,
15:45:47 135  	in_gift_message 	      IN VARCHAR2,
15:45:47 136  	in_recipient_email	      IN VARCHAR2,
15:45:47 137  	in_finalized_invoice_id       IN NUMBER,
15:45:47 138  	in_sender_email 	      IN VARCHAR2,
15:45:47 139  	in_sender_name		      IN VARCHAR2,
15:45:47 140  	in_redemption_date	      IN DATE,
15:45:47 141  	in_redeemer_group_id	      IN NUMBER,
15:45:47 142  	in_cancelation_date	      IN DATE,
15:45:47 143  	in_recipient_address_id       IN NUMBER,
15:45:47 144  	in_redeemer_address_id	      IN NUMBER,
15:45:47 145  	in_recipient_notify_date      IN DATE
15:45:47 146  );
15:45:47 147  
15:45:47 148  PROCEDURE CREATE_INVOICE_HISTORY (
15:45:47 149  /*
15:45:47 150  Throws exceptions:
15:45:47 151  APP_EXCEPTION_CODES_V17.UNKNOWN_ERROR
15:45:47 152  */
15:45:47 153  	in_invoice_id		     IN NUMBER,
15:45:47 154  	in_invoice_status_id	     IN NUMBER,
15:45:47 155  	in_created_by		     IN VARCHAR2,
15:45:47 156  	in_create_date		     IN DATE,
15:45:47 157  	in_system_activity_reason_id IN NUMBER
15:45:47 158  );
15:45:47 159  
15:45:47 160  PROCEDURE CREATE_LICENSE_HISTORY (
15:45:47 161  /*
15:45:47 162  Throws exceptions:
15:45:47 163  APP_EXCEPTION_CODES_V17.UNKNOWN_ERROR
15:45:47 164  */
15:45:47 165  	in_license_id		     IN NUMBER,
15:45:47 166  	in_license_status_id	     IN NUMBER,
15:45:47 167  	in_needs_entitlements	     IN NUMBER,
15:45:47 168  	in_start_date		     IN DATE,
15:45:47 169  	in_offer_id		     IN NUMBER,
15:45:47 170  	in_subscription_id	     IN NUMBER,
15:45:47 171  	in_invoice_id		     IN NUMBER,
15:45:47 172  	in_end_date		     IN DATE,
15:45:47 173  	in_created_by		     IN VARCHAR2,
15:45:47 174  	in_create_date		     IN DATE,
15:45:47 175  	in_is_extension 	     IN NUMBER,
15:45:47 176  	in_current_offer_index	     IN NUMBER,
15:45:47 177  	in_current_offer_recurr_num  IN NUMBER,
15:45:47 178  	in_system_activity_reason_id IN NUMBER,
15:45:47 179  	in_entitlement_end_date      IN DATE
15:45:47 180  );
15:45:47 181  
15:45:47 182  PROCEDURE CREATE_CHARGE_HISTORY (
15:45:47 183  /*
15:45:47 184  Throws exceptions:
15:45:47 185  APP_EXCEPTION_CODES_V17.UNKNOWN_ERROR
15:45:47 186  */
15:45:47 187  	in_charge_id		     IN NUMBER,
15:45:47 188  	in_invoice_id		     IN NUMBER,
15:45:47 189  	in_transaction_id	     IN NUMBER,
15:45:47 190  	in_instrument_type_id	     IN NUMBER,
15:45:47 191  	in_instrument_id	     IN NUMBER,
15:45:47 192  	in_charge_amount	     IN NUMBER,
15:45:47 193  	in_created_by		     IN VARCHAR2,
15:45:47 194  	in_create_date		     IN DATE,
15:45:47 195  	in_charge_status_id	     IN NUMBER,
15:45:47 196  	in_system_activity_reason_id IN NUMBER
15:45:47 197  );
15:45:47 198  
15:45:47 199  PROCEDURE CREATE_ITUNES_RECEIPT_HISTORY (
15:45:47 200  /*
15:45:47 201  Throws exceptions:
15:45:47 202  APP_EXCEPTION_CODES_V17.UNKNOWN_ERROR
15:45:47 203  */
15:45:47 204  /*
15:45:47 205  CREATE TABLE ITUNES_RECEIPT (
15:45:47 206  	id NUMBER NOT NULL ENABLE,
15:45:47 207  	subscription_id NUMBER NOT NULL ENABLE,
15:45:47 208  	receipt VARCHAR(1024) NOT NULL ENABLE,
15:45:47 209  	status NUMBER,
15:45:47 210  	quantity NUMBER,
15:45:47 211  	product_id VARCHAR(1024),
15:45:47 212  	transaction_id VARCHAR(1024),
15:45:47 213  	purchase_date TIMESTAMP,
15:45:47 214  	original_transaction_id VARCHAR(1024),
15:45:47 215  	original_purchase_date TIMESTAMP,
15:45:47 216  	app_item_id VARCHAR(1024),
15:45:47 217  	version_external_id NUMBER,
15:45:47 218  	bid VARCHAR(1024),
15:45:47 219  	bvrs VARCHAR(255),
15:45:47 220  	expires_date TIMESTAMP,
15:45:47 221  	create_date DATE NOT NULL,
15:45:47 222  	created_by VARCHAR(255) NOT NULL,
15:45:47 223  	update_date DATE NOT NULL,
15:45:47 224  	updated_by VARCHAR(255) NOT NULL,
15:45:47 225  	last_check_date DATE NOT NULL,
15:45:47 226  	CONSTRAINT "ITUNESRECEIPT_PK" PRIMARY KEY ("ID") USING INDEX TABLESPACE "CORE_IDX" ENABLE,
15:45:47 227  	CONSTRAINT "ITUNESRECEIPT_SUBID_FK" FOREIGN KEY ("SUBSCRIPTION_ID") REFERENCES SUBSCRIPTION(ID) USING INDEX TABLESPACE "CORE_IDX" ENABLE,
15:45:47 228  	CONSTRAINT "ITUNESRECEIPT_RECEIPT_UK" UNIQUE(receipt) USING INDEX TABLESPACE "CORE_IDX" ENABLE,
15:45:47 229  	CONSTRAINT "ITUNESRECEIPT_SUBID_UK" UNIQUE(subscription_id) USING INDEX TABLESPACE "CORE_IDX" ENABLE
15:45:47 230  )
15:45:47 231  TABLESPACE CORE;
15:45:47 232  */
15:45:47 233  	in_id		    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.ID%TYPE,
15:45:47 234  	in_subscription_id  IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.SUBSCRIPTION_ID%TYPE,
15:45:47 235  	in_receipt	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.RECEIPT%TYPE,
15:45:47 236  	in_status	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.STATUS%TYPE,
15:45:47 237  	in_quantity	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.QUANTITY%TYPE,
15:45:47 238  	in_product_id	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.PRODUCT_ID%TYPE,
15:45:47 239  	in_transaction_id   IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.TRANSACTION_ID%TYPE,
15:45:47 240  	in_purchase_date    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.PURCHASE_DATE%TYPE,
15:45:47 241  	in_original_transaction_id IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.ORIGINAL_TRANSACTION_ID%TYPE,
15:45:47 242  	in_original_purchase_date IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.ORIGINAL_PURCHASE_DATE%TYPE,
15:45:47 243  	in_app_item_id	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.APP_ITEM_ID%TYPE,
15:45:47 244  	in_version_external_id IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.VERSION_EXTERNAL_ID%TYPE,
15:45:47 245  	in_bid		    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.BID%TYPE,
15:45:47 246  	in_bvrs 	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.BVRS%TYPE,
15:45:47 247  	in_expires_date     IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.EXPIRES_DATE%TYPE,
15:45:47 248  	in_create_date	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.CREATE_DATE%TYPE,
15:45:47 249  	in_created_by	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.CREATED_BY%TYPE,
15:45:47 250  	in_update_date	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.UPDATE_DATE%TYPE,
15:45:47 251  	in_updated_by	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.UPDATED_BY%TYPE,
15:45:47 252  	in_last_check_date  IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.LAST_CHECK_DATE%TYPE,
15:45:47 253  	in_cancel_date	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.CANCEL_DATE%TYPE
15:45:47 254  );
15:45:47 255  
15:45:47 256  PROCEDURE CREATE_INVOICE_ADJ_HISTORY (
15:45:47 257  /*
15:45:47 258  Throws exceptions:
15:45:47 259  APP_EXCEPTION_CODES_V17.UNKNOWN_ERROR
15:45:47 260  */
15:45:47 261  	in_invoice_adjustment_id     IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.INVOICE_ADJUSTMENT_ID%TYPE,
15:45:47 262  	in_invoice_id		     IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.INVOICE_ID%TYPE,
15:45:47 263  	in_is_credit		     IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.IS_CREDIT%TYPE,
15:45:47 264  	in_charge_id		     IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.CHARGE_ID%TYPE,
15:45:47 265  	in_adjustment_date	     IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.ADJUSTMENT_DATE%TYPE,
15:45:47 266  	in_create_date		     IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.CREATE_DATE%TYPE,
15:45:47 267  	in_created_by		     IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.CREATED_BY%TYPE,
15:45:47 268  	in_invoice_adj_reason_id	       IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.INVOICE_ADJUSTMENT_REASON_ID%TYPE,
15:45:47 269  	in_update_date		      IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.UPDATE_DATE%TYPE,
15:45:47 270  	in_updated_by		     IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.UPDATED_BY%TYPE
15:45:47 271  );
15:45:47 272  
15:45:47 273  PROCEDURE CREATE_NOTIFICATION_HISTORY (
15:45:47 274  	/*
15:45:47 275  	Throws exceptions:
15:45:47 276  	APP_EXCEPTION_CODES_V17.UNKNOWN_ERROR
15:45:47 277  	*/
15:45:47 278  	in_notification_id	      IN NUMBER,
15:45:47 279  	in_account_id		      IN NUMBER,
15:45:47 280  	in_group_id		      IN NUMBER,
15:45:47 281  	notification_reason_type_id   IN NUMBER,
15:45:47 282  	notification_status_id	      IN NUMBER,
15:45:47 283  	email_template_params	      IN CLOB,
15:45:47 284  	in_create_date		      IN DATE,
15:45:47 285  	in_date_to_notify	      IN DATE
15:45:47 286  );
15:45:47 287  
15:45:47 288  PROCEDURE CREATE_NOTIF_FAILURE_HISTORY (
15:45:47 289  	/*
15:45:47 290  	Throws exceptions:
15:45:47 291  	APP_EXCEPTION_CODES_V17.UNKNOWN_ERROR
15:45:47 292  	*/
15:45:47 293  	in_error_messgae	 IN VARCHAR2,
15:45:47 294  	in_notification_id	 IN NUMBER,
15:45:47 295  	in_create_date		 IN DATE
15:45:47 296  );
15:45:47 297  
15:45:47 298  END PROCS_HISTORY_V17;
15:45:47 299  .
15:45:47 SQL> /

Package created.

Elapsed: 00:00:00.13
15:45:47 SQL> 
15:45:47 SQL> CREATE OR REPLACE PACKAGE BODY "PROCS_HISTORY_V17" AS
15:45:47   2  
15:45:47   3  PROCEDURE CREATE_ADDRESS_HISTORY (
15:45:47   4  /*
15:45:47   5  Throws exceptions:
15:45:47   6  APP_EXCEPTION_CODES_V17.UNKNOWN_ERROR
15:45:47   7  */
15:45:47   8  	in_address_id		      IN ADDRESS_HISTORY.ADDRESS_ID%TYPE,
15:45:47   9  	in_system_activity_reason_id  IN ADDRESS_HISTORY.SYSTEM_ACTIVITY_REASON_ID%TYPE,
15:45:47  10  	in_address1		      IN ADDRESS_HISTORY.ADDRESS1%TYPE,
15:45:47  11  	in_address2		      IN ADDRESS_HISTORY.ADDRESS2%TYPE,
15:45:47  12  	in_city 		      IN ADDRESS_HISTORY.CITY%TYPE,
15:45:47  13  	in_state		      IN ADDRESS_HISTORY.STATE%TYPE,
15:45:47  14  	in_postal_code		      IN ADDRESS_HISTORY.POSTAL_CODE%TYPE,
15:45:47  15  	in_country		      IN ADDRESS_HISTORY.COUNTRY%TYPE,
15:45:47  16  	in_created_by		      IN ADDRESS_HISTORY.CREATED_BY%TYPE,
15:45:47  17  	in_create_date		      IN ADDRESS_HISTORY.CREATE_DATE%TYPE,
15:45:47  18  	in_updated_by		      IN ADDRESS_HISTORY.UPDATED_BY%TYPE,
15:45:47  19  	in_update_date		      IN ADDRESS_HISTORY.UPDATE_DATE%TYPE
15:45:47  20  ) AS
15:45:47  21  SPROC_NAME CONSTANT VARCHAR2(22) := 'CREATE_ADDRESS_HISTORY';
15:45:47  22  BEGIN
15:45:47  23  
15:45:47  24  	INSERT INTO
15:45:47  25  	  ADDRESS_HISTORY (
15:45:47  26  	  ADDRESS_ID,
15:45:47  27  	  SYSTEM_ACTIVITY_REASON_ID,
15:45:47  28  	  ADDRESS1,
15:45:47  29  	  ADDRESS2,
15:45:47  30  	  CITY,
15:45:47  31  	  STATE,
15:45:47  32  	  POSTAL_CODE,
15:45:47  33  	  COUNTRY,
15:45:47  34  	  CREATED_BY,
15:45:47  35  	  CREATE_DATE,
15:45:47  36  	  UPDATED_BY,
15:45:47  37  	  UPDATE_DATE
15:45:47  38  	) VALUES (
15:45:47  39  	  in_address_id,
15:45:47  40  	  in_system_activity_reason_id,
15:45:47  41  	  in_address1,
15:45:47  42  	  in_address2,
15:45:47  43  	  in_city,
15:45:47  44  	  in_state,
15:45:47  45  	  in_postal_code,
15:45:47  46  	  in_country,
15:45:47  47  	  in_created_by,
15:45:47  48  	  in_create_date,
15:45:47  49  	  in_updated_by,
15:45:47  50  	  in_update_date
15:45:47  51  	);
15:45:47  52  
15:45:47  53  EXCEPTION
15:45:47  54  WHEN OTHERS THEN
15:45:47  55  	RAISE_APPLICATION_ERROR(CORE_OWNER.APP_EXCEPTION_CODES_V17.UNKNOWN_ERROR,
15:45:47  56  	  SPROC_NAME||': Unknown error: '||SQLERRM);
15:45:47  57  END CREATE_ADDRESS_HISTORY;
15:45:47  58  
15:45:47  59  /******************************************************************************/
15:45:47  60  
15:45:47  61  PROCEDURE CREATE_ACCOUNT_HISTORY (
15:45:47  62  /*
15:45:47  63  Throws exceptions:
15:45:47  64  APP_EXCEPTION_CODES_V17.UNKNOWN_ERROR
15:45:47  65  */
15:45:47  66  	in_account_id		      IN NUMBER,
15:45:47  67  	in_suspend_date 	      IN DATE,
15:45:47  68  	in_group_id		      IN NUMBER,
15:45:47  69  	in_created_by		      IN VARCHAR2,
15:45:47  70  	in_create_date		      IN DATE,
15:45:47  71  	in_system_activity_reason_id  IN NUMBER,
15:45:47  72  	in_account_status_id	      IN NUMBER,
15:45:47  73  	in_instrument_type_id	      IN NUMBER,
15:45:47  74  	in_instrument_id	      IN NUMBER
15:45:47  75  ) AS
15:45:47  76  SPROC_NAME CONSTANT VARCHAR2(22) := 'CREATE_ACCOUNT_HISTORY';
15:45:47  77  BEGIN
15:45:47  78  
15:45:47  79  	INSERT INTO
15:45:47  80  	  ACCOUNT_HISTORY (
15:45:47  81  	  ACCOUNT_ID,
15:45:47  82  	  SUSPEND_DATE,
15:45:47  83  	  GROUP_ID,
15:45:47  84  	  CREATE_DATE,
15:45:47  85  	  CREATED_BY,
15:45:47  86  	  SYSTEM_ACTIVITY_REASON_ID,
15:45:47  87  	  ACCOUNT_STATUS_ID,
15:45:47  88  	  INSTRUMENT_TYPE_ID,
15:45:47  89  	  INSTRUMENT_ID
15:45:47  90  	) VALUES (
15:45:47  91  	  in_account_id,
15:45:47  92  	  in_suspend_date,
15:45:47  93  	  in_group_id,
15:45:47  94  	  in_create_date,
15:45:47  95  	  in_created_by,
15:45:47  96  	  in_system_activity_reason_id,
15:45:47  97  	  in_account_status_id,
15:45:47  98  	  in_instrument_type_id,
15:45:47  99  	  in_instrument_id
15:45:47 100  	);
15:45:47 101  
15:45:47 102  EXCEPTION
15:45:47 103  WHEN OTHERS THEN
15:45:47 104  	RAISE_APPLICATION_ERROR(CORE_OWNER.APP_EXCEPTION_CODES_V17.UNKNOWN_ERROR,
15:45:47 105  	  SPROC_NAME||': Unknown error: '||SQLERRM);
15:45:47 106  END CREATE_ACCOUNT_HISTORY;
15:45:47 107  
15:45:47 108  /******************************************************************************/
15:45:47 109  
15:45:47 110  PROCEDURE CREATE_SUBSCRIPTION_HISTORY (
15:45:47 111  /*
15:45:47 112  Throws exceptions:
15:45:47 113  APP_EXCEPTION_CODES_V17.UNKNOWN_ERROR
15:45:47 114  */
15:45:47 115  	in_subscription_id	     IN  NUMBER,
15:45:47 116  	in_account_id		     IN NUMBER,
15:45:47 117  	in_purchase_date	     IN DATE,
15:45:47 118  	in_offer_chain_id	     IN NUMBER,
15:45:47 119  	in_suspend_date 	     IN DATE,
15:45:47 120  	in_termination_date	     IN DATE,
15:45:47 121  	in_days_remaining_adjustment IN NUMBER,
15:45:47 122  	in_cancellation_type_id      IN NUMBER,
15:45:47 123  	in_created_by		     IN  VARCHAR2,
15:45:47 124  	in_create_date		     IN DATE,
15:45:47 125  	in_system_activity_reason_id IN  NUMBER
15:45:47 126  ) AS
15:45:47 127  SPROC_NAME CONSTANT VARCHAR2(27) := 'CREATE_SUBSCRIPTION_HISTORY';
15:45:47 128  BEGIN
15:45:47 129  
15:45:47 130  	INSERT INTO SUBSCRIPTION_HISTORY (
15:45:47 131  	  SUBSCRIPTION_ID,
15:45:47 132  	  ACCOUNT_ID,
15:45:47 133  	  PURCHASE_DATE,
15:45:47 134  	  OFFER_CHAIN_ID,
15:45:47 135  	  SUSPEND_DATE,
15:45:47 136  	  TERMINATION_DATE,
15:45:47 137  	  DAYS_REMAINING_ADJUSTMENT,
15:45:47 138  	  CANCELLATION_TYPE_ID,
15:45:47 139  	  CREATE_DATE,
15:45:47 140  	  CREATED_BY,
15:45:47 141  	  SYSTEM_ACTIVITY_REASON_ID
15:45:47 142  	) VALUES (
15:45:47 143  	  in_subscription_id,
15:45:47 144  	  in_account_id,
15:45:47 145  	  in_purchase_date,
15:45:47 146  	  in_offer_chain_id,
15:45:47 147  	  in_suspend_date,
15:45:47 148  	  in_termination_date,
15:45:47 149  	  in_days_remaining_adjustment,
15:45:47 150  	  in_cancellation_type_id,
15:45:47 151  	  in_create_date,
15:45:47 152  	  in_created_by,
15:45:47 153  	  in_system_activity_reason_id
15:45:47 154  	);
15:45:47 155  
15:45:47 156  EXCEPTION
15:45:47 157  WHEN OTHERS THEN
15:45:47 158  	RAISE_APPLICATION_ERROR(CORE_OWNER.APP_EXCEPTION_CODES_V17.UNKNOWN_ERROR,
15:45:47 159  	  SPROC_NAME||': Unknown error: '||SQLERRM);
15:45:47 160  END CREATE_SUBSCRIPTION_HISTORY;
15:45:47 161  
15:45:47 162  /******************************************************************************/
15:45:47 163  
15:45:47 164  PROCEDURE CREATE_CREDIT_CARD_HISTORY (
15:45:47 165  /*
15:45:47 166  Throws exceptions:
15:45:47 167  APP_EXCEPTION_CODES_V17.UNKNOWN_ERROR
15:45:47 168  */
15:45:47 169  	in_credit_card_id	      IN  NUMBER,
15:45:47 170  	in_account_id		      IN NUMBER,
15:45:47 171  	in_instrument_name	      IN VARCHAR2,
15:45:47 172  	in_private_card_holder_name   IN VARCHAR2,
15:45:47 173  	in_private_street_address     IN VARCHAR2,
15:45:47 174  	in_private_street_address2    IN VARCHAR2,
15:45:47 175  	in_state		      IN VARCHAR2,
15:45:47 176  	in_city 		      IN VARCHAR2,
15:45:47 177  	in_postal_code		      IN VARCHAR2,
15:45:47 178  	in_country		      IN CHAR,
15:45:47 179  	in_last_four_cc 	      IN VARCHAR2,
15:45:47 180  	in_expiration_date	      IN DATE,
15:45:47 181  	in_credit_card_type_id	      IN NUMBER,
15:45:47 182  	in_secret_token 	      IN VARCHAR2,
15:45:47 183  	in_chase_profile_id	      IN VARCHAR2,
15:45:47 184  	in_credit_card_status_id      IN NUMBER,
15:45:47 185  	in_created_by		      IN  VARCHAR2,
15:45:47 186  	in_create_date		      IN DATE,
15:45:47 187  	in_system_activity_reason_id  IN  NUMBER
15:45:47 188  ) AS
15:45:47 189  SPROC_NAME CONSTANT VARCHAR2(26) := 'CREATE_CREDIT_CARD_HISTORY';
15:45:47 190  BEGIN
15:45:47 191  
15:45:47 192  	INSERT INTO CREDIT_CARD_HISTORY (
15:45:47 193  	  CREDIT_CARD_ID,
15:45:47 194  	  ACCOUNT_ID,
15:45:47 195  	  INSTRUMENT_NAME,
15:45:47 196  	  PRIVATE_CARD_HOLDER_NAME,
15:45:47 197  	  PRIVATE_STREET_ADDRESS,
15:45:47 198  	  PRIVATE_STREET_ADDRESS2,
15:45:47 199  	  STATE,
15:45:47 200  	  CITY,
15:45:47 201  	  POSTAL_CODE,
15:45:47 202  	  COUNTRY,
15:45:47 203  	  LAST_FOUR_CC,
15:45:47 204  	  EXPIRATION_DATE,
15:45:47 205  	  CREDIT_CARD_TYPE_ID,
15:45:47 206  	  SECRET_TOKEN,
15:45:47 207  	  CHASE_PROFILE_ID,
15:45:47 208  	  CREATE_DATE,
15:45:47 209  	  CREATED_BY,
15:45:47 210  	  SYSTEM_ACTIVITY_REASON_ID,
15:45:47 211  	  CREDIT_CARD_STATUS_ID
15:45:47 212  	) VALUES (
15:45:47 213  	  in_credit_card_id,
15:45:47 214  	  in_account_id,
15:45:47 215  	  in_instrument_name,
15:45:47 216  	  in_private_card_holder_name,
15:45:47 217  	  in_private_street_address,
15:45:47 218  	  in_private_street_address2,
15:45:47 219  	  in_state,
15:45:47 220  	  in_city,
15:45:47 221  	  in_postal_code,
15:45:47 222  	  in_country,
15:45:47 223  	  in_last_four_cc,
15:45:47 224  	  in_expiration_date,
15:45:47 225  	  in_credit_card_type_id,
15:45:47 226  	  in_secret_token,
15:45:47 227  	  in_chase_profile_id,
15:45:47 228  	  in_create_date,
15:45:47 229  	  in_created_by,
15:45:47 230  	  in_system_activity_reason_id,
15:45:47 231  	  in_credit_card_status_id
15:45:47 232  	);
15:45:47 233  
15:45:47 234  EXCEPTION
15:45:47 235  WHEN OTHERS THEN
15:45:47 236  	RAISE_APPLICATION_ERROR(CORE_OWNER.APP_EXCEPTION_CODES_V17.UNKNOWN_ERROR,
15:45:47 237  	  SPROC_NAME||': Unknown error: '||SQLERRM);
15:45:47 238  END CREATE_CREDIT_CARD_HISTORY;
15:45:47 239  
15:45:47 240  /******************************************************************************/
15:45:47 241  
15:45:47 242  PROCEDURE CREATE_PAYPAL_HISTORY (
15:45:47 243  /*
15:45:47 244  Throws exceptions:
15:45:47 245  APP_EXCEPTION_CODES_V17.UNKNOWN_ERROR
15:45:47 246  */
15:45:47 247  	in_paypal_id			IN NUMBER,
15:45:47 248  	in_account_id			IN NUMBER,
15:45:47 249  	in_instrument_name		IN VARCHAR2,
15:45:47 250  	in_private_email_address	IN VARCHAR2,
15:45:47 251  	in_created_by			IN VARCHAR2,
15:45:47 252  	in_create_date			IN DATE,
15:45:47 253  	in_paypal_status_id		IN NUMBER,
15:45:47 254  	in_paypal_prvt_street_address	IN VARCHAR2,
15:45:47 255  	in_paypal_prvt_street_address2	IN VARCHAR2,
15:45:47 256  	in_state			IN VARCHAR2,
15:45:47 257  	in_city 			IN VARCHAR2,
15:45:47 258  	in_postal_code			IN VARCHAR2,
15:45:47 259  	in_country			IN CHAR,
15:45:47 260  	in_expiration_date		IN DATE,
15:45:47 261  	in_system_activity_reason_id	IN NUMBER,
15:45:47 262  	in_secret_token 		IN VARCHAR2
15:45:47 263  ) AS
15:45:47 264  SPROC_NAME CONSTANT VARCHAR2(21) := 'CREATE_PAYPAL_HISTORY';
15:45:47 265  BEGIN
15:45:47 266  
15:45:47 267  	INSERT INTO PAYPAL_HISTORY(
15:45:47 268  	    PAYPAL_ID,
15:45:47 269  	    ACCOUNT_ID,
15:45:47 270  	    INSTRUMENT_NAME,
15:45:47 271  	    PRIVATE_EMAIL_ADDRESS,
15:45:47 272  	    CREATE_DATE,
15:45:47 273  	    CREATED_BY,
15:45:47 274  	    PAYPAL_STATUS_ID,
15:45:47 275  	    PRIVATE_STREET_ADDRESS,
15:45:47 276  	    PRIVATE_STREET_ADDRESS2,
15:45:47 277  	    STATE,
15:45:47 278  	    CITY,
15:45:47 279  	    POSTAL_CODE,
15:45:47 280  	    COUNTRY,
15:45:47 281  	    EXPIRATION_DATE,
15:45:47 282  	    SYSTEM_ACTIVITY_REASON_ID,
15:45:47 283  	    SECRET_TOKEN
15:45:47 284  	  ) VALUES (
15:45:47 285  	    in_paypal_id,
15:45:47 286  	    in_account_id,
15:45:47 287  	    in_instrument_name,
15:45:47 288  	    in_private_email_address,
15:45:47 289  	    in_create_date,
15:45:47 290  	    in_created_by,
15:45:47 291  	    in_paypal_status_id,
15:45:47 292  	    in_paypal_prvt_street_address,
15:45:47 293  	    in_paypal_prvt_street_address2,
15:45:47 294  	    in_state,
15:45:47 295  	    in_city,
15:45:47 296  	    in_postal_code,
15:45:47 297  	    in_country,
15:45:47 298  	    in_expiration_date,
15:45:47 299  	    in_system_activity_reason_id,
15:45:47 300  	    in_secret_token
15:45:47 301  	  );
15:45:47 302  
15:45:47 303  EXCEPTION
15:45:47 304  WHEN OTHERS THEN
15:45:47 305  	RAISE_APPLICATION_ERROR(CORE_OWNER.APP_EXCEPTION_CODES_V17.UNKNOWN_ERROR,
15:45:47 306  	  SPROC_NAME||': Unknown error: '||SQLERRM);
15:45:47 307  END;
15:45:47 308  
15:45:47 309  /******************************************************************************/
15:45:47 310  
15:45:47 311  PROCEDURE CREATE_TRANSACTION_HISTORY (
15:45:47 312  /*
15:45:47 313  Throws exceptions:
15:45:47 314  APP_EXCEPTION_CODES_V17.UNKNOWN_ERROR
15:45:47 315  */
15:45:47 316  	in_transaction_id	     IN NUMBER,
15:45:47 317  	in_transaction_status_id     IN NUMBER,
15:45:47 318  	in_transaction_amount	     IN NUMBER,
15:45:47 319  	in_created_by		     IN VARCHAR2,
15:45:47 320  	in_create_date		     IN DATE,
15:45:47 321  	in_system_activity_reason_id IN NUMBER
15:45:47 322  ) AS
15:45:47 323  SPROC_NAME CONSTANT VARCHAR2(26) := 'CREATE_TRANSACTION_HISTORY';
15:45:47 324  BEGIN
15:45:47 325  
15:45:47 326  	INSERT INTO TRANSACTION_HISTORY (
15:45:47 327  	  TRANSACTION_ID,
15:45:47 328  	  TRANSACTION_STATUS_ID,
15:45:47 329  	  TRANSACTION_AMOUNT,
15:45:47 330  	  CREATE_DATE,
15:45:47 331  	  CREATED_BY,
15:45:47 332  	  SYSTEM_ACTIVITY_REASON_ID
15:45:47 333  	) VALUES (
15:45:47 334  	  in_transaction_id,
15:45:47 335  	  in_transaction_status_id,
15:45:47 336  	  in_transaction_amount,
15:45:47 337  	  in_create_date,
15:45:47 338  	  in_created_by,
15:45:47 339  	  in_system_activity_reason_id
15:45:47 340  	);
15:45:47 341  
15:45:47 342  EXCEPTION
15:45:47 343  WHEN OTHERS THEN
15:45:47 344  	RAISE_APPLICATION_ERROR(CORE_OWNER.APP_EXCEPTION_CODES_V17.UNKNOWN_ERROR,
15:45:47 345  	  SPROC_NAME||': Unknown error: '||SQLERRM);
15:45:47 346  END CREATE_TRANSACTION_HISTORY;
15:45:47 347  
15:45:47 348  /******************************************************************************/
15:45:47 349  
15:45:47 350  PROCEDURE CREATE_GIFT_CERT_HISTORY (
15:45:47 351  	in_gift_certificate_id	      IN NUMBER,
15:45:47 352  	in_purchaser_group_id	      IN NUMBER,
15:45:47 353  	in_purchase_invoice_id	      IN NUMBER,
15:45:47 354  	in_offer_chain_id	      IN NUMBER,
15:45:47 355  	in_expiration_date	      IN DATE,
15:45:47 356  	in_purchase_date	      IN DATE,
15:45:47 357  	in_gift_certificate_status_id IN NUMBER,
15:45:47 358  	in_code 		      IN VARCHAR2,
15:45:47 359  	in_created_by		      IN VARCHAR2,
15:45:47 360  	in_create_date		      IN DATE,
15:45:47 361  	in_system_activity_reason_id  IN NUMBER,
15:45:47 362  	in_recipient_name	      IN VARCHAR2,
15:45:47 363  	in_gift_message 	      IN VARCHAR2,
15:45:47 364  	in_recipient_email	      IN VARCHAR2,
15:45:47 365  	in_finalized_invoice_id       IN NUMBER,
15:45:47 366  	in_sender_email 	      IN VARCHAR2,
15:45:47 367  	in_sender_name		      IN VARCHAR2,
15:45:47 368  	in_redemption_date	      IN DATE,
15:45:47 369  	in_redeemer_group_id	      IN NUMBER,
15:45:47 370  	in_cancelation_date	      IN DATE,
15:45:47 371  	in_recipient_address_id       IN NUMBER,
15:45:47 372  	in_redeemer_address_id	      IN NUMBER,
15:45:47 373  	in_recipient_notify_date      IN DATE
15:45:47 374  ) AS
15:45:47 375  SPROC_NAME CONSTANT VARCHAR2(24) := 'CREATE_GIFT_CERT_HISTORY';
15:45:47 376  BEGIN
15:45:47 377  
15:45:47 378  	INSERT INTO GIFT_CERTIFICATE_HISTORY (
15:45:47 379  	  GIFT_CERTIFICATE_ID,
15:45:47 380  	  PURCHASER_GROUP_ID,
15:45:47 381  	  PURCHASE_INVOICE_ID,
15:45:47 382  	  OFFER_CHAIN_ID,
15:45:47 383  	  EXPIRATION_DATE,
15:45:47 384  	  PURCHASE_DATE,
15:45:47 385  	  GIFT_CERTIFICATE_STATUS_ID,
15:45:47 386  	  CODE,
15:45:47 387  	  CREATE_DATE,
15:45:47 388  	  CREATED_BY,
15:45:47 389  	  SYSTEM_ACTIVITY_REASON_ID,
15:45:47 390  	  RECIPIENT_NAME,
15:45:47 391  	  GIFT_MESSAGE,
15:45:47 392  	  RECIPIENT_EMAIL,
15:45:47 393  	  FINALIZED_INVOICE_ID,
15:45:47 394  	  SENDER_EMAIL,
15:45:47 395  	  SENDER_NAME,
15:45:47 396  	  REDEMPTION_DATE,
15:45:47 397  	  REDEEMER_GROUP_ID,
15:45:47 398  	  CANCELATION_DATE,
15:45:47 399  	  RECIPIENT_ADDRESS_ID,
15:45:47 400  	  REDEEMER_ADDRESS_ID,
15:45:47 401  	  RECIPIENT_NOTIFY_DATE
15:45:47 402  	) VALUES (
15:45:47 403  	  in_gift_certificate_id,
15:45:47 404  	  in_purchaser_group_id,
15:45:47 405  	  in_purchase_invoice_id,
15:45:47 406  	  in_offer_chain_id,
15:45:47 407  	  in_expiration_date,
15:45:47 408  	  in_purchase_date,
15:45:47 409  	  in_gift_certificate_status_id,
15:45:47 410  	  in_code,
15:45:47 411  	  in_create_date,
15:45:47 412  	  in_created_by,
15:45:47 413  	  in_system_activity_reason_id,
15:45:47 414  	  in_recipient_name,
15:45:47 415  	  in_gift_message,
15:45:47 416  	  in_recipient_email,
15:45:47 417  	  in_finalized_invoice_id,
15:45:47 418  	  in_sender_email,
15:45:47 419  	  in_sender_name,
15:45:47 420  	  in_redemption_date,
15:45:47 421  	  in_redeemer_group_id,
15:45:47 422  	  in_cancelation_date,
15:45:47 423  	  in_recipient_address_id,
15:45:47 424  	  in_redeemer_address_id,
15:45:47 425  	  in_recipient_notify_date
15:45:47 426  	);
15:45:47 427  
15:45:47 428  EXCEPTION
15:45:47 429  WHEN OTHERS THEN
15:45:47 430  	RAISE_APPLICATION_ERROR(CORE_OWNER.APP_EXCEPTION_CODES_V17.UNKNOWN_ERROR,
15:45:47 431  	  SPROC_NAME||': Unknown error: '||SQLERRM);
15:45:47 432  END CREATE_GIFT_CERT_HISTORY;
15:45:47 433  
15:45:47 434  /******************************************************************************/
15:45:47 435  
15:45:47 436  PROCEDURE CREATE_INVOICE_HISTORY (
15:45:47 437  	in_invoice_id		     IN NUMBER,
15:45:47 438  	in_invoice_status_id	     IN NUMBER,
15:45:47 439  	in_created_by		     IN VARCHAR2,
15:45:47 440  	in_create_date		     IN DATE,
15:45:47 441  	in_system_activity_reason_id IN NUMBER
15:45:47 442  ) AS
15:45:47 443  SPROC_NAME CONSTANT VARCHAR2(22) := 'CREATE_INVOICE_HISTORY';
15:45:47 444  BEGIN
15:45:47 445  
15:45:47 446  	INSERT INTO INVOICE_HISTORY (
15:45:47 447  	  INVOICE_ID,
15:45:47 448  	  INVOICE_STATUS_ID,
15:45:47 449  	  CREATE_DATE,
15:45:47 450  	  CREATED_BY,
15:45:47 451  	  SYSTEM_ACTIVITY_REASON_ID
15:45:47 452  	) VALUES (
15:45:47 453  	  in_invoice_id,
15:45:47 454  	  in_invoice_status_id,
15:45:47 455  	  in_create_date,
15:45:47 456  	  in_created_by,
15:45:47 457  	  in_system_activity_reason_id
15:45:47 458  	);
15:45:47 459  
15:45:47 460  EXCEPTION
15:45:47 461  WHEN OTHERS THEN
15:45:47 462  	RAISE_APPLICATION_ERROR(CORE_OWNER.APP_EXCEPTION_CODES_V17.UNKNOWN_ERROR,
15:45:47 463  	  SPROC_NAME||': Unknown error: '||SQLERRM);
15:45:47 464  END CREATE_INVOICE_HISTORY;
15:45:47 465  
15:45:47 466  /******************************************************************************/
15:45:47 467  
15:45:47 468  PROCEDURE CREATE_LICENSE_HISTORY (
15:45:47 469  /*
15:45:47 470  Throws exceptions:
15:45:47 471  APP_EXCEPTION_CODES_V17.UNKNOWN_ERROR
15:45:47 472  */
15:45:47 473  	in_license_id		     IN NUMBER,
15:45:47 474  	in_license_status_id	     IN NUMBER,
15:45:47 475  	in_needs_entitlements	     IN NUMBER,
15:45:47 476  	in_start_date		     IN DATE,
15:45:47 477  	in_offer_id		     IN NUMBER,
15:45:47 478  	in_subscription_id	     IN NUMBER,
15:45:47 479  	in_invoice_id		     IN NUMBER,
15:45:47 480  	in_end_date		     IN DATE,
15:45:47 481  	in_created_by		     IN VARCHAR2,
15:45:47 482  	in_create_date		     IN DATE,
15:45:47 483  	in_is_extension 	     IN NUMBER,
15:45:47 484  	in_current_offer_index	     IN NUMBER,
15:45:47 485  	in_current_offer_recurr_num  IN NUMBER,
15:45:47 486  	in_system_activity_reason_id IN NUMBER,
15:45:47 487  	in_entitlement_end_date      IN DATE
15:45:47 488  ) AS
15:45:47 489  SPROC_NAME CONSTANT VARCHAR2(22) := 'CREATE_LICENSE_HISTORY';
15:45:47 490  BEGIN
15:45:47 491  
15:45:47 492  	INSERT INTO LICENSE_HISTORY (
15:45:47 493  	  LICENSE_ID,
15:45:47 494  	  LICENSE_STATUS_ID,
15:45:47 495  	  START_DATE,
15:45:47 496  	  OFFER_ID,
15:45:47 497  	  SUBSCRIPTION_ID,
15:45:47 498  	  INVOICE_ID,
15:45:47 499  	  END_DATE,
15:45:47 500  	  CREATE_DATE,
15:45:47 501  	  CREATED_BY,
15:45:47 502  	  IS_EXTENSION,
15:45:47 503  	  CURRENT_OFFER_INDEX,
15:45:47 504  	  CURRENT_OFFER_RECURR_NUM,
15:45:47 505  	  SYSTEM_ACTIVITY_REASON_ID,
15:45:47 506  	  NEEDS_ENTITLEMENTS,
15:45:47 507  	  ENTITLEMENT_END_DATE
15:45:47 508  	) VALUES (
15:45:47 509  	  in_license_id,
15:45:47 510  	  in_license_status_id,
15:45:47 511  	  in_start_date,
15:45:47 512  	  in_offer_id,
15:45:47 513  	  in_subscription_id,
15:45:47 514  	  in_invoice_id,
15:45:47 515  	  in_end_date,
15:45:47 516  	  in_create_date,
15:45:47 517  	  in_created_by,
15:45:47 518  	  in_is_extension,
15:45:47 519  	  in_current_offer_index,
15:45:47 520  	  in_current_offer_recurr_num,
15:45:47 521  	  in_system_activity_reason_id,
15:45:47 522  	  in_needs_entitlements,
15:45:47 523  	  in_entitlement_end_date
15:45:47 524  	);
15:45:47 525  
15:45:47 526  EXCEPTION
15:45:47 527  WHEN OTHERS THEN
15:45:47 528  	RAISE_APPLICATION_ERROR(CORE_OWNER.APP_EXCEPTION_CODES_V17.UNKNOWN_ERROR,
15:45:47 529  	  SPROC_NAME||': Unknown error: '||SQLERRM);
15:45:47 530  END CREATE_LICENSE_HISTORY;
15:45:47 531  
15:45:47 532  /******************************************************************************/
15:45:47 533  
15:45:47 534  PROCEDURE CREATE_CHARGE_HISTORY (
15:45:47 535  /*
15:45:47 536  Throws exceptions:
15:45:47 537  APP_EXCEPTION_CODES_V17.UNKNOWN_ERROR
15:45:47 538  */
15:45:47 539  	in_charge_id		     IN NUMBER,
15:45:47 540  	in_invoice_id		     IN NUMBER,
15:45:47 541  	in_transaction_id	     IN NUMBER,
15:45:47 542  	in_instrument_type_id	     IN NUMBER,
15:45:47 543  	in_instrument_id	     IN NUMBER,
15:45:47 544  	in_charge_amount	     IN NUMBER,
15:45:47 545  	in_created_by		     IN VARCHAR2,
15:45:47 546  	in_create_date		     IN DATE,
15:45:47 547  	in_charge_status_id	     IN NUMBER,
15:45:47 548  	in_system_activity_reason_id IN NUMBER
15:45:47 549  ) AS
15:45:47 550  SPROC_NAME CONSTANT VARCHAR2(21) := 'CREATE_CHARGE_HISTORY';
15:45:47 551  BEGIN
15:45:47 552  
15:45:47 553  	INSERT INTO CHARGE_HISTORY (
15:45:47 554  	  CHARGE_ID,
15:45:47 555  	  INVOICE_ID,
15:45:47 556  	  TRANSACTION_ID,
15:45:47 557  	  INSTRUMENT_TYPE_ID,
15:45:47 558  	  INSTRUMENT_ID,
15:45:47 559  	  CHARGE_AMOUNT,
15:45:47 560  	  CREATE_DATE,
15:45:47 561  	  CREATED_BY,
15:45:47 562  	  CHARGE_STATUS_ID,
15:45:47 563  	  SYSTEM_ACTIVITY_REASON_ID
15:45:47 564  	) VALUES (
15:45:47 565  	  in_charge_id,
15:45:47 566  	  in_invoice_id,
15:45:47 567  	  in_transaction_id,
15:45:47 568  	  in_instrument_type_id,
15:45:47 569  	  in_instrument_id,
15:45:47 570  	  in_charge_amount,
15:45:47 571  	  in_create_date,
15:45:47 572  	  in_created_by,
15:45:47 573  	  in_charge_status_id,
15:45:47 574  	  in_system_activity_reason_id
15:45:47 575  	);
15:45:47 576  
15:45:47 577  EXCEPTION
15:45:47 578  WHEN OTHERS THEN
15:45:47 579  	RAISE_APPLICATION_ERROR(CORE_OWNER.APP_EXCEPTION_CODES_V17.UNKNOWN_ERROR,
15:45:47 580  	  SPROC_NAME||': Unknown error: '||SQLERRM);
15:45:47 581  END;
15:45:47 582  
15:45:47 583  
15:45:47 584  PROCEDURE CREATE_ITUNES_RECEIPT_HISTORY (
15:45:47 585  /*
15:45:47 586  Throws exceptions:
15:45:47 587  APP_EXCEPTION_CODES_V17.UNKNOWN_ERROR
15:45:47 588  */
15:45:47 589  /*
15:45:47 590  CREATE TABLE ITUNES_RECEIPT (
15:45:47 591  	id NUMBER NOT NULL ENABLE,
15:45:47 592  	subscription_id NUMBER NOT NULL ENABLE,
15:45:47 593  	receipt VARCHAR(1024) NOT NULL ENABLE,
15:45:47 594  	status NUMBER,
15:45:47 595  	quantity NUMBER,
15:45:47 596  	product_id VARCHAR(1024),
15:45:47 597  	transaction_id VARCHAR(1024),
15:45:47 598  	purchase_date TIMESTAMP,
15:45:47 599  	original_transaction_id VARCHAR(1024),
15:45:47 600  	app_item_id VARCHAR(1024),
15:45:47 601  	version_external_id NUMBER,
15:45:47 602  	bid VARCHAR(1024),
15:45:47 603  	bvrs VARCHAR(255),
15:45:47 604  	expires_date TIMESTAMP,
15:45:47 605  	create_date DATE NOT NULL,
15:45:47 606  	created_by VARCHAR(255) NOT NULL,
15:45:47 607  	update_date DATE NOT NULL,
15:45:47 608  	updated_by VARCHAR(255) NOT NULL,
15:45:47 609  	last_check_date DATE NOT NULL,
15:45:47 610  	CONSTRAINT "ITUNESRECEIPT_PK" PRIMARY KEY ("ID") USING INDEX TABLESPACE "CORE_IDX" ENABLE,
15:45:47 611  	CONSTRAINT "ITUNESRECEIPT_SUBID_FK" FOREIGN KEY ("SUBSCRIPTION_ID") REFERENCES SUBSCRIPTION(ID) USING INDEX TABLESPACE "CORE_IDX" ENABLE,
15:45:47 612  	CONSTRAINT "ITUNESRECEIPT_RECEIPT_UK" UNIQUE(receipt) USING INDEX TABLESPACE "CORE_IDX" ENABLE,
15:45:47 613  	CONSTRAINT "ITUNESRECEIPT_SUBID_UK" UNIQUE(subscription_id) USING INDEX TABLESPACE "CORE_IDX" ENABLE
15:45:47 614  )
15:45:47 615  TABLESPACE CORE;
15:45:47 616  */
15:45:47 617  	in_id		    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.ID%TYPE,
15:45:47 618  	in_subscription_id  IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.SUBSCRIPTION_ID%TYPE,
15:45:47 619  	in_receipt	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.RECEIPT%TYPE,
15:45:47 620  	in_status	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.STATUS%TYPE,
15:45:47 621  	in_quantity	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.QUANTITY%TYPE,
15:45:47 622  	in_product_id	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.PRODUCT_ID%TYPE,
15:45:47 623  	in_transaction_id   IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.TRANSACTION_ID%TYPE,
15:45:47 624  	in_purchase_date    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.PURCHASE_DATE%TYPE,
15:45:47 625  	in_original_transaction_id IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.ORIGINAL_TRANSACTION_ID%TYPE,
15:45:47 626  	in_original_purchase_date IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.ORIGINAL_PURCHASE_DATE%TYPE,
15:45:47 627  	in_app_item_id	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.APP_ITEM_ID%TYPE,
15:45:47 628  	in_version_external_id IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.VERSION_EXTERNAL_ID%TYPE,
15:45:47 629  	in_bid		    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.BID%TYPE,
15:45:47 630  	in_bvrs 	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.BVRS%TYPE,
15:45:47 631  	in_expires_date     IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.EXPIRES_DATE%TYPE,
15:45:47 632  	in_create_date	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.CREATE_DATE%TYPE,
15:45:47 633  	in_created_by	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.CREATED_BY%TYPE,
15:45:47 634  	in_update_date	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.UPDATE_DATE%TYPE,
15:45:47 635  	in_updated_by	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.UPDATED_BY%TYPE,
15:45:47 636  	in_last_check_date  IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.LAST_CHECK_DATE%TYPE,
15:45:47 637  	in_cancel_date	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.CANCEL_DATE%TYPE
15:45:47 638  ) AS
15:45:47 639  BEGIN
15:45:47 640  	INSERT INTO CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY
15:45:47 641  	(
15:45:47 642  	      id,
15:45:47 643  	      subscription_id,
15:45:47 644  	      receipt,
15:45:47 645  	      status,
15:45:47 646  	      quantity,
15:45:47 647  	      product_id,
15:45:47 648  	      transaction_id,
15:45:47 649  	      purchase_date,
15:45:47 650  	      original_transaction_id,
15:45:47 651  	      original_purchase_date,
15:45:47 652  	      app_item_id,
15:45:47 653  	      version_external_id,
15:45:47 654  	      bid,
15:45:47 655  	      bvrs,
15:45:47 656  	      expires_date,
15:45:47 657  	      create_date,
15:45:47 658  	      created_by,
15:45:47 659  	      update_date,
15:45:47 660  	      updated_by,
15:45:47 661  	      last_check_date,
15:45:47 662  	      cancel_date,
15:45:47 663  	      history_date
15:45:47 664  	)
15:45:47 665  	VALUES
15:45:47 666  	(
15:45:47 667  	      in_id,
15:45:47 668  	      in_subscription_id,
15:45:47 669  	      in_receipt,
15:45:47 670  	      in_status,
15:45:47 671  	      in_quantity,
15:45:47 672  	      in_product_id,
15:45:47 673  	      in_transaction_id,
15:45:47 674  	      in_purchase_date,
15:45:47 675  	      in_original_transaction_id,
15:45:47 676  	      in_original_purchase_date,
15:45:47 677  	      in_app_item_id,
15:45:47 678  	      in_version_external_id,
15:45:47 679  	      in_bid,
15:45:47 680  	      in_bvrs,
15:45:47 681  	      in_expires_date,
15:45:47 682  	      in_create_date,
15:45:47 683  	      in_created_by,
15:45:47 684  	      in_update_date,
15:45:47 685  	      in_updated_by,
15:45:47 686  	      in_last_check_date,
15:45:47 687  	      in_cancel_date,
15:45:47 688  	      sysdate
15:45:47 689  	);
15:45:47 690  END CREATE_ITUNES_RECEIPT_HISTORY;
15:45:47 691  
15:45:47 692  PROCEDURE CREATE_NOTIFICATION_HISTORY (
15:45:47 693  /*
15:45:47 694  Throws exceptions:
15:45:47 695  APP_EXCEPTION_CODES_V17.UNKNOWN_ERROR
15:45:47 696  */
15:45:47 697  	in_notification_id	      IN NUMBER,
15:45:47 698  	in_account_id		      IN NUMBER,
15:45:47 699  	in_group_id		      IN NUMBER,
15:45:47 700  	notification_reason_type_id   IN NUMBER,
15:45:47 701  	notification_status_id	      IN NUMBER,
15:45:47 702  	email_template_params	      IN CLOB,
15:45:47 703  	in_create_date		      IN DATE,
15:45:47 704  	in_date_to_notify	      IN DATE
15:45:47 705  ) AS
15:45:47 706  	SPROC_NAME CONSTANT VARCHAR2(27) := 'CREATE_NOTIFICATION_HISTORY';
15:45:47 707  BEGIN
15:45:47 708  
15:45:47 709  	 INSERT INTO NOTIFICATION_HISTORY (
15:45:47 710  		NOTIFICATION_ID,
15:45:47 711  		ACCOUNT_ID,
15:45:47 712  		GROUP_ID,
15:45:47 713  		NOTIFICATION_REASON_TYPE_ID,
15:45:47 714  		NOTIFICATION_STATUS_ID,
15:45:47 715  		EMAIL_TEMPLATE_PARAMS,
15:45:47 716  		CREATE_DATE,
15:45:47 717  		UPDATE_DATE,
15:45:47 718  		DATE_TO_NOTIFY
15:45:47 719  	) VALUES (
15:45:47 720  		in_notification_id,
15:45:47 721  		in_account_id,
15:45:47 722  		in_group_id,
15:45:47 723  		notification_reason_type_id,
15:45:47 724  		notification_status_id,
15:45:47 725  		email_template_params,
15:45:47 726  		in_create_date,
15:45:47 727  		sysdate,
15:45:47 728  		in_date_to_notify
15:45:47 729  	);
15:45:47 730  
15:45:47 731  EXCEPTION
15:45:47 732  WHEN OTHERS THEN
15:45:47 733  	RAISE_APPLICATION_ERROR(CORE_OWNER.APP_EXCEPTION_CODES_V17.UNKNOWN_ERROR,
15:45:47 734  		SPROC_NAME||': Unknown error: '||SQLERRM);
15:45:47 735  END CREATE_NOTIFICATION_HISTORY;
15:45:47 736  
15:45:47 737  /******************************************************************************/
15:45:47 738  
15:45:47 739  PROCEDURE CREATE_NOTIF_FAILURE_HISTORY (
15:45:47 740  /*
15:45:47 741  Throws exceptions:
15:45:47 742  APP_EXCEPTION_CODES_V17.UNKNOWN_ERROR
15:45:47 743  */
15:45:47 744  	in_error_messgae	 IN VARCHAR2,
15:45:47 745  	in_notification_id IN NUMBER,
15:45:47 746  	in_create_date		 IN DATE
15:45:47 747  ) AS
15:45:47 748  	SPROC_NAME CONSTANT VARCHAR2(28) := 'CREATE_NOTIF_FAILURE_HISTORY';
15:45:47 749  BEGIN
15:45:47 750  
15:45:47 751  	INSERT INTO NOTIFICATION_FAILURE_HISTORY (
15:45:47 752  		ERROR_MESSAGE,
15:45:47 753  		NOTIFICATION_ID,
15:45:47 754  		CREATE_DATE,
15:45:47 755  		UPDATE_DATE
15:45:47 756  	) VALUES (
15:45:47 757  		in_error_messgae,
15:45:47 758  		in_notification_id,
15:45:47 759  		in_create_date,
15:45:47 760  		sysdate
15:45:47 761  	);
15:45:47 762  
15:45:47 763  EXCEPTION
15:45:47 764  WHEN OTHERS THEN
15:45:47 765  	RAISE_APPLICATION_ERROR(CORE_OWNER.APP_EXCEPTION_CODES_V17.UNKNOWN_ERROR,
15:45:47 766  		SPROC_NAME||': Unknown error: '||SQLERRM);
15:45:47 767  END CREATE_NOTIF_FAILURE_HISTORY;
15:45:47 768  
15:45:47 769  PROCEDURE CREATE_INVOICE_ADJ_HISTORY (
15:45:47 770  /*
15:45:47 771  Throws exceptions:
15:45:47 772  APP_EXCEPTION_CODES_V17.UNKNOWN_ERROR
15:45:47 773  */
15:45:47 774  	in_invoice_adjustment_id     IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.INVOICE_ADJUSTMENT_ID%TYPE,
15:45:47 775  	in_invoice_id		     IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.INVOICE_ID%TYPE,
15:45:47 776  	in_is_credit		     IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.IS_CREDIT%TYPE,
15:45:47 777  	in_charge_id		     IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.CHARGE_ID%TYPE,
15:45:47 778  	in_adjustment_date	     IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.ADJUSTMENT_DATE%TYPE,
15:45:47 779  	in_create_date		     IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.CREATE_DATE%TYPE,
15:45:47 780  	in_created_by		     IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.CREATED_BY%TYPE,
15:45:47 781  	in_invoice_adj_reason_id	       IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.INVOICE_ADJUSTMENT_REASON_ID%TYPE,
15:45:47 782  	in_update_date		      IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.UPDATE_DATE%TYPE,
15:45:47 783  	in_updated_by		     IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.UPDATED_BY%TYPE
15:45:47 784  )
15:45:47 785  AS
15:45:47 786  SPROC_NAME CONSTANT VARCHAR2(32) := 'CREATE_INVOICE_ADJ_HISTORY';
15:45:47 787  BEGIN
15:45:47 788  	INSERT INTO CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY
15:45:47 789  	(
15:45:47 790  	   INVOICE_ADJUSTMENT_ID,
15:45:47 791  	   INVOICE_ID,
15:45:47 792  	   IS_CREDIT,
15:45:47 793  	   CHARGE_ID,
15:45:47 794  	   ADJUSTMENT_DATE,
15:45:47 795  	   CREATE_DATE,
15:45:47 796  	   CREATED_BY,
15:45:47 797  	   INVOICE_ADJUSTMENT_REASON_ID,
15:45:47 798  	   UPDATE_DATE,
15:45:47 799  	   UPDATED_BY
15:45:47 800  	)
15:45:47 801  	VALUES
15:45:47 802  	(
15:45:47 803  	    in_invoice_adjustment_id,
15:45:47 804  	    in_invoice_id,
15:45:47 805  	    in_is_credit,
15:45:47 806  	    in_charge_id,
15:45:47 807  	    in_adjustment_date,
15:45:47 808  	    in_create_date,
15:45:47 809  	    in_created_by,
15:45:47 810  	    in_invoice_adj_reason_id,
15:45:47 811  	    in_update_date,
15:45:47 812  	    in_updated_by
15:45:47 813  	);
15:45:47 814  
15:45:47 815  EXCEPTION
15:45:47 816  	WHEN OTHERS THEN
15:45:47 817  	  RAISE_APPLICATION_ERROR(CORE_OWNER.APP_EXCEPTION_CODES_V17.UNKNOWN_ERROR,
15:45:47 818  	    SPROC_NAME||': Unknown error: '||SQLERRM);
15:45:47 819  END CREATE_INVOICE_ADJ_HISTORY;
15:45:47 820  
15:45:47 821  END PROCS_HISTORY_V17;
15:45:47 822  .
15:45:47 SQL> /

Package body created.

Elapsed: 00:00:00.08
15:45:47 SQL> 
15:45:47 SQL> --------------------------------------------------------------------------------
15:45:47 SQL> -- DDL for package PUBLIC_PROCS_CORE
15:45:47 SQL> --------------------------------------------------------------------------------
15:45:47 SQL> 
15:45:47 SQL> CREATE OR REPLACE PACKAGE "PUBLIC_PROCS_CORE_V17" AS
15:45:47   2  
15:45:47   3  PROCEDURE CREATE_ADDRESS_HISTORY (
15:45:47   4  /*
15:45:47   5  Throws exceptions:
15:45:47   6  APP_EXCEPTION_CODES_V17.UNKNOWN_ERROR
15:45:47   7  */
15:45:47   8  	in_address_id		      IN ADDRESS_HISTORY.ADDRESS_ID%TYPE,
15:45:47   9  	in_system_activity_reason_id  IN ADDRESS_HISTORY.SYSTEM_ACTIVITY_REASON_ID%TYPE,
15:45:47  10  	in_address1		      IN ADDRESS_HISTORY.ADDRESS1%TYPE,
15:45:47  11  	in_address2		      IN ADDRESS_HISTORY.ADDRESS2%TYPE,
15:45:47  12  	in_city 		      IN ADDRESS_HISTORY.CITY%TYPE,
15:45:47  13  	in_state		      IN ADDRESS_HISTORY.STATE%TYPE,
15:45:47  14  	in_postal_code		      IN ADDRESS_HISTORY.POSTAL_CODE%TYPE,
15:45:47  15  	in_country		      IN ADDRESS_HISTORY.COUNTRY%TYPE,
15:45:47  16  	in_created_by		      IN ADDRESS_HISTORY.CREATED_BY%TYPE,
15:45:47  17  	in_create_date		      IN ADDRESS_HISTORY.CREATE_DATE%TYPE,
15:45:47  18  	in_updated_by		      IN ADDRESS_HISTORY.UPDATED_BY%TYPE,
15:45:47  19  	in_update_date		      IN ADDRESS_HISTORY.UPDATE_DATE%TYPE
15:45:47  20  );
15:45:47  21  
15:45:47  22  PROCEDURE CREATE_ACCOUNT_HISTORY (
15:45:47  23  /*
15:45:47  24  Throws exceptions:
15:45:47  25  APP_EXCEPTION_CODES_V17.UNKNOWN_ERROR
15:45:47  26  */
15:45:47  27  	in_account_id		      IN NUMBER,
15:45:47  28  	in_suspend_date 	      IN DATE,
15:45:47  29  	in_group_id		      IN NUMBER,
15:45:47  30  	in_created_by		      IN VARCHAR2,
15:45:47  31  	in_create_date		      IN DATE,
15:45:47  32  	in_system_activity_reason_id  IN NUMBER,
15:45:47  33  	in_account_status_id	      IN NUMBER,
15:45:47  34  	in_instrument_type_id	      IN NUMBER,
15:45:47  35  	in_instrument_id	      IN NUMBER
15:45:47  36  );
15:45:47  37  
15:45:47  38  PROCEDURE CREATE_SUBSCRIPTION_HISTORY (
15:45:47  39  /*
15:45:47  40  Throws exceptions:
15:45:47  41  APP_EXCEPTION_CODES_V17.UNKNOWN_ERROR
15:45:47  42  */
15:45:47  43  	in_subscription_id	     IN  NUMBER,
15:45:47  44  	in_account_id		     IN NUMBER,
15:45:47  45  	in_purchase_date	     IN DATE,
15:45:47  46  	in_offer_chain_id	     IN NUMBER,
15:45:47  47  	in_suspend_date 	     IN DATE,
15:45:47  48  	in_termination_date	     IN DATE,
15:45:47  49  	in_days_remaining_adjustment IN NUMBER,
15:45:47  50  	in_cancellation_type_id      IN NUMBER,
15:45:47  51  	in_created_by		     IN  VARCHAR2,
15:45:47  52  	in_create_date		     IN DATE,
15:45:47  53  	in_system_activity_reason_id IN  NUMBER
15:45:47  54  );
15:45:47  55  
15:45:47  56  PROCEDURE CREATE_CREDIT_CARD_HISTORY (
15:45:47  57  /*
15:45:47  58  Throws exceptions:
15:45:47  59  APP_EXCEPTION_CODES_V17.UNKNOWN_ERROR
15:45:47  60  */
15:45:47  61  	in_credit_card_id	      IN  NUMBER,
15:45:47  62  	in_account_id		      IN NUMBER,
15:45:47  63  	in_instrument_name	      IN VARCHAR2,
15:45:47  64  	in_private_card_holder_name   IN VARCHAR2,
15:45:47  65  	in_private_street_address     IN VARCHAR2,
15:45:47  66  	in_private_street_address2    IN VARCHAR2,
15:45:47  67  	in_state		      IN VARCHAR2,
15:45:47  68  	in_city 		      IN VARCHAR2,
15:45:47  69  	in_postal_code		      IN VARCHAR2,
15:45:47  70  	in_country		      IN CHAR,
15:45:47  71  	in_last_four_cc 	      IN VARCHAR2,
15:45:47  72  	in_expiration_date	      IN DATE,
15:45:47  73  	in_credit_card_type_id	      IN NUMBER,
15:45:47  74  	in_secret_token 	      IN VARCHAR2,
15:45:47  75  	in_chase_profile_id	      IN VARCHAR2,
15:45:47  76  	in_credit_card_status_id      IN NUMBER,
15:45:47  77  	in_created_by		      IN  VARCHAR2,
15:45:47  78  	in_create_date		      IN DATE,
15:45:47  79  	in_system_activity_reason_id  IN  NUMBER
15:45:47  80  );
15:45:47  81  
15:45:47  82  PROCEDURE CREATE_PAYPAL_HISTORY (
15:45:47  83  /*
15:45:47  84  Throws exceptions:
15:45:47  85  APP_EXCEPTION_CODES_V17.UNKNOWN_ERROR
15:45:47  86  */
15:45:47  87  	in_paypal_id			IN NUMBER,
15:45:47  88  	in_account_id			IN NUMBER,
15:45:47  89  	in_instrument_name		IN VARCHAR2,
15:45:47  90  	in_private_email_address	IN VARCHAR2,
15:45:47  91  	in_created_by			IN VARCHAR2,
15:45:47  92  	in_create_date			IN DATE,
15:45:47  93  	in_paypal_status_id		IN NUMBER,
15:45:47  94  	in_paypal_prvt_street_address	IN VARCHAR2,
15:45:47  95  	in_paypal_prvt_street_address2	IN VARCHAR2,
15:45:47  96  	in_state			IN VARCHAR2,
15:45:47  97  	in_city 			IN VARCHAR2,
15:45:47  98  	in_postal_code			IN VARCHAR2,
15:45:47  99  	in_country			IN CHAR,
15:45:47 100  	in_expiration_date		IN DATE,
15:45:47 101  	in_system_activity_reason_id	IN NUMBER,
15:45:47 102  	in_secret_token 		IN VARCHAR2
15:45:47 103  );
15:45:47 104  
15:45:47 105  PROCEDURE CREATE_TRANSACTION_HISTORY (
15:45:47 106  /*
15:45:47 107  Throws exceptions:
15:45:47 108  APP_EXCEPTION_CODES_V17.UNKNOWN_ERROR
15:45:47 109  */
15:45:47 110  	in_transaction_id	     IN NUMBER,
15:45:47 111  	in_transaction_status_id     IN NUMBER,
15:45:47 112  	in_transaction_amount	     IN NUMBER,
15:45:47 113  	in_created_by		     IN VARCHAR2,
15:45:47 114  	in_create_date		     IN DATE,
15:45:47 115  	in_system_activity_reason_id IN NUMBER
15:45:47 116  );
15:45:47 117  
15:45:47 118  PROCEDURE CREATE_GIFT_CERT_HISTORY (
15:45:47 119  	in_gift_certificate_id	      IN NUMBER,
15:45:47 120  	in_purchaser_group_id	      IN NUMBER,
15:45:47 121  	in_purchase_invoice_id	      IN NUMBER,
15:45:47 122  	in_offer_chain_id	      IN NUMBER,
15:45:47 123  	in_expiration_date	      IN DATE,
15:45:47 124  	in_purchase_date	      IN DATE,
15:45:47 125  	in_gift_certificate_status_id IN NUMBER,
15:45:47 126  	in_code 		      IN VARCHAR2,
15:45:47 127  	in_created_by		      IN VARCHAR2,
15:45:47 128  	in_create_date		      IN DATE,
15:45:47 129  	in_system_activity_reason_id  IN NUMBER,
15:45:47 130  	in_recipient_name	      IN VARCHAR2,
15:45:47 131  	in_gift_message 	      IN VARCHAR2,
15:45:47 132  	in_recipient_email	      IN VARCHAR2,
15:45:47 133  	in_finalized_invoice_id       IN NUMBER,
15:45:47 134  	in_sender_email 	      IN VARCHAR2,
15:45:47 135  	in_sender_name		      IN VARCHAR2,
15:45:47 136  	in_redemption_date	      IN DATE,
15:45:47 137  	in_redeemer_group_id	      IN NUMBER,
15:45:47 138  	in_cancelation_date	      IN DATE,
15:45:47 139  	in_recipient_address_id       IN NUMBER,
15:45:47 140  	in_redeemer_address_id	      IN NUMBER,
15:45:47 141  	in_recipient_notify_date      IN DATE
15:45:47 142  );
15:45:47 143  
15:45:47 144  PROCEDURE CREATE_INVOICE_HISTORY (
15:45:47 145  /*
15:45:47 146  Throws exceptions:
15:45:47 147  APP_EXCEPTION_CODES_V17.UNKNOWN_ERROR
15:45:47 148  */
15:45:47 149  	in_invoice_id		     IN NUMBER,
15:45:47 150  	in_invoice_status_id	     IN NUMBER,
15:45:47 151  	in_created_by		     IN VARCHAR2,
15:45:47 152  	in_create_date		     IN DATE,
15:45:47 153  	in_system_activity_reason_id IN NUMBER
15:45:47 154  );
15:45:47 155  
15:45:47 156  PROCEDURE CREATE_LICENSE_HISTORY (
15:45:47 157  /*
15:45:47 158  Throws exceptions:
15:45:47 159  APP_EXCEPTION_CODES_V17.UNKNOWN_ERROR
15:45:47 160  */
15:45:47 161  	in_license_id		    IN NUMBER,
15:45:47 162  	in_license_status_id	    IN NUMBER,
15:45:47 163  	in_needs_entitlements	    IN NUMBER,
15:45:47 164  	in_start_date		    IN DATE,
15:45:47 165  	in_offer_id		    IN NUMBER,
15:45:47 166  	in_subscription_id	    IN NUMBER,
15:45:47 167  	in_invoice_id		    IN NUMBER,
15:45:47 168  	in_end_date		    IN DATE,
15:45:47 169  	in_created_by		    IN VARCHAR2,
15:45:47 170  	in_create_date		    IN DATE,
15:45:47 171  	in_is_extension 	    IN NUMBER,
15:45:47 172  	in_current_offer_index	    IN NUMBER,
15:45:47 173  	in_current_offer_recurr_num IN NUMBER,
15:45:47 174  	in_system_activity_reason_id IN NUMBER,
15:45:47 175  	in_entitlement_end_date      IN DATE
15:45:47 176  );
15:45:47 177  
15:45:47 178  PROCEDURE CREATE_CHARGE_HISTORY (
15:45:47 179  /*
15:45:47 180  Throws exceptions:
15:45:47 181  APP_EXCEPTION_CODES_V17.UNKNOWN_ERROR
15:45:47 182  */
15:45:47 183  	in_charge_id		     IN NUMBER,
15:45:47 184  	in_invoice_id		     IN NUMBER,
15:45:47 185  	in_transaction_id	     IN NUMBER,
15:45:47 186  	in_instrument_type_id	     IN NUMBER,
15:45:47 187  	in_instrument_id	     IN NUMBER,
15:45:47 188  	in_charge_amount	     IN NUMBER,
15:45:47 189  	in_created_by		     IN VARCHAR2,
15:45:47 190  	in_create_date		     IN DATE,
15:45:47 191  	in_charge_status_id	     IN NUMBER,
15:45:47 192  	in_system_activity_reason_id IN NUMBER
15:45:47 193  );
15:45:47 194  
15:45:47 195  PROCEDURE CREATE_ITUNES_RECEIPT_HISTORY (
15:45:47 196  /*
15:45:47 197  Throws exceptions:
15:45:47 198  APP_EXCEPTION_CODES_V17.UNKNOWN_ERROR
15:45:47 199  */
15:45:47 200  /*
15:45:47 201  CREATE TABLE ITUNES_RECEIPT (
15:45:47 202  	id NUMBER NOT NULL ENABLE,
15:45:47 203  	subscription_id NUMBER NOT NULL ENABLE,
15:45:47 204  	receipt VARCHAR(1024) NOT NULL ENABLE,
15:45:47 205  	status NUMBER,
15:45:47 206  	quantity NUMBER,
15:45:47 207  	product_id VARCHAR(1024),
15:45:47 208  	transaction_id VARCHAR(1024),
15:45:47 209  	purchase_date TIMESTAMP,
15:45:47 210  	original_transaction_id VARCHAR(1024),
15:45:47 211  	original_purchase_date TIMESTAMP,
15:45:47 212  	app_item_id VARCHAR(1024),
15:45:47 213  	version_external_id NUMBER,
15:45:47 214  	bid VARCHAR(1024),
15:45:47 215  	bvrs VARCHAR(255),
15:45:47 216  	expires_date TIMESTAMP,
15:45:47 217  	create_date DATE NOT NULL,
15:45:47 218  	created_by VARCHAR(255) NOT NULL,
15:45:47 219  	update_date DATE NOT NULL,
15:45:47 220  	updated_by VARCHAR(255) NOT NULL,
15:45:47 221  	last_check_date DATE NOT NULL,
15:45:47 222  	CONSTRAINT "ITUNESRECEIPT_PK" PRIMARY KEY ("ID") USING INDEX TABLESPACE "CORE_IDX" ENABLE,
15:45:47 223  	CONSTRAINT "ITUNESRECEIPT_SUBID_FK" FOREIGN KEY ("SUBSCRIPTION_ID") REFERENCES SUBSCRIPTION(ID) USING INDEX TABLESPACE "CORE_IDX" ENABLE,
15:45:47 224  	CONSTRAINT "ITUNESRECEIPT_RECEIPT_UK" UNIQUE(receipt) USING INDEX TABLESPACE "CORE_IDX" ENABLE,
15:45:47 225  	CONSTRAINT "ITUNESRECEIPT_SUBID_UK" UNIQUE(subscription_id) USING INDEX TABLESPACE "CORE_IDX" ENABLE
15:45:47 226  )
15:45:47 227  TABLESPACE CORE;
15:45:47 228  */
15:45:47 229  	in_id		    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.ID%TYPE,
15:45:47 230  	in_subscription_id  IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.SUBSCRIPTION_ID%TYPE,
15:45:47 231  	in_receipt	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.RECEIPT%TYPE,
15:45:47 232  	in_status	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.STATUS%TYPE,
15:45:47 233  	in_quantity	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.QUANTITY%TYPE,
15:45:47 234  	in_product_id	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.PRODUCT_ID%TYPE,
15:45:47 235  	in_transaction_id   IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.TRANSACTION_ID%TYPE,
15:45:47 236  	in_purchase_date    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.PURCHASE_DATE%TYPE,
15:45:47 237  	in_original_transaction_id IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.ORIGINAL_TRANSACTION_ID%TYPE,
15:45:47 238  	in_original_purchase_date IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.ORIGINAL_PURCHASE_DATE%TYPE,
15:45:47 239  	in_app_item_id	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.APP_ITEM_ID%TYPE,
15:45:47 240  	in_version_external_id IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.VERSION_EXTERNAL_ID%TYPE,
15:45:47 241  	in_bid		    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.BID%TYPE,
15:45:47 242  	in_bvrs 	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.BVRS%TYPE,
15:45:47 243  	in_expires_date     IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.EXPIRES_DATE%TYPE,
15:45:47 244  	in_create_date	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.CREATE_DATE%TYPE,
15:45:47 245  	in_created_by	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.CREATED_BY%TYPE,
15:45:47 246  	in_update_date	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.UPDATE_DATE%TYPE,
15:45:47 247  	in_updated_by	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.UPDATED_BY%TYPE,
15:45:47 248  	in_last_check_date  IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.LAST_CHECK_DATE%TYPE,
15:45:47 249  	in_cancel_date	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.CANCEL_DATE%TYPE
15:45:47 250  );
15:45:47 251  
15:45:47 252  PROCEDURE CREATE_INVOICE_ADJ_HISTORY (
15:45:47 253  /*
15:45:47 254  Throws exceptions:
15:45:47 255  APP_EXCEPTION_CODES_V17.UNKNOWN_ERROR
15:45:47 256  */
15:45:47 257  	in_invoice_adjustment_id     IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.INVOICE_ADJUSTMENT_ID%TYPE,
15:45:47 258  	in_invoice_id		     IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.INVOICE_ID%TYPE,
15:45:47 259  	in_is_credit		     IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.IS_CREDIT%TYPE,
15:45:47 260  	in_charge_id		     IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.CHARGE_ID%TYPE,
15:45:47 261  	in_adjustment_date	     IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.ADJUSTMENT_DATE%TYPE,
15:45:47 262  	in_create_date		     IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.CREATE_DATE%TYPE,
15:45:47 263  	in_created_by		     IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.CREATED_BY%TYPE,
15:45:47 264  	in_invoice_adj_reason_id	       IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.INVOICE_ADJUSTMENT_REASON_ID%TYPE,
15:45:47 265  	in_update_date		      IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.UPDATE_DATE%TYPE,
15:45:47 266  	in_updated_by		     IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.UPDATED_BY%TYPE
15:45:47 267  );
15:45:47 268  
15:45:47 269  PROCEDURE CREATE_NOTIFICATION_HISTORY (
15:45:47 270  /*
15:45:47 271  Throws exceptions:
15:45:47 272  APP_EXCEPTION_CODES_V17.UNKNOWN_ERROR
15:45:47 273  */
15:45:47 274  	in_notification_id	      IN NUMBER,
15:45:47 275  	in_account_id		      IN NUMBER,
15:45:47 276  	in_group_id		      IN NUMBER,
15:45:47 277  	notification_reason_type_id   IN NUMBER,
15:45:47 278  	notification_status_id	      IN NUMBER,
15:45:47 279  	email_template_params	      IN CLOB,
15:45:47 280  	in_create_date		      IN DATE,
15:45:47 281  	in_date_to_notify	      IN DATE
15:45:47 282  );
15:45:47 283  
15:45:47 284  PROCEDURE CREATE_NOTIF_FAILURE_HISTORY (
15:45:47 285  /*
15:45:47 286  Throws exceptions:
15:45:47 287  APP_EXCEPTION_CODES_V17.UNKNOWN_ERROR
15:45:47 288  */
15:45:47 289  	in_error_message	 IN VARCHAR2,
15:45:47 290  	in_notification_id	 IN NUMBER,
15:45:47 291  	in_create_date		 IN DATE
15:45:47 292  );
15:45:47 293  
15:45:47 294  END PUBLIC_PROCS_CORE_V17;
15:45:47 295  .
15:45:47 SQL> /

Package created.

Elapsed: 00:00:00.07
15:45:47 SQL> 
15:45:47 SQL> CREATE OR REPLACE PACKAGE BODY "PUBLIC_PROCS_CORE_V17" AS
15:45:47   2  
15:45:47   3  PROCEDURE CREATE_ADDRESS_HISTORY (
15:45:47   4  /*
15:45:47   5  Throws exceptions:
15:45:47   6  APP_EXCEPTION_CODES_V17.NOT_FOUND
15:45:47   7  APP_EXCEPTION_CODES_V17.UNKNOWN_ERROR
15:45:47   8  */
15:45:47   9  	in_address_id		      IN ADDRESS_HISTORY.ADDRESS_ID%TYPE,
15:45:47  10  	in_system_activity_reason_id  IN ADDRESS_HISTORY.SYSTEM_ACTIVITY_REASON_ID%TYPE,
15:45:47  11  	in_address1		      IN ADDRESS_HISTORY.ADDRESS1%TYPE,
15:45:47  12  	in_address2		      IN ADDRESS_HISTORY.ADDRESS2%TYPE,
15:45:47  13  	in_city 		      IN ADDRESS_HISTORY.CITY%TYPE,
15:45:47  14  	in_state		      IN ADDRESS_HISTORY.STATE%TYPE,
15:45:47  15  	in_postal_code		      IN ADDRESS_HISTORY.POSTAL_CODE%TYPE,
15:45:47  16  	in_country		      IN ADDRESS_HISTORY.COUNTRY%TYPE,
15:45:47  17  	in_created_by		      IN ADDRESS_HISTORY.CREATED_BY%TYPE,
15:45:47  18  	in_create_date		      IN ADDRESS_HISTORY.CREATE_DATE%TYPE,
15:45:47  19  	in_updated_by		      IN ADDRESS_HISTORY.UPDATED_BY%TYPE,
15:45:47  20  	in_update_date		      IN ADDRESS_HISTORY.UPDATE_DATE%TYPE
15:45:47  21  ) AS
15:45:47  22  BEGIN
15:45:47  23  	PROCS_HISTORY_V17.CREATE_ADDRESS_HISTORY(
15:45:47  24  	in_address_id,
15:45:47  25  	in_system_activity_reason_id,
15:45:47  26  	in_address1,
15:45:47  27  	in_address2,
15:45:47  28  	in_city,
15:45:47  29  	in_state,
15:45:47  30  	in_postal_code,
15:45:47  31  	in_country,
15:45:47  32  	in_created_by,
15:45:47  33  	in_create_date,
15:45:47  34  	in_updated_by,
15:45:47  35  	in_update_date
15:45:47  36  	);
15:45:47  37  END CREATE_ADDRESS_HISTORY;
15:45:47  38  
15:45:47  39  PROCEDURE CREATE_ACCOUNT_HISTORY (
15:45:47  40  /*
15:45:47  41  Throws exceptions:
15:45:47  42  APP_EXCEPTION_CODES_V17.NOT_FOUND
15:45:47  43  APP_EXCEPTION_CODES_V17.UNKNOWN_ERROR
15:45:47  44  */
15:45:47  45  	in_account_id		      IN NUMBER,
15:45:47  46  	in_suspend_date 	      IN DATE,
15:45:47  47  	in_group_id		      IN NUMBER,
15:45:47  48  	in_created_by		      IN VARCHAR2,
15:45:47  49  	in_create_date		      IN DATE,
15:45:47  50  	in_system_activity_reason_id  IN NUMBER,
15:45:47  51  	in_account_status_id	      IN NUMBER,
15:45:47  52  	in_instrument_type_id	      IN NUMBER,
15:45:47  53  	in_instrument_id	      IN NUMBER
15:45:47  54  ) AS
15:45:47  55  BEGIN
15:45:47  56  	PROCS_HISTORY_V17.CREATE_ACCOUNT_HISTORY(
15:45:47  57  	  in_account_id,
15:45:47  58  	  in_suspend_date,
15:45:47  59  	  in_group_id,
15:45:47  60  	  in_created_by,
15:45:47  61  	  in_create_date,
15:45:47  62  	  in_system_activity_reason_id,
15:45:47  63  	  in_account_status_id,
15:45:47  64  	  in_instrument_type_id,
15:45:47  65  	  in_instrument_id
15:45:47  66  	);
15:45:47  67  END CREATE_ACCOUNT_HISTORY;
15:45:47  68  
15:45:47  69  PROCEDURE CREATE_SUBSCRIPTION_HISTORY (
15:45:47  70  /*
15:45:47  71  Throws exceptions:
15:45:47  72  APP_EXCEPTION_CODES_V17.UNKNOWN_ERROR
15:45:47  73  */
15:45:47  74  	in_subscription_id	     IN  NUMBER,
15:45:47  75  	in_account_id		     IN NUMBER,
15:45:47  76  	in_purchase_date	     IN DATE,
15:45:47  77  	in_offer_chain_id	     IN NUMBER,
15:45:47  78  	in_suspend_date 	     IN DATE,
15:45:47  79  	in_termination_date	     IN DATE,
15:45:47  80  	in_days_remaining_adjustment IN NUMBER,
15:45:47  81  	in_cancellation_type_id      IN NUMBER,
15:45:47  82  	in_created_by		     IN  VARCHAR2,
15:45:47  83  	in_create_date		     IN DATE,
15:45:47  84  	in_system_activity_reason_id IN  NUMBER
15:45:47  85  ) AS
15:45:47  86  BEGIN
15:45:47  87  	PROCS_HISTORY_V17.CREATE_SUBSCRIPTION_HISTORY(
15:45:47  88  	  in_subscription_id,
15:45:47  89  	  in_account_id,
15:45:47  90  	  in_purchase_date,
15:45:47  91  	  in_offer_chain_id,
15:45:47  92  	  in_suspend_date,
15:45:47  93  	  in_termination_date,
15:45:47  94  	  in_days_remaining_adjustment,
15:45:47  95  	  in_cancellation_type_id,
15:45:47  96  	  in_created_by,
15:45:47  97  	  in_create_date,
15:45:47  98  	  in_system_activity_reason_id
15:45:47  99  	);
15:45:47 100  END CREATE_SUBSCRIPTION_HISTORY;
15:45:47 101  
15:45:47 102  PROCEDURE CREATE_CREDIT_CARD_HISTORY (
15:45:47 103  /*
15:45:47 104  Throws exceptions:
15:45:47 105  APP_EXCEPTION_CODES_V17.UNKNOWN_ERROR
15:45:47 106  */
15:45:47 107  	in_credit_card_id	      IN  NUMBER,
15:45:47 108  	in_account_id		      IN NUMBER,
15:45:47 109  	in_instrument_name	      IN VARCHAR2,
15:45:47 110  	in_private_card_holder_name   IN VARCHAR2,
15:45:47 111  	in_private_street_address     IN VARCHAR2,
15:45:47 112  	in_private_street_address2    IN VARCHAR2,
15:45:47 113  	in_state		      IN VARCHAR2,
15:45:47 114  	in_city 		      IN VARCHAR2,
15:45:47 115  	in_postal_code		      IN VARCHAR2,
15:45:47 116  	in_country		      IN CHAR,
15:45:47 117  	in_last_four_cc 	      IN VARCHAR2,
15:45:47 118  	in_expiration_date	      IN DATE,
15:45:47 119  	in_credit_card_type_id	      IN NUMBER,
15:45:47 120  	in_secret_token 	      IN VARCHAR2,
15:45:47 121  	in_chase_profile_id	      IN VARCHAR2,
15:45:47 122  	in_credit_card_status_id      IN NUMBER,
15:45:47 123  	in_created_by		      IN  VARCHAR2,
15:45:47 124  	in_create_date		      IN DATE,
15:45:47 125  	in_system_activity_reason_id  IN  NUMBER
15:45:47 126  ) AS
15:45:47 127  BEGIN
15:45:47 128  	PROCS_HISTORY_V17.CREATE_CREDIT_CARD_HISTORY(
15:45:47 129  	  in_credit_card_id,
15:45:47 130  	  in_account_id,
15:45:47 131  	  in_instrument_name,
15:45:47 132  	  in_private_card_holder_name,
15:45:47 133  	  in_private_street_address,
15:45:47 134  	  in_private_street_address2,
15:45:47 135  	  in_state,
15:45:47 136  	  in_city,
15:45:47 137  	  in_postal_code,
15:45:47 138  	  in_country,
15:45:47 139  	  in_last_four_cc,
15:45:47 140  	  in_expiration_date,
15:45:47 141  	  in_credit_card_type_id,
15:45:47 142  	  in_secret_token,
15:45:47 143  	  in_chase_profile_id,
15:45:47 144  	  in_credit_card_status_id,
15:45:47 145  	  in_created_by,
15:45:47 146  	  in_create_date,
15:45:47 147  	  in_system_activity_reason_id
15:45:47 148  );
15:45:47 149  END CREATE_CREDIT_CARD_HISTORY;
15:45:47 150  
15:45:47 151  /***************************************************************/
15:45:47 152  
15:45:47 153  PROCEDURE CREATE_PAYPAL_HISTORY (
15:45:47 154  /*
15:45:47 155  Throws exceptions:
15:45:47 156  APP_EXCEPTION_CODES_V17.UNKNOWN_ERROR
15:45:47 157  */
15:45:47 158  	in_paypal_id			IN NUMBER,
15:45:47 159  	in_account_id			IN NUMBER,
15:45:47 160  	in_instrument_name		IN VARCHAR2,
15:45:47 161  	in_private_email_address	IN VARCHAR2,
15:45:47 162  	in_created_by			IN VARCHAR2,
15:45:47 163  	in_create_date			IN DATE,
15:45:47 164  	in_paypal_status_id		IN NUMBER,
15:45:47 165  	in_paypal_prvt_street_address	IN VARCHAR2,
15:45:47 166  	in_paypal_prvt_street_address2	IN VARCHAR2,
15:45:47 167  	in_state			IN VARCHAR2,
15:45:47 168  	in_city 			IN VARCHAR2,
15:45:47 169  	in_postal_code			IN VARCHAR2,
15:45:47 170  	in_country			IN CHAR,
15:45:47 171  	in_expiration_date		IN DATE,
15:45:47 172  	in_system_activity_reason_id	IN NUMBER,
15:45:47 173  	in_secret_token 		IN VARCHAR2
15:45:47 174  ) AS
15:45:47 175  BEGIN
15:45:47 176  	PROCS_HISTORY_V17.CREATE_PAYPAL_HISTORY(
15:45:47 177  	  in_paypal_id,
15:45:47 178  	  in_account_id,
15:45:47 179  	  in_instrument_name,
15:45:47 180  	  in_private_email_address,
15:45:47 181  	  in_created_by,
15:45:47 182  	  in_create_date,
15:45:47 183  	  in_paypal_status_id,
15:45:47 184  	  in_paypal_prvt_street_address,
15:45:47 185  	  in_paypal_prvt_street_address2,
15:45:47 186  	  in_state,
15:45:47 187  	  in_city,
15:45:47 188  	  in_postal_code,
15:45:47 189  	  in_country,
15:45:47 190  	  in_expiration_date,
15:45:47 191  	  in_system_activity_reason_id,
15:45:47 192  	  in_secret_token
15:45:47 193  	);
15:45:47 194  END;
15:45:47 195  
15:45:47 196  /***************************************************************/
15:45:47 197  
15:45:47 198  PROCEDURE CREATE_TRANSACTION_HISTORY (
15:45:47 199  /*
15:45:47 200  Throws exceptions:
15:45:47 201  APP_EXCEPTION_CODES_V17.UNKNOWN_ERROR
15:45:47 202  */
15:45:47 203  	in_transaction_id	     IN NUMBER,
15:45:47 204  	in_transaction_status_id     IN NUMBER,
15:45:47 205  	in_transaction_amount	     IN NUMBER,
15:45:47 206  	in_created_by		     IN VARCHAR2,
15:45:47 207  	in_create_date		     IN DATE,
15:45:47 208  	in_system_activity_reason_id IN NUMBER
15:45:47 209  ) AS
15:45:47 210  BEGIN
15:45:47 211  	PROCS_HISTORY_V17.CREATE_TRANSACTION_HISTORY(
15:45:47 212  	  in_transaction_id,
15:45:47 213  	  in_transaction_status_id,
15:45:47 214  	  in_transaction_amount,
15:45:47 215  	  in_created_by,
15:45:47 216  	  in_create_date,
15:45:47 217  	  in_system_activity_reason_id
15:45:47 218  	);
15:45:47 219  END CREATE_TRANSACTION_HISTORY;
15:45:47 220  
15:45:47 221  /***************************************************************/
15:45:47 222  
15:45:47 223  PROCEDURE CREATE_GIFT_CERT_HISTORY (
15:45:47 224  	in_gift_certificate_id	      IN NUMBER,
15:45:47 225  	in_purchaser_group_id	      IN NUMBER,
15:45:47 226  	in_purchase_invoice_id	      IN NUMBER,
15:45:47 227  	in_offer_chain_id	      IN NUMBER,
15:45:47 228  	in_expiration_date	      IN DATE,
15:45:47 229  	in_purchase_date	      IN DATE,
15:45:47 230  	in_gift_certificate_status_id IN NUMBER,
15:45:47 231  	in_code 		      IN VARCHAR2,
15:45:47 232  	in_created_by		      IN VARCHAR2,
15:45:47 233  	in_create_date		      IN DATE,
15:45:47 234  	in_system_activity_reason_id  IN NUMBER,
15:45:47 235  	in_recipient_name	      IN VARCHAR2,
15:45:47 236  	in_gift_message 	      IN VARCHAR2,
15:45:47 237  	in_recipient_email	      IN VARCHAR2,
15:45:47 238  	in_finalized_invoice_id       IN NUMBER,
15:45:47 239  	in_sender_email 	      IN VARCHAR2,
15:45:47 240  	in_sender_name		      IN VARCHAR2,
15:45:47 241  	in_redemption_date	      IN DATE,
15:45:47 242  	in_redeemer_group_id	      IN NUMBER,
15:45:47 243  	in_cancelation_date	      IN DATE,
15:45:47 244  	in_recipient_address_id       IN NUMBER,
15:45:47 245  	in_redeemer_address_id	      IN NUMBER,
15:45:47 246  	in_recipient_notify_date      IN DATE
15:45:47 247  ) AS
15:45:47 248  BEGIN
15:45:47 249  	PROCS_HISTORY_V17.CREATE_GIFT_CERT_HISTORY(
15:45:47 250  	  in_gift_certificate_id,
15:45:47 251  	  in_purchaser_group_id,
15:45:47 252  	  in_purchase_invoice_id,
15:45:47 253  	  in_offer_chain_id,
15:45:47 254  	  in_expiration_date,
15:45:47 255  	  in_purchase_date,
15:45:47 256  	  in_gift_certificate_status_id,
15:45:47 257  	  in_code,
15:45:47 258  	  in_created_by,
15:45:47 259  	  in_create_date,
15:45:47 260  	  in_system_activity_reason_id,
15:45:47 261  	  in_recipient_name,
15:45:47 262  	  in_gift_message,
15:45:47 263  	  in_recipient_email,
15:45:47 264  	  in_finalized_invoice_id,
15:45:47 265  	  in_sender_email,
15:45:47 266  	  in_sender_name,
15:45:47 267  	  in_redemption_date,
15:45:47 268  	  in_redeemer_group_id,
15:45:47 269  	  in_cancelation_date,
15:45:47 270  	  in_recipient_address_id,
15:45:47 271  	  in_redeemer_address_id,
15:45:47 272  	  in_recipient_notify_date
15:45:47 273  	);
15:45:47 274  END CREATE_GIFT_CERT_HISTORY;
15:45:47 275  
15:45:47 276  /***************************************************************/
15:45:47 277  
15:45:47 278  PROCEDURE CREATE_INVOICE_HISTORY (
15:45:47 279  	in_invoice_id		     IN NUMBER,
15:45:47 280  	in_invoice_status_id	     IN NUMBER,
15:45:47 281  	in_created_by		     IN VARCHAR2,
15:45:47 282  	in_create_date		     IN DATE,
15:45:47 283  	in_system_activity_reason_id IN NUMBER
15:45:47 284  ) AS
15:45:47 285  BEGIN
15:45:47 286  	PROCS_HISTORY_V17.CREATE_INVOICE_HISTORY (
15:45:47 287  	  in_invoice_id,
15:45:47 288  	  in_invoice_status_id,
15:45:47 289  	  in_created_by,
15:45:47 290  	  in_create_date,
15:45:47 291  	  in_system_activity_reason_id
15:45:47 292  	);
15:45:47 293  END CREATE_INVOICE_HISTORY;
15:45:47 294  
15:45:47 295  /***************************************************************/
15:45:47 296  
15:45:47 297  PROCEDURE CREATE_LICENSE_HISTORY (
15:45:47 298  /*
15:45:47 299  Throws exceptions:
15:45:47 300  APP_EXCEPTION_CODES_V17.UNKNOWN_ERROR
15:45:47 301  */
15:45:47 302  	in_license_id		    IN NUMBER,
15:45:47 303  	in_license_status_id	    IN NUMBER,
15:45:47 304  	in_needs_entitlements	    IN NUMBER,
15:45:47 305  	in_start_date		    IN DATE,
15:45:47 306  	in_offer_id		    IN NUMBER,
15:45:47 307  	in_subscription_id	    IN NUMBER,
15:45:47 308  	in_invoice_id		    IN NUMBER,
15:45:47 309  	in_end_date		    IN DATE,
15:45:47 310  	in_created_by		    IN VARCHAR2,
15:45:47 311  	in_create_date		    IN DATE,
15:45:47 312  	in_is_extension 	    IN NUMBER,
15:45:47 313  	in_current_offer_index	    IN NUMBER,
15:45:47 314  	in_current_offer_recurr_num IN NUMBER,
15:45:47 315  	in_system_activity_reason_id IN NUMBER,
15:45:47 316  	in_entitlement_end_date      IN DATE
15:45:47 317  ) AS
15:45:47 318  BEGIN
15:45:47 319  	PROCS_HISTORY_V17.CREATE_LICENSE_HISTORY (
15:45:47 320  	  in_license_id,
15:45:47 321  	  in_license_status_id,
15:45:47 322  	  in_needs_entitlements,
15:45:47 323  	  in_start_date,
15:45:47 324  	  in_offer_id,
15:45:47 325  	  in_subscription_id,
15:45:47 326  	  in_invoice_id,
15:45:47 327  	  in_end_date,
15:45:47 328  	  in_created_by,
15:45:47 329  	  in_create_date,
15:45:47 330  	  in_is_extension,
15:45:47 331  	  in_current_offer_index,
15:45:47 332  	  in_current_offer_recurr_num,
15:45:47 333  	  in_system_activity_reason_id,
15:45:47 334  	  in_entitlement_end_date
15:45:47 335  	);
15:45:47 336  END CREATE_LICENSE_HISTORY;
15:45:47 337  
15:45:47 338  /***************************************************************/
15:45:47 339  
15:45:47 340  PROCEDURE CREATE_CHARGE_HISTORY (
15:45:47 341  /*
15:45:47 342  Throws exceptions:
15:45:47 343  APP_EXCEPTION_CODES_V17.UNKNOWN_ERROR
15:45:47 344  */
15:45:47 345  	in_charge_id		     IN NUMBER,
15:45:47 346  	in_invoice_id		     IN NUMBER,
15:45:47 347  	in_transaction_id	     IN NUMBER,
15:45:47 348  	in_instrument_type_id	     IN NUMBER,
15:45:47 349  	in_instrument_id	     IN NUMBER,
15:45:47 350  	in_charge_amount	     IN NUMBER,
15:45:47 351  	in_created_by		     IN VARCHAR2,
15:45:47 352  	in_create_date		     IN DATE,
15:45:47 353  	in_charge_status_id	     IN NUMBER,
15:45:47 354  	in_system_activity_reason_id IN NUMBER
15:45:47 355  ) AS
15:45:47 356  BEGIN
15:45:47 357  	PROCS_HISTORY_V17.CREATE_CHARGE_HISTORY (
15:45:47 358  	  in_charge_id,
15:45:47 359  	  in_invoice_id,
15:45:47 360  	  in_transaction_id,
15:45:47 361  	  in_instrument_type_id,
15:45:47 362  	  in_instrument_id,
15:45:47 363  	  in_charge_amount,
15:45:47 364  	  in_created_by,
15:45:47 365  	  in_create_date,
15:45:47 366  	  in_charge_status_id,
15:45:47 367  	  in_system_activity_reason_id
15:45:47 368  	);
15:45:47 369  END;
15:45:47 370  
15:45:47 371  PROCEDURE CREATE_ITUNES_RECEIPT_HISTORY (
15:45:47 372  /*
15:45:47 373  Throws exceptions:
15:45:47 374  APP_EXCEPTION_CODES_V17.UNKNOWN_ERROR
15:45:47 375  */
15:45:47 376  /*
15:45:47 377  CREATE TABLE ITUNES_RECEIPT (
15:45:47 378  	id NUMBER NOT NULL ENABLE,
15:45:47 379  	subscription_id NUMBER NOT NULL ENABLE,
15:45:47 380  	receipt VARCHAR(1024) NOT NULL ENABLE,
15:45:47 381  	status NUMBER,
15:45:47 382  	quantity NUMBER,
15:45:47 383  	product_id VARCHAR(1024),
15:45:47 384  	transaction_id VARCHAR(1024),
15:45:47 385  	purchase_date TIMESTAMP,
15:45:47 386  	original_transaction_id VARCHAR(1024),
15:45:47 387  	original_purchase_date TIMESTAMP,
15:45:47 388  	app_item_id VARCHAR(1024),
15:45:47 389  	version_external_id NUMBER,
15:45:47 390  	bid VARCHAR(1024),
15:45:47 391  	bvrs VARCHAR(255),
15:45:47 392  	expires_date TIMESTAMP,
15:45:47 393  	create_date DATE NOT NULL,
15:45:47 394  	created_by VARCHAR(255) NOT NULL,
15:45:47 395  	update_date DATE NOT NULL,
15:45:47 396  	updated_by VARCHAR(255) NOT NULL,
15:45:47 397  	last_check_date DATE NOT NULL,
15:45:47 398  	CONSTRAINT "ITUNESRECEIPT_PK" PRIMARY KEY ("ID") USING INDEX TABLESPACE "CORE_IDX" ENABLE,
15:45:47 399  	CONSTRAINT "ITUNESRECEIPT_SUBID_FK" FOREIGN KEY ("SUBSCRIPTION_ID") REFERENCES SUBSCRIPTION(ID) USING INDEX TABLESPACE "CORE_IDX" ENABLE,
15:45:47 400  	CONSTRAINT "ITUNESRECEIPT_RECEIPT_UK" UNIQUE(receipt) USING INDEX TABLESPACE "CORE_IDX" ENABLE,
15:45:47 401  	CONSTRAINT "ITUNESRECEIPT_SUBID_UK" UNIQUE(subscription_id) USING INDEX TABLESPACE "CORE_IDX" ENABLE
15:45:47 402  )
15:45:47 403  TABLESPACE CORE;
15:45:47 404  */
15:45:47 405  	in_id		    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.ID%TYPE,
15:45:47 406  	in_subscription_id  IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.SUBSCRIPTION_ID%TYPE,
15:45:47 407  	in_receipt	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.RECEIPT%TYPE,
15:45:47 408  	in_status	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.STATUS%TYPE,
15:45:47 409  	in_quantity	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.QUANTITY%TYPE,
15:45:47 410  	in_product_id	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.PRODUCT_ID%TYPE,
15:45:47 411  	in_transaction_id   IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.TRANSACTION_ID%TYPE,
15:45:47 412  	in_purchase_date    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.PURCHASE_DATE%TYPE,
15:45:47 413  	in_original_transaction_id IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.ORIGINAL_TRANSACTION_ID%TYPE,
15:45:47 414  	in_original_purchase_date IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.ORIGINAL_PURCHASE_DATE%TYPE,
15:45:47 415  	in_app_item_id	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.APP_ITEM_ID%TYPE,
15:45:47 416  	in_version_external_id IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.VERSION_EXTERNAL_ID%TYPE,
15:45:47 417  	in_bid		    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.BID%TYPE,
15:45:47 418  	in_bvrs 	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.BVRS%TYPE,
15:45:47 419  	in_expires_date     IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.EXPIRES_DATE%TYPE,
15:45:47 420  	in_create_date	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.CREATE_DATE%TYPE,
15:45:47 421  	in_created_by	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.CREATED_BY%TYPE,
15:45:47 422  	in_update_date	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.UPDATE_DATE%TYPE,
15:45:47 423  	in_updated_by	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.UPDATED_BY%TYPE,
15:45:47 424  	in_last_check_date  IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.LAST_CHECK_DATE%TYPE,
15:45:47 425  	in_cancel_date	    IN CORE_HIST_OWNER.ITUNES_RECEIPT_HISTORY.CANCEL_DATE%TYPE
15:45:47 426  ) AS
15:45:47 427  BEGIN
15:45:47 428  	PROCS_HISTORY_V17.CREATE_ITUNES_RECEIPT_HISTORY (
15:45:47 429  	  in_id => in_id,
15:45:47 430  	  in_subscription_id => in_subscription_id,
15:45:47 431  	  in_receipt => in_receipt,
15:45:47 432  	  in_status => in_status,
15:45:47 433  	  in_quantity => in_quantity,
15:45:47 434  	  in_product_id => in_product_id,
15:45:47 435  	  in_transaction_id => in_transaction_id,
15:45:47 436  	  in_purchase_date => in_purchase_date,
15:45:47 437  	  in_original_transaction_id => in_original_transaction_id,
15:45:47 438  	  in_original_purchase_date => in_original_purchase_date,
15:45:47 439  	  in_app_item_id => in_app_item_id,
15:45:47 440  	  in_version_external_id => in_version_external_id,
15:45:47 441  	  in_bid => in_bid,
15:45:47 442  	  in_bvrs => in_bvrs,
15:45:47 443  	  in_expires_date => in_expires_date,
15:45:47 444  	  in_create_date => in_create_date,
15:45:47 445  	  in_created_by => in_created_by,
15:45:47 446  	  in_update_date => in_update_date,
15:45:47 447  	  in_updated_by => in_updated_by,
15:45:47 448  	  in_last_check_date => in_last_check_date,
15:45:47 449  	  in_cancel_date => in_cancel_date
15:45:47 450  	);
15:45:47 451  END;
15:45:47 452  
15:45:47 453  PROCEDURE CREATE_INVOICE_ADJ_HISTORY (
15:45:47 454  /*
15:45:47 455  Throws exceptions:
15:45:47 456  APP_EXCEPTION_CODES_V17.UNKNOWN_ERROR
15:45:47 457  */
15:45:47 458  	in_invoice_adjustment_id     IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.INVOICE_ADJUSTMENT_ID%TYPE,
15:45:47 459  	in_invoice_id		     IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.INVOICE_ID%TYPE,
15:45:47 460  	in_is_credit		     IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.IS_CREDIT%TYPE,
15:45:47 461  	in_charge_id		     IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.CHARGE_ID%TYPE,
15:45:47 462  	in_adjustment_date	     IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.ADJUSTMENT_DATE%TYPE,
15:45:47 463  	in_create_date		     IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.CREATE_DATE%TYPE,
15:45:47 464  	in_created_by		     IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.CREATED_BY%TYPE,
15:45:47 465  	in_invoice_adj_reason_id	       IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.INVOICE_ADJUSTMENT_REASON_ID%TYPE,
15:45:47 466  	in_update_date		      IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.UPDATE_DATE%TYPE,
15:45:47 467  	in_updated_by		     IN CORE_HIST_OWNER.INVOICE_ADJUSTMENT_HISTORY.UPDATED_BY%TYPE
15:45:47 468  )  AS
15:45:47 469  	BEGIN
15:45:47 470  	  PROCS_HISTORY_V17.CREATE_INVOICE_ADJ_HISTORY(
15:45:47 471  	    in_invoice_adjustment_id => in_invoice_adjustment_id,
15:45:47 472  	    in_invoice_id => in_invoice_id,
15:45:47 473  	    in_is_credit => in_is_credit,
15:45:47 474  	    in_charge_id => in_charge_id,
15:45:47 475  	    in_adjustment_date => in_adjustment_date,
15:45:47 476  	    in_create_date => in_create_date,
15:45:47 477  	    in_created_by => in_created_by,
15:45:47 478  	    in_invoice_adj_reason_id => in_invoice_adj_reason_id,
15:45:47 479  	    in_update_date => in_update_date,
15:45:47 480  	    in_updated_by => in_updated_by
15:45:47 481  	  );
15:45:47 482  END;
15:45:47 483  
15:45:47 484  PROCEDURE CREATE_NOTIFICATION_HISTORY (
15:45:47 485  /*
15:45:47 486  Throws exceptions:
15:45:47 487  APP_EXCEPTION_CODES_V17.UNKNOWN_ERROR
15:45:47 488  */
15:45:47 489  	in_notification_id	      IN NUMBER,
15:45:47 490  	in_account_id		      IN NUMBER,
15:45:47 491  	in_group_id		      IN NUMBER,
15:45:47 492  	notification_reason_type_id   IN NUMBER,
15:45:47 493  	notification_status_id	      IN NUMBER,
15:45:47 494  	email_template_params	      IN CLOB,
15:45:47 495  	in_create_date		      IN DATE,
15:45:47 496  	in_date_to_notify	      IN DATE
15:45:47 497  ) AS
15:45:47 498  BEGIN
15:45:47 499  	PROCS_HISTORY_V17.CREATE_NOTIFICATION_HISTORY(
15:45:47 500  	  in_notification_id,
15:45:47 501  	  in_account_id,
15:45:47 502  	  in_group_id,
15:45:47 503  	  notification_reason_type_id,
15:45:47 504  	  notification_status_id,
15:45:47 505  	  email_template_params,
15:45:47 506  	  in_create_date,
15:45:47 507  	  in_date_to_notify
15:45:47 508  );
15:45:47 509  END CREATE_NOTIFICATION_HISTORY;
15:45:47 510  
15:45:47 511  /******************************************************/
15:45:47 512  
15:45:47 513  PROCEDURE CREATE_NOTIF_FAILURE_HISTORY (
15:45:47 514  /*
15:45:47 515  Throws exceptions:
15:45:47 516  APP_EXCEPTION_CODES_V17.UNKNOWN_ERROR
15:45:47 517  */
15:45:47 518  	in_error_message	 IN VARCHAR2,
15:45:47 519  	in_notification_id	 IN NUMBER,
15:45:47 520  	in_create_date		 IN DATE
15:45:47 521  ) AS
15:45:47 522  BEGIN
15:45:47 523  	PROCS_HISTORY_V17.CREATE_NOTIF_FAILURE_HISTORY(
15:45:47 524  	  in_error_message,
15:45:47 525  	  in_notification_id,
15:45:47 526  	  in_create_date
15:45:47 527  );
15:45:47 528  END CREATE_NOTIF_FAILURE_HISTORY;
15:45:47 529  
15:45:47 530  END PUBLIC_PROCS_CORE_V17;
15:45:47 531  .
15:45:47 SQL> /

Package body created.

Elapsed: 00:00:00.03
15:45:47 SQL> 
15:45:47 SQL> --------------------------------------------------------------------------------
15:45:47 SQL> -- DDL for package PROCS_PARTITIONS
15:45:47 SQL> --------------------------------------------------------------------------------
15:45:47 SQL> 
15:45:47 SQL> CREATE OR REPLACE PACKAGE "PROCS_PARTITIONS_V17" AS
15:45:47   2  
15:45:47   3  PROCEDURE GET_PARTITION_YEAR_MONTH (
15:45:47   4  	in_year   IN NUMBER,
15:45:47   5  	in_month  IN NUMBER,
15:45:47   6  	out_year  OUT NUMBER,
15:45:47   7  	out_month OUT NUMBER
15:45:47   8  );
15:45:47   9  
15:45:47  10  PROCEDURE ADD_TABLE_PARTITION (
15:45:47  11  	in_tablename	   IN VARCHAR2,
15:45:47  12  	in_partitionprefix IN VARCHAR2,
15:45:47  13  	in_year 	   IN NUMBER,
15:45:47  14  	in_month	   IN NUMBER
15:45:47  15  );
15:45:47  16  
15:45:47  17  PROCEDURE ADD_ACCOUNT_PARTITION(
15:45:47  18  	in_year  IN NUMBER,
15:45:47  19  	in_month IN NUMBER
15:45:47  20  );
15:45:47  21  
15:45:47  22  PROCEDURE ADD_BILLING_LOG_PARTITION(
15:45:47  23  	in_year  IN NUMBER,
15:45:47  24  	in_month IN NUMBER
15:45:47  25  );
15:45:47  26  
15:45:47  27  PROCEDURE ADD_CREDIT_CARD_PARTITION(
15:45:47  28  	in_year  IN NUMBER,
15:45:47  29  	in_month IN NUMBER
15:45:47  30  );
15:45:47  31  
15:45:47  32  PROCEDURE ADD_GCERTIFICATE_PARTITION(
15:45:47  33  	in_year  IN NUMBER,
15:45:47  34  	in_month IN NUMBER
15:45:47  35  );
15:45:47  36  
15:45:47  37  PROCEDURE ADD_OFFER_CHAIN_PARTITION(
15:45:47  38  	in_year  IN NUMBER,
15:45:47  39  	in_month IN NUMBER
15:45:47  40  );
15:45:47  41  
15:45:47  42  PROCEDURE ADD_OFF_OFFER_CHAIN_PARTITION(
15:45:47  43  	in_year  IN NUMBER,
15:45:47  44  	in_month IN NUMBER
15:45:47  45  );
15:45:47  46  
15:45:47  47  PROCEDURE ADD_PAYPAL_PARTITION(
15:45:47  48  	in_year  IN NUMBER,
15:45:47  49  	in_month IN NUMBER
15:45:47  50  );
15:45:47  51  
15:45:47  52  PROCEDURE ADD_SUBSCRIPTION_PARTITION(
15:45:47  53  	in_year  IN NUMBER,
15:45:47  54  	in_month IN NUMBER
15:45:47  55  );
15:45:47  56  
15:45:47  57  PROCEDURE ADD_TRANSACTION_PARTITION(
15:45:47  58  	in_year  IN NUMBER,
15:45:47  59  	in_month IN NUMBER
15:45:47  60  );
15:45:47  61  
15:45:47  62  PROCEDURE ADD_INVOICE_PARTITION(
15:45:47  63  	in_year  IN NUMBER,
15:45:47  64  	in_month IN NUMBER
15:45:47  65  );
15:45:47  66  
15:45:47  67  PROCEDURE ADD_LICENSE_PARTITION(
15:45:47  68  	in_year  IN NUMBER,
15:45:47  69  	in_month IN NUMBER
15:45:47  70  );
15:45:47  71  
15:45:47  72  PROCEDURE ADD_CHARGE_PARTITION(
15:45:47  73  	in_year  IN NUMBER,
15:45:47  74  	in_month IN NUMBER
15:45:47  75  );
15:45:47  76  
15:45:47  77  PROCEDURE ADD_NOTIFICATION_PARTITION(
15:45:47  78  	in_year  IN NUMBER,
15:45:47  79  	in_month IN NUMBER
15:45:47  80  );
15:45:47  81  
15:45:47  82  PROCEDURE ADD_NOTIF_FAILURE_PARTITION(
15:45:47  83  	in_year  IN NUMBER,
15:45:47  84  	in_month IN NUMBER
15:45:47  85  );
15:45:47  86  
15:45:47  87  END PROCS_PARTITIONS_V17;
15:45:47  88  .
15:45:47 SQL> /

Package created.

Elapsed: 00:00:00.04
15:45:47 SQL> 
15:45:47 SQL> CREATE OR REPLACE PACKAGE BODY "PROCS_PARTITIONS_V17" AS
15:45:47   2  
15:45:47   3  PROCEDURE GET_PARTITION_YEAR_MONTH (
15:45:47   4  	in_year   IN NUMBER,
15:45:47   5  	in_month  IN NUMBER,
15:45:47   6  	out_year  OUT NUMBER,
15:45:47   7  	out_month OUT NUMBER
15:45:47   8  ) AS
15:45:47   9  BEGIN
15:45:47  10  	IF in_month < 12 THEN
15:45:47  11  	  out_month := in_month + 1;
15:45:47  12  	  out_year  := in_year;
15:45:47  13  	ELSIF in_month = 12 THEN
15:45:47  14  	  out_month := 1;
15:45:47  15  	  out_year  := in_year + 1;
15:45:47  16  	ELSE
15:45:47  17  	  out_month := in_month;
15:45:47  18  	  out_year  := in_year;
15:45:47  19  	END IF;
15:45:47  20  END;
15:45:47  21  
15:45:47  22  /**************************************************************/
15:45:47  23  
15:45:47  24  PROCEDURE ADD_TABLE_PARTITION (
15:45:47  25  	in_tablename	   IN VARCHAR2,
15:45:47  26  	in_partitionprefix IN VARCHAR2,
15:45:47  27  	in_year 	   IN NUMBER,
15:45:47  28  	in_month	   IN NUMBER
15:45:47  29  ) AS
15:45:47  30  -- VARIABLES
15:45:47  31  partision_year  NUMBER;
15:45:47  32  partision_month NUMBER;
15:45:47  33  -- CONSTANTS
15:45:47  34  const_max_prefix CONSTANT VARCHAR(3) := 'max';
15:45:47  35  BEGIN
15:45:47  36  	GET_PARTITION_YEAR_MONTH(in_year, in_month, partision_year, partision_month);
15:45:47  37  	EXECUTE IMMEDIATE 'ALTER TABLE '||in_tablename||' SPLIT PARTITION '||in_partitionprefix||'_'||const_max_prefix||' AT (date '''||partision_year||'-'||partision_month||'-01'') INTO (PARTITION '||in_partitionprefix||'_y'||in_year||'m'||in_month||', PARTITION '||in_partitionprefix||'_'||const_max_prefix||')';
15:45:47  38  END;
15:45:47  39  
15:45:47  40  /**************************************************************/
15:45:47  41  
15:45:47  42  PROCEDURE ADD_ACCOUNT_PARTITION(
15:45:47  43  	in_year  IN NUMBER,
15:45:47  44  	in_month IN NUMBER
15:45:47  45  ) AS
15:45:47  46  -- CONSTANTS
15:45:47  47  CONST_TABLE_NAME	     CONSTANT VARCHAR2(15) := 'ACCOUNT_HISTORY';
15:45:47  48  CONST_PARTITION_PREFIX CONSTANT VARCHAR2(7)  := 'account';
15:45:47  49  BEGIN
15:45:47  50  	ADD_TABLE_PARTITION(CONST_TABLE_NAME, CONST_PARTITION_PREFIX, in_year, in_month);
15:45:47  51  END ADD_ACCOUNT_PARTITION;
15:45:47  52  
15:45:47  53  /**************************************************************/
15:45:47  54  
15:45:47  55  PROCEDURE ADD_BILLING_LOG_PARTITION(
15:45:47  56  	in_year  IN NUMBER,
15:45:47  57  	in_month IN NUMBER
15:45:47  58  ) AS
15:45:47  59  -- CONSTANTS
15:45:47  60  CONST_TABLE_NAME	     CONSTANT VARCHAR2(28) := 'BILLING_ACTIVITY_LOG_HISTORY';
15:45:47  61  CONST_PARTITION_PREFIX CONSTANT VARCHAR2(15) := 'billing_act_log';
15:45:47  62  BEGIN
15:45:47  63  	ADD_TABLE_PARTITION(CONST_TABLE_NAME, CONST_PARTITION_PREFIX, in_year, in_month);
15:45:47  64  END ADD_BILLING_LOG_PARTITION;
15:45:47  65  
15:45:47  66  /**************************************************************/
15:45:47  67  
15:45:47  68  PROCEDURE ADD_CREDIT_CARD_PARTITION(
15:45:47  69  	in_year  IN NUMBER,
15:45:47  70  	in_month IN NUMBER
15:45:47  71  ) AS
15:45:47  72  -- CONSTANTS
15:45:47  73  CONST_TABLE_NAME	     CONSTANT VARCHAR2(19) := 'CREDIT_CARD_HISTORY';
15:45:47  74  CONST_PARTITION_PREFIX CONSTANT VARCHAR2(11) := 'credit_card';
15:45:47  75  BEGIN
15:45:47  76  	ADD_TABLE_PARTITION(CONST_TABLE_NAME, CONST_PARTITION_PREFIX, in_year, in_month);
15:45:47  77  END ADD_CREDIT_CARD_PARTITION;
15:45:47  78  
15:45:47  79  /**************************************************************/
15:45:47  80  
15:45:47  81  PROCEDURE ADD_GCERTIFICATE_PARTITION(
15:45:47  82  	in_year  IN NUMBER,
15:45:47  83  	in_month IN NUMBER
15:45:47  84  ) AS
15:45:47  85  -- CONSTANTS
15:45:47  86  CONST_TABLE_NAME	     CONSTANT VARCHAR2(24) := 'GIFT_CERTIFICATE_HISTORY';
15:45:47  87  CONST_PARTITION_PREFIX CONSTANT VARCHAR2(16) := 'gift_certificate';
15:45:47  88  BEGIN
15:45:47  89  	ADD_TABLE_PARTITION(CONST_TABLE_NAME, CONST_PARTITION_PREFIX, in_year, in_month);
15:45:47  90  END ADD_GCERTIFICATE_PARTITION;
15:45:47  91  
15:45:47  92  /**************************************************************/
15:45:47  93  
15:45:47  94  PROCEDURE ADD_OFFER_CHAIN_PARTITION(
15:45:47  95  	in_year  IN NUMBER,
15:45:47  96  	in_month IN NUMBER
15:45:47  97  ) AS
15:45:47  98  -- CONSTANTS
15:45:47  99  CONST_TABLE_NAME	     CONSTANT VARCHAR2(19) := 'OFFER_CHAIN_HISTORY';
15:45:47 100  CONST_PARTITION_PREFIX CONSTANT VARCHAR2(11) := 'offer_chain';
15:45:47 101  BEGIN
15:45:47 102  	ADD_TABLE_PARTITION(CONST_TABLE_NAME, CONST_PARTITION_PREFIX, in_year, in_month);
15:45:47 103  END ADD_OFFER_CHAIN_PARTITION;
15:45:47 104  
15:45:47 105  /**************************************************************/
15:45:47 106  
15:45:47 107  PROCEDURE ADD_OFF_OFFER_CHAIN_PARTITION(
15:45:47 108  	in_year  IN NUMBER,
15:45:47 109  	in_month IN NUMBER
15:45:47 110  ) AS
15:45:47 111  -- CONSTANTS
15:45:47 112  CONST_TABLE_NAME	     CONSTANT VARCHAR2(25) := 'OFFER_OFFER_CHAIN_HISTORY';
15:45:47 113  CONST_PARTITION_PREFIX CONSTANT VARCHAR2(17) := 'offer_offer_chain';
15:45:47 114  BEGIN
15:45:47 115  	ADD_TABLE_PARTITION(CONST_TABLE_NAME, CONST_PARTITION_PREFIX, in_year, in_month);
15:45:47 116  END ADD_OFF_OFFER_CHAIN_PARTITION;
15:45:47 117  
15:45:47 118  /**************************************************************/
15:45:47 119  
15:45:47 120  PROCEDURE ADD_PAYPAL_PARTITION(
15:45:47 121  	in_year  IN NUMBER,
15:45:47 122  	in_month IN NUMBER
15:45:47 123  ) AS
15:45:47 124  -- CONSTANTS
15:45:47 125  CONST_TABLE_NAME	     CONSTANT VARCHAR2(14) := 'PAYPAL_HISTORY';
15:45:47 126  CONST_PARTITION_PREFIX CONSTANT VARCHAR2(6)  := 'paypal';
15:45:47 127  BEGIN
15:45:47 128  	ADD_TABLE_PARTITION(CONST_TABLE_NAME, CONST_PARTITION_PREFIX, in_year, in_month);
15:45:47 129  END ADD_PAYPAL_PARTITION;
15:45:47 130  
15:45:47 131  /**************************************************************/
15:45:47 132  
15:45:47 133  PROCEDURE ADD_SUBSCRIPTION_PARTITION(
15:45:47 134  	in_year  IN NUMBER,
15:45:47 135  	in_month IN NUMBER
15:45:47 136  ) AS
15:45:47 137  -- CONSTANTS
15:45:47 138  CONST_TABLE_NAME	     CONSTANT VARCHAR2(20) := 'SUBSCRIPTION_HISTORY';
15:45:47 139  CONST_PARTITION_PREFIX CONSTANT VARCHAR2(12) := 'subscription';
15:45:47 140  BEGIN
15:45:47 141  	ADD_TABLE_PARTITION(CONST_TABLE_NAME, CONST_PARTITION_PREFIX, in_year, in_month);
15:45:47 142  END ADD_SUBSCRIPTION_PARTITION;
15:45:47 143  
15:45:47 144  /**************************************************************/
15:45:47 145  
15:45:47 146  PROCEDURE ADD_TRANSACTION_PARTITION(
15:45:47 147  	in_year  IN NUMBER,
15:45:47 148  	in_month IN NUMBER
15:45:47 149  ) AS
15:45:47 150  -- CONSTANTS
15:45:47 151  CONST_TABLE_NAME	     CONSTANT VARCHAR2(19) := 'TRANSACTION_HISTORY';
15:45:47 152  CONST_PARTITION_PREFIX CONSTANT VARCHAR2(11) := 'transaction';
15:45:47 153  BEGIN
15:45:47 154  	ADD_TABLE_PARTITION(CONST_TABLE_NAME, CONST_PARTITION_PREFIX, in_year, in_month);
15:45:47 155  END ADD_TRANSACTION_PARTITION;
15:45:47 156  
15:45:47 157  /**************************************************************/
15:45:47 158  
15:45:47 159  PROCEDURE ADD_INVOICE_PARTITION(
15:45:47 160  	in_year  IN NUMBER,
15:45:47 161  	in_month IN NUMBER
15:45:47 162  ) AS
15:45:47 163  -- CONSTANTS
15:45:47 164  CONST_TABLE_NAME	     CONSTANT VARCHAR2(15) := 'INVOICE_HISTORY';
15:45:47 165  CONST_PARTITION_PREFIX CONSTANT VARCHAR2(7) := 'invoice';
15:45:47 166  BEGIN
15:45:47 167  	ADD_TABLE_PARTITION(CONST_TABLE_NAME, CONST_PARTITION_PREFIX, in_year, in_month);
15:45:47 168  END ADD_INVOICE_PARTITION;
15:45:47 169  
15:45:47 170  /**************************************************************/
15:45:47 171  
15:45:47 172  PROCEDURE ADD_LICENSE_PARTITION(
15:45:47 173  	in_year  IN NUMBER,
15:45:47 174  	in_month IN NUMBER
15:45:47 175  ) AS
15:45:47 176  -- CONSTANTS
15:45:47 177  CONST_TABLE_NAME	     CONSTANT VARCHAR2(15) := 'LICENSE_HISTORY';
15:45:47 178  CONST_PARTITION_PREFIX CONSTANT VARCHAR2(7) := 'license';
15:45:47 179  BEGIN
15:45:47 180  	ADD_TABLE_PARTITION(CONST_TABLE_NAME, CONST_PARTITION_PREFIX, in_year, in_month);
15:45:47 181  END ADD_LICENSE_PARTITION;
15:45:47 182  
15:45:47 183  /**************************************************************/
15:45:47 184  
15:45:47 185  PROCEDURE ADD_CHARGE_PARTITION(
15:45:47 186  	in_year  IN NUMBER,
15:45:47 187  	in_month IN NUMBER
15:45:47 188  ) AS
15:45:47 189  -- CONSTANTS
15:45:47 190  CONST_TABLE_NAME	     CONSTANT VARCHAR2(15) := 'CHARGE_HISTORY';
15:45:47 191  CONST_PARTITION_PREFIX CONSTANT VARCHAR2(7) := 'charge';
15:45:47 192  BEGIN
15:45:47 193  	ADD_TABLE_PARTITION(CONST_TABLE_NAME, CONST_PARTITION_PREFIX, in_year, in_month);
15:45:47 194  END ADD_CHARGE_PARTITION;
15:45:47 195  
15:45:47 196  /**************************************************************/
15:45:47 197  
15:45:47 198  PROCEDURE ADD_NOTIFICATION_PARTITION(
15:45:47 199  	in_year  IN NUMBER,
15:45:47 200  	in_month IN NUMBER
15:45:47 201  ) AS
15:45:47 202  -- CONSTANTS
15:45:47 203  	CONST_TABLE_NAME       CONSTANT VARCHAR2(20) := 'NOTIFICATION_HISTORY';
15:45:47 204  	CONST_PARTITION_PREFIX CONSTANT VARCHAR2(12)  := 'notification';
15:45:47 205  BEGIN
15:45:47 206  	ADD_TABLE_PARTITION(CONST_TABLE_NAME, CONST_PARTITION_PREFIX, in_year, in_month);
15:45:47 207  END ADD_NOTIFICATION_PARTITION;
15:45:47 208  
15:45:47 209  /**************************************************************/
15:45:47 210  
15:45:47 211  PROCEDURE ADD_NOTIF_FAILURE_PARTITION(
15:45:47 212  	in_year  IN NUMBER,
15:45:47 213  	in_month IN NUMBER
15:45:47 214  ) AS
15:45:47 215  -- CONSTANTS
15:45:47 216  	CONST_TABLE_NAME       CONSTANT VARCHAR2(28) := 'NOTIFICATION_FAILURE_HISTORY';
15:45:47 217  	CONST_PARTITION_PREFIX CONSTANT VARCHAR2(20) := 'notification_failure';
15:45:47 218  BEGIN
15:45:47 219  	ADD_TABLE_PARTITION(CONST_TABLE_NAME, CONST_PARTITION_PREFIX, in_year, in_month);
15:45:47 220  END ADD_NOTIF_FAILURE_PARTITION;
15:45:47 221  
15:45:47 222  END PROCS_PARTITIONS_V17;
15:45:47 223  .
15:45:47 SQL> /

Package body created.

Elapsed: 00:00:00.07
15:45:47 SQL> 
15:45:47 SQL> --------------------------------------------------------------------------------
15:45:47 SQL> -- DDL for package PROCS_SYSTEM
15:45:47 SQL> --------------------------------------------------------------------------------
15:45:47 SQL> 
15:45:47 SQL> CREATE OR REPLACE PACKAGE "PROCS_SYSTEM_V17" AS
15:45:47   2  
15:45:47   3  PROCEDURE INCREMENT_VERSION;
15:45:47   4  
15:45:47   5  PROCEDURE CHECK_VERSION(
15:45:47   6  	  in_vers    IN NUMBER,
15:45:47   7  	  out_result OUT NUMBER
15:45:47   8  );
15:45:47   9  
15:45:47  10  END PROCS_SYSTEM_V17;
15:45:47  11  .
15:45:47 SQL> /

Package created.

Elapsed: 00:00:00.10
15:45:47 SQL> 
15:45:47 SQL> CREATE OR REPLACE PACKAGE BODY "PROCS_SYSTEM_V17" AS
15:45:47   2  
15:45:47   3  PROCEDURE INCREMENT_VERSION
15:45:47   4  /*
15:45:47   5  Throws exceptions:
15:45:47   6  CORE_OWNER.APP_EXCEPTION_CODES_V17.UNKNOWN_ERROR
15:45:47   7  */
15:45:47   8  AS
15:45:47   9  BEGIN
15:45:47  10  
15:45:47  11  	UPDATE SYS_VERSION SET version=version+1;
15:45:47  12  
15:45:47  13  EXCEPTION
15:45:47  14  WHEN OTHERS THEN
15:45:47  15  	RAISE_APPLICATION_ERROR(CORE_OWNER.APP_EXCEPTION_CODES_V17.UNKNOWN_ERROR,
15:45:47  16  	  'Unknown error');
15:45:47  17  END INCREMENT_VERSION;
15:45:47  18  
15:45:47  19  /*************************************************************/
15:45:47  20  
15:45:47  21  PROCEDURE CHECK_VERSION(
15:45:47  22  	  in_vers    IN NUMBER,
15:45:47  23  	  out_result OUT NUMBER
15:45:47  24  ) AS
15:45:47  25  	current_version NUMBER;
15:45:47  26  BEGIN
15:45:47  27  	SELECT version INTO current_version FROM SYS_VERSION;
15:45:47  28  	IF(current_version != in_vers) THEN
15:45:47  29  	  out_result := 1;
15:45:47  30  	ELSE
15:45:47  31  	  out_result := 0;
15:45:47  32  	END IF;
15:45:47  33  	EXCEPTION
15:45:47  34  	      WHEN OTHERS THEN
15:45:47  35  	      NULL;
15:45:47  36  END CHECK_VERSION;
15:45:47  37  
15:45:47  38  END PROCS_SYSTEM_V17;
15:45:47  39  .
15:45:47 SQL> /

Package body created.

Elapsed: 00:00:00.02
15:45:47 SQL> 
15:45:47 SQL> grant execute on PUBLIC_PROCS_CORE_V17 to core_owner;

Grant succeeded.

Elapsed: 00:00:00.04
15:45:47 SQL> grant execute on PUBLIC_PROCS_CORE_V17 to core_app;

Grant succeeded.

Elapsed: 00:00:00.00
15:45:47 SQL> GRANT EXECUTE ON PUBLIC_PROCS_CORE_V17 TO ops_owner;

Grant succeeded.

Elapsed: 00:00:00.01
15:45:47 SQL> GRANT EXECUTE ON PUBLIC_PROCS_CORE_V17 TO ops_aaa_app;

Grant succeeded.

Elapsed: 00:00:00.00
15:45:47 SQL> GRANT EXECUTE ON PUBLIC_PROCS_CORE_V17 TO ops_payment_app;

Grant succeeded.

Elapsed: 00:00:00.01
15:45:47 SQL> GRANT EXECUTE ON PUBLIC_PROCS_CORE_V17 TO ops_notif_app;

Grant succeeded.

Elapsed: 00:00:00.01
15:45:47 SQL> commit;

Commit complete.

Elapsed: 00:00:00.00
15:45:47 SQL> spool off;


Subject: Nomad upgrade completed successfully: ECST2@rac01.stg.ewr1.nytimes.com
From: Nomad for Oracle <nytd_oracledba@nytimes.com>
To: nytd_ecommerce@nytimes.com,nytd_oracledba@nytimes.com
Cc: nytd_oracledba@nytimes.com
Nomad upgrade operation completed successfully without errors. 
        
        Details
        -------
        DB Hostname: rac01.stg.ewr1.nytimes.com
        SID: ECST2
        Schema: core_hist_owner
        Migration: 3.1-release-1.11.1-all
        SVN Revision: 10382
        Duration: 1 sec.
        Service Request: https://jira.em.nytimes.com/browse/ORA-339